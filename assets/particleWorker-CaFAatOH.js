(function(){"use strict";self.onmessage=r=>{const{imageBitmap:f,width:a,height:s}=r.data,o=new OffscreenCanvas(a,s).getContext("2d");o.drawImage(f,0,0);const n=o.getImageData(0,0,a,s),c=[];for(let t=0;t<s;t+=4)for(let e=0;e<a;e+=4){const g={x0:e,y0:t,x1:a/2,y1:-s*.3,color:`rgb(${n.data[t*4*a+e*4]}, ${n.data[t*4*a+e*4+1]}, ${n.data[t*4*a+e*4+2]})`,speed:Math.random()*2+1.5};c.push(g)}self.postMessage(c)}})();
