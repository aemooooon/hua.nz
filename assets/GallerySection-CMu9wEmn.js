import{r as P,j as r}from"./react-C4wAxbNA.js";import{P as Ze}from"./vendor-BBRlQ_zh.js";import{H as Ye,J as Je,S as Ve,C as Qe,b as et,K as We,X as tt,W as nt,Y as st,p as Ie,Z as at,_ as ot,f as rt,D as Re,$ as F,a0 as me,M as E,P as V,T as je,w as Q,F as pe,g as De,a1 as Ee,x as Ne,k as Te,a2 as se,a3 as ue,a4 as Ce,L as Fe,j as Ge}from"./three-Hf6x_wfq.js";import{u as ae,C as it}from"./index-BEjmOJA4.js";import"./leaflet-BcfEFI1A.js";const ct=({language:B="en"})=>{var ke,Me,Pe,Le,ve,Se,ze;const[J,oe]=P.useState(!0),[O,Be]=P.useState(!1),[re,He]=P.useState(!1),[fe,Ke]=P.useState(!1);P.useEffect(()=>{const g=()=>{const Z=window.innerWidth<=768||"ontouchstart"in window;Ke(Z)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const X=ae(g=>g.getAllGalleryItems()),we=ae(g=>g.texts),ee=ae(g=>g.isPointerLocked),ie=ae(g=>g.setIsPointerLocked),ce=P.useRef(null),_=P.useRef(null),U=P.useRef(null),q=P.useRef(null),N=P.useRef(null),te=P.useRef(null),Ue=P.useRef(new Ye),xe=P.useRef(null),ge=P.useRef([]),ye=P.useRef(null),be=P.useRef([]),Oe=P.useRef(null),_e=P.useRef(null),T=P.useRef({w:!1,a:!1,s:!1,d:!1,ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1});return P.useEffect(()=>{if(!ce.current)return;const g=ce.current,Z=s=>{const t=new Ee;s.add(t),xe.current=t;const i=32,d=64,k=new V(i,d),h=(()=>{const f=document.createElement("canvas"),o=1024;f.width=o,f.height=o;const n=f.getContext("2d"),v="#e8e8e8",b=["#f0f0f0","#e0e0e0","#dcdcdc","#f5f5f5","#efefef"];n.fillStyle=v,n.fillRect(0,0,o,o);for(let M=0;M<2e3;M++){const y=Math.random()*o,I=Math.random()*o,H=Math.random()*8+2,C=Math.random()*.3+.1;n.globalAlpha=C,n.fillStyle=b[Math.floor(Math.random()*b.length)],n.beginPath(),n.arc(y,I,H,0,Math.PI*2),n.fill()}n.globalAlpha=.15,n.strokeStyle="#d0d0d0",n.lineWidth=1;for(let M=0;M<50;M++){const y=Math.random()*o,I=Math.random()*o,H=Math.random()*100+50,C=Math.random()*Math.PI*2;n.beginPath(),n.moveTo(y,I),n.lineTo(y+Math.cos(C)*H,I+Math.sin(C)*H),n.stroke()}const D=n.createRadialGradient(o/2,o/2,0,o/2,o/2,o/2);D.addColorStop(0,"rgba(255, 255, 255, 0.1)"),D.addColorStop(.5,"rgba(255, 255, 255, 0.05)"),D.addColorStop(1,"rgba(255, 255, 255, 0)"),n.globalAlpha=1,n.fillStyle=D,n.fillRect(0,0,o,o),n.globalAlpha=.08;for(let M=0;M<20;M++){const y=Math.random()*o,I=Math.random()*o,H=Math.random()*3+1;n.fillStyle="#00ffaa",n.beginPath(),n.arc(y,I,H,0,Math.PI*2),n.fill()}n.globalAlpha=1;const z=new Te(f);return z.wrapS=se,z.wrapT=se,z.repeat.set(6,6),z})(),S=new me({map:h,color:16777215,metalness:.1,roughness:.6,envMapIntensity:.8}),A=new E(k,S);A.rotation.x=-Math.PI/2,A.position.y=-2,A.receiveShadow=!0,s.add(A);const K=(()=>{const f=document.createElement("canvas"),o=1024;f.width=o,f.height=o;const n=f.getContext("2d");n.fillStyle="#f8f8f8",n.fillRect(0,0,o,o);const v=64,b=2;n.strokeStyle="#e0e0e0",n.lineWidth=b;for(let z=0;z<=o;z+=v)n.beginPath(),n.moveTo(z,0),n.lineTo(z,o),n.stroke();for(let z=0;z<=o;z+=v)n.beginPath(),n.moveTo(0,z),n.lineTo(o,z),n.stroke();const D=new Te(f);return D.wrapS=se,D.wrapT=se,D.repeat.set(4,4),D})(),R=new E(new V(i,d),new Q({map:K,color:16777215,transparent:!1,side:Ne}));R.rotation.x=Math.PI/2,R.position.y=8,R.receiveShadow=!0,s.add(R);const L=new Q({color:16316664,side:pe,transparent:!1}),W=32,p=64,e=12,a=.5,c=new E(new F(W,e,a),L);c.position.set(0,3,-32),c.receiveShadow=!0,c.castShadow=!1,t.add(c),s.add(c);const u=new E(new F(10,e,a),L);u.position.set(-11,3,32),u.receiveShadow=!0,u.castShadow=!1,t.add(u),s.add(u);const w=new E(new F(10,e,a),L);w.position.set(11,3,32),w.receiveShadow=!0,w.castShadow=!1,t.add(w),s.add(w);const l=new E(new F(a,e,p),L);l.position.set(-16,3,0),l.receiveShadow=!0,l.castShadow=!1,t.add(l),s.add(l);const x=new E(new F(a,e,p),L);x.position.set(16,3,0),x.receiveShadow=!0,x.castShadow=!1,t.add(x),s.add(x)},j=(s,t=null)=>{if(!X||X.length===0){for(let p=0;p<6;p++){const e=new V(3,2),a=new Q({color:6710886}),c=new E(e,a);p<3?(c.position.set(-6+p*6,3,-14.9),c.rotation.y=0):(c.position.set(-14.9,3,-6+(p-3)*6),c.rotation.y=Math.PI/2),s.add(c)}return}const i=Math.min(X.length,20),d=2.2,k=4,m=1.6,h=async()=>{const p=[];for(let e=0;e<Math.min(X.length,i);e++){const a=X[e];if(a.src||a.thumbnail)try{const c=await G(a.src||a.thumbnail),u=c.width/c.height;p.push({index:e,item:a,aspectRatio:u,isPortrait:u<.8,isLandscape:u>1.3,isSquare:u>=.8&&u<=1.3})}catch{p.push({index:e,item:a,aspectRatio:1,isPortrait:!1,isLandscape:!1,isSquare:!0})}}return p},S=p=>{const e={backWall:[],rightWall:[],leftWall:[],frontWall:[]},a=p.filter(o=>o.isPortrait),c=p.filter(o=>!o.isPortrait),u=a.slice(0,3);if(e.backWall=u,u.length<3){const o=3-u.length,n=c.slice(0,o);e.backWall.push(...n),n.forEach(v=>{const b=c.indexOf(v);b>-1&&c.splice(b,1)})}const w=a.slice(3,5);if(e.frontWall=w,w.length<2){const o=2-w.length,n=c.slice(0,o);e.frontWall.push(...n),n.forEach(v=>{const b=c.indexOf(v);b>-1&&c.splice(b,1)})}const l=[...u,...w],f=[...a.filter(o=>!l.some(n=>n.index===o.index)),...c];return e.rightWall=f.slice(0,6),e.leftWall=f.slice(6,12),e},A=async()=>{const p=await h(),e=S(p),a=new je(t||void 0),c=new Map,u=async(l,x,f)=>{const o=l.item,n=l.aspectRatio;let v,b;n>1.5?(v=Math.min(k,d*n*.8),b=v/n):n<.7?(b=d,v=b*n):(b=d*.9,v=b*n);const D=new V(v,b),z=new Ce({color:16777215,metalness:0,roughness:.15,clearcoat:.1,clearcoatRoughness:.1,reflectivity:.3,emissive:1052688,emissiveIntensity:.02,side:Ne}),M=new E(D,z),y=W(M,v,b),I=31.5,H=15.5;switch(x){case"backWall":y.position.set(-10+f*10,m,-31.5),y.rotation.y=0;break;case"rightWall":y.position.set(H,m,-27.5+f*11),y.rotation.y=-Math.PI/2;break;case"leftWall":y.position.set(-15.5,m,27.5-f*11),y.rotation.y=Math.PI/2;break;case"frontWall":f===0?y.position.set(-12,m,I):y.position.set(12,m,I),y.rotation.y=Math.PI;break}y.castShadow=!1,y.receiveShadow=!1,s.add(y),be.current.push({mesh:y,position:y.position.clone(),painting:M}),setTimeout(()=>{K(y)},100);const C=o.src||o.thumbnail;if(c.has(C))M.material.map=c.get(C),M.material.color.setHex(16777215),M.material.needsUpdate=!0;else try{await(le=>new Promise((de,Xe)=>{const he=new Image;he.onload=()=>de(!0),he.onerror=()=>Xe(!1),he.src=le}))(C);const Y=await new Promise((le,de)=>{a.load(C,le,void 0,de)});Y.generateMipmaps=!1,Y.minFilter=Fe,Y.magFilter=Fe,Y.colorSpace=Ie,c.set(C,Y),M.material.map=Y,M.material.color.setHex(16777215),M.material.needsUpdate=!0}catch{M.material.color.setHex(6710886),M.material.needsUpdate=!0}},w=[...e.backWall.map((l,x)=>({data:l,wallType:"backWall",index:x})),...e.rightWall.map((l,x)=>({data:l,wallType:"rightWall",index:x})),...e.leftWall.map((l,x)=>({data:l,wallType:"leftWall",index:x})),...e.frontWall.map((l,x)=>({data:l,wallType:"frontWall",index:x}))];for(let l=0;l<w.length;l+=4){const x=w.slice(l,l+4);await Promise.all(x.map(({data:f,wallType:o,index:n})=>u(f,o,n))),l+4<w.length&&await new Promise(f=>setTimeout(f,100))}},G=p=>new Promise(e=>{const a=new Image;a.onload=()=>{e({width:a.width,height:a.height})},a.onerror=()=>{e({width:300,height:200})},a.src=p}),K=p=>{const e=new We(16775393,1.5,15,Math.PI/6,.15,1),a=p.position,c=p.rotation;let u=new Ge;const w=7,l=1.8;return Math.abs(c.y)<.1?u.set(a.x,w,a.z+l):Math.abs(c.y-Math.PI)<.1?u.set(a.x,w,a.z-l):Math.abs(c.y+Math.PI/2)<.1?u.set(a.x-l,w,a.z):Math.abs(c.y-Math.PI/2)<.1&&u.set(a.x+l,w,a.z),e.position.copy(u),e.target=p,e.castShadow=!1,e.userData={paintingPosition:a.clone(),baseIntensity:1,maxIntensity:8,activationDistance:6,optimalDistance:2},s.add(e),s.add(e.target),ge.current.push(e),e},R=.05,L=.1,W=(p,e=2.5,a=2)=>{const c=new Ee,u=new Ce({color:1710618,metalness:.8,roughness:.2,clearcoat:.3,clearcoatRoughness:.1,emissive:657930,emissiveIntensity:.05}),w=[new F(e+L*2,L,R),new F(e+L*2,L,R),new F(L,a,R),new F(L,a,R)],l=[{x:0,y:(a+L)/2,z:R/2},{x:0,y:-(a+L)/2,z:R/2},{x:-(e+L)/2,y:0,z:R/2},{x:(e+L)/2,y:0,z:R/2}];return w.forEach((x,f)=>{const o=new E(x,u);o.position.set(l[f].x,l[f].y,l[f].z),o.castShadow=!1,o.receiveShadow=!1,c.add(o)}),c.add(p),c};A()},$=(s,t)=>{const i=6*s,d=q.current,k=d.position.clone();(T.current.w||T.current.ArrowUp)&&t.moveForward(i),(T.current.s||T.current.ArrowDown)&&t.moveForward(-i),(T.current.d||T.current.ArrowRight)&&t.moveRight(i),(T.current.a||T.current.ArrowLeft)&&t.moveRight(-i),ne(d)&&d.position.copy(k),d.position.y=1.6,qe(d.position)},ne=s=>{const t=s.position,i=14.5,d=30.5;return t.x>i||t.x<-i||t.z>d||t.z<-d},qe=s=>{ge.current.forEach(t=>{const i=t.userData;if(!i||!i.paintingPosition)return;const d=s.distanceTo(i.paintingPosition);let k=i.baseIntensity;if(d<=i.activationDistance){const m=Math.max(0,(i.activationDistance-d)/i.activationDistance),h=i.maxIntensity-i.baseIntensity,S=Math.pow(m,1.5);k=i.baseIntensity+h*S,d<=i.optimalDistance&&(k=i.maxIntensity)}t.intensity=ue.lerp(t.intensity,k,.12)}),$e(s)},$e=s=>{const t=ye.current;if(!t)return;let i=1/0;be.current.forEach(k=>{const m=s.distanceTo(k.position);m<i&&(i=m)});const d=q.current;if(d){const k=new Ge;d.getWorldDirection(k);const m=d.position.clone().add(k.multiplyScalar(10));t.target.position.copy(m),t.target.updateMatrixWorld()}if(i<=6){const m=3+Math.max(0,(6-i)/6)*12;t.intensity=ue.lerp(t.intensity,m,.1)}else t.intensity=ue.lerp(t.intensity,1.5,.1)},Ae=()=>{const s=q.current;if(!s)return;const t={phase1:{duration:2500,startPos:{x:0,y:1.6,z:15},endPos:{x:0,y:1.6,z:12},startLookAt:{x:0,y:8,z:0},endLookAt:{x:0,y:8,z:0}},phase2:{duration:3e3,startPos:{x:0,y:1.6,z:12},endPos:{x:0,y:1.6,z:5},startLookAt:{x:0,y:8,z:0},endLookAt:{x:0,y:4,z:0}},phase3:{duration:2e3,startPos:{x:0,y:1.6,z:5},endPos:{x:0,y:1.6,z:0},startLookAt:{x:0,y:4,z:0},endLookAt:{x:0,y:1.6,z:-1}}};s.position.set(t.phase1.startPos.x,t.phase1.startPos.y,t.phase1.startPos.z),s.lookAt(t.phase1.startLookAt.x,t.phase1.startLookAt.y,t.phase1.startLookAt.z);let i=1,d=Date.now();const k=h=>{const S=Date.now()-d,A=Math.min(S/h.duration,1),G=A<.5?4*A*A*A:1-Math.pow(-2*A+2,3)/2;s.position.x=h.startPos.x+(h.endPos.x-h.startPos.x)*G,s.position.y=h.startPos.y+(h.endPos.y-h.startPos.y)*G,s.position.z=h.startPos.z+(h.endPos.z-h.startPos.z)*G;const K={x:h.startLookAt.x+(h.endLookAt.x-h.startLookAt.x)*G,y:h.startLookAt.y+(h.endLookAt.y-h.startLookAt.y)*G,z:h.startLookAt.z+(h.endLookAt.z-h.startLookAt.z)*G};return s.lookAt(K.x,K.y,K.z),A>=1},m=()=>{let h=!1;switch(i){case 1:h=k(t.phase1),h&&(i=2,d=Date.now());break;case 2:h=k(t.phase2),h&&(i=3,d=Date.now());break;case 3:if(h=k(t.phase3),h){Be(!0),oe(!1),setTimeout(()=>{He(!0)},9e3),N.current&&(N.current.getObject().position.copy(s.position),N.current.connect=N.current.connect.__original||N.current.connect);return}break}Oe.current=requestAnimationFrame(m)};m()};return(()=>{try{const s=new Je;_e.current=s,s.onLoad=()=>{requestAnimationFrame(()=>{U.current&&_.current&&q.current?(U.current.render(_.current,q.current),requestAnimationFrame(()=>{setTimeout(()=>{Ae()},300)})):setTimeout(()=>{Ae()},500)})},s.onError=()=>{};const t=new Ve;t.background=new Qe(1710618),_.current=t;const i=new et(75,g.clientWidth/g.clientHeight,.1,1e3);i.position.set(0,1.6,0),q.current=i;const d=new We(16774374,6,15,Math.PI/5,.15,1.2);d.position.set(0,0,0),d.castShadow=!1;const k=new tt;d.target=k,i.add(d),t.add(k),t.add(i),ye.current=d;const m=new nt({antialias:!0,alpha:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1});if(m.setSize(g.clientWidth,g.clientHeight),m.setClearColor(15790320,1),m.shadowMap.enabled=!0,m.shadowMap.type=st,m.outputColorSpace=Ie,m.toneMapping=at,m.toneMappingExposure=1,!m.getContext())throw new Error("WebGL context creation failed");g.appendChild(m.domElement),U.current=m;const S=new ot(i,m.domElement);t.add(S.getObject()),N.current=S,S.addEventListener("lock",()=>{ie(!0)}),S.addEventListener("unlock",()=>{ie(!1)});const A=S.connect;S.connect.__original=A,S.connect=()=>{O&&A.call(S)};const G=W=>{const p=new rt(6316128,1.2);W.add(p);const e=new Re(16777215,.9);e.position.set(0,12,5),e.castShadow=!0,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=1024,e.shadow.camera.near=.5,e.shadow.camera.far=25,e.shadow.camera.left=-25,e.shadow.camera.right=25,e.shadow.camera.top=25,e.shadow.camera.bottom=-25,W.add(e);const a=new Re(16777215,.2);return a.position.set(-10,8,-10),W.add(a),[p,e,a]},K=W=>{const e=(()=>{const w=new F(12,12,.4),l=new me({color:16777215,emissive:16777215,emissiveIntensity:2}),x=new E(w,l);x.position.set(0,3,31.8),W.add(x);const o=(()=>{const D=new V(11,9),z="/gallery/Image_2025-08-11_154142_853.jpg",M=new je,y=new Q({color:4474111,emissive:2236996,emissiveIntensity:.3,transparent:!1,opacity:1,side:pe}),I=new E(D,y);return I.position.set(0,3,32-.4-.02),I.rotation.y=Math.PI,I.name="BaguaAdvertisement",W.add(I),M.load(z,H=>{const C=new Q({map:H,emissive:2236962,emissiveIntensity:.25,transparent:!1,opacity:1,side:pe});I.material=C},()=>{},()=>{}),I})();return[{pos:[0,3,32-.4-.8],intensity:1.8}].forEach(v=>{const b=new De(16777198,v.intensity,12);b.position.set(...v.pos),b.decay=1.8,W.add(b)}),{lightBox:x,lightboxAd:o}})();return{wallLightBox:e.lightBox,lightboxAd:e.lightboxAd}},R=()=>{const W=[];return[{start:{x:-3,z:2.25},end:{x:3,z:2.25},name:"王-上横"},{start:{x:-2.5,z:0},end:{x:2.5,z:0},name:"王-中横"},{start:{x:-3.5,z:-2.25},end:{x:3.5,z:-2.25},name:"王-下横"},{start:{x:0,z:2.25},end:{x:0,z:-2.25},name:"王-竖线"}].forEach(e=>{const a=Math.sqrt(Math.pow(e.end.x-e.start.x,2)+Math.pow(e.end.z-e.start.z,2));let c;e.name.includes("竖")?c=new F(.4,.2,a):c=new F(a,.2,.4);const u=new me({color:16777215,emissive:16777215,emissiveIntensity:2,transparent:!1}),w=new E(c,u),l=(e.start.x+e.end.x)/2,x=(e.start.z+e.end.z)/2;w.position.set(l,6,x),t.add(w);const f=new De(16777215,7,45);f.position.set(l,5.5,x),t.add(f),W.push({tube:w,name:e.name})}),W};G(t),K(t),R(),Z(t),j(t,s);const L=()=>{te.current=requestAnimationFrame(L);const W=Ue.current.getDelta();S.isLocked&&$(W,S),m.render(t,i)};L(),oe(!1)}catch(s){throw oe(!1),s}})(),()=>{te.current&&(cancelAnimationFrame(te.current),te.current=null),N.current&&(N.current.dispose(),N.current=null),_.current&&(_.current.traverse(s=>{s.geometry&&s.geometry.dispose(),s.material&&(Array.isArray(s.material)?s.material.forEach(t=>{t.map&&t.map.dispose(),t.normalMap&&t.normalMap.dispose(),t.roughnessMap&&t.roughnessMap.dispose(),t.dispose()}):(s.material.map&&s.material.map.dispose(),s.material.normalMap&&s.material.normalMap.dispose(),s.material.roughnessMap&&s.material.roughnessMap.dispose(),s.material.dispose()))}),_.current.clear(),_.current=null),U.current&&(g&&g.contains(U.current.domElement)&&g.removeChild(U.current.domElement),U.current.dispose(),U.current=null),q.current=null,xe.current=null}},[X,O,ie]),P.useEffect(()=>{const g=j=>{var ne;const $=j.code==="KeyW"?"w":j.code==="KeyA"?"a":j.code==="KeyS"?"s":j.code==="KeyD"?"d":j.key.toLowerCase();$ in T.current&&(T.current[$]=!0),j.key==="Escape"&&((ne=N.current)!=null&&ne.isLocked)&&N.current.unlock()},Z=j=>{const $=j.code==="KeyW"?"w":j.code==="KeyA"?"a":j.code==="KeyS"?"s":j.code==="KeyD"?"d":j.key;$ in T.current&&(T.current[$]=!1)};return document.addEventListener("keydown",g),document.addEventListener("keyup",Z),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",Z)}},[]),r.jsxs("section",{id:"gallery",className:"min-h-screen flex flex-col justify-center items-center bg-gray-100 relative overflow-hidden",children:[(J||!O)&&r.jsx(it,{size:160,strokeWidth:12,showMask:!0,maskColor:"black-solid"}),r.jsx("div",{ref:ce,className:`w-full h-screen relative bg-gray-200 ${J||!O?"invisible":"visible"}`,style:{minHeight:"100vh"}}),r.jsxs("div",{className:`absolute bottom-6 left-6 bg-black/50 backdrop-blur-md rounded-xl p-4 text-white z-20 max-w-sm transition-all duration-1000 ${!J&&O&&re&&!ee?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:[r.jsx("p",{className:"text-lg font-medium mb-3",children:B==="zh"?"如何操作？":"How to Play?"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsx("span",{className:"w-2"}),B==="zh"?"点击进入长廊":"Tap to enter the gallery"]}),fe?r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"flex items-center",children:[r.jsx("span",{className:"w-2"}),B==="zh"?"拖拽屏幕 - 环视周围，探索画作":"Drag screen - Look around and explore"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("span",{className:"w-2"}),B==="zh"?"双指缩放 - 靠近或远离画作":"Pinch to zoom - Get closer to artworks"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("span",{className:"w-2"}),r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 mr-2 bg-white/20 rounded text-xs font-mono border border-white/30",children:"返回"}),r.jsx("span",{children:B==="zh"?"退出长廊模式":"Exit gallery mode"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"flex items-center",children:[r.jsx("span",{className:"w-2"}),B==="zh"?"鼠标 - 环视周围，探索画作":"Mouse - Look around and explore"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("span",{className:"w-2"}),r.jsxs("span",{className:"inline-flex items-center gap-1 mr-2",children:[r.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 bg-white/20 rounded text-xs font-mono border border-white/30",children:"W"}),r.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 bg-white/20 rounded text-xs font-mono border border-white/30",children:"A"}),r.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 bg-white/20 rounded text-xs font-mono border border-white/30",children:"S"}),r.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 bg-white/20 rounded text-xs font-mono border border-white/30",children:"D"})]}),r.jsx("span",{children:B==="zh"?"移动穿行长廊":"Move through the gallery"})]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("span",{className:"w-2"}),r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 mr-2 bg-white/20 rounded text-xs font-mono border border-white/30",children:"ESC"}),r.jsx("span",{children:B==="zh"?"退出指针锁定模式":"Exit pointer lock mode"})]})]})]})]}),r.jsx("div",{className:`absolute inset-0 flex items-center justify-center cursor-pointer z-10 transition-all duration-1000 ${!J&&O&&re&&!ee?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,onClick:()=>{var g;!J&&O&&re&&!ee&&((g=N.current)==null||g.lock())},children:r.jsxs("div",{className:`bg-white/10 backdrop-blur-md rounded-2xl p-8 text-center transition-all duration-300 border border-white/20 ${fe?"active:bg-white/20 active:scale-95":"hover:bg-white/20 hover:scale-105"}`,children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:((Pe=(Me=(ke=we[B])==null?void 0:ke.gallery)==null?void 0:Me.gallery3D)==null?void 0:Pe.title)||"浮生长廊"}),r.jsx("p",{className:"text-white/80 mb-6",children:((ze=(Se=(ve=(Le=we[B])==null?void 0:Le.gallery)==null?void 0:ve.gallery3D)==null?void 0:Se.instructions)==null?void 0:ze.clickToStart)||"点击进入"}),r.jsx("div",{className:"animate-bounce",children:r.jsxs("svg",{className:"w-8 h-8 text-white mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})}),ee&&r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-20",children:[r.jsx("div",{className:"w-2 h-2 bg-white rounded-full shadow-lg border border-white/30"}),r.jsx("div",{className:"absolute w-6 h-0.5 bg-white/60 rounded shadow-sm"}),r.jsx("div",{className:"absolute w-0.5 h-6 bg-white/60 rounded shadow-sm"}),r.jsx("div",{className:"absolute w-8 h-8 border border-white/20 rounded-full"})]})]})};ct.propTypes={language:Ze.string};export{ct as default};
