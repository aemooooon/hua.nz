import{j as d,r as c,F as Pe,a as Ne}from"./react-N-_5-tx-.js";import{P as m,l as ye}from"./vendor-RxfllKF0.js";import{u as Te,a as Se}from"./about-DvPcWx0J.js";import{C as je}from"./gallery-DvnffbyB.js";import{h as Oe,i as De,W as $e,N as ve,k as be,A as Be,v as le,P as Re,w as He,x as Q,F as ee,s as Ee,q as te,M as Fe,V as Ue,r as Ve}from"./three-CLFFVFAv.js";import{g as We}from"./gsap-CH_iu5NA.js";import{t as Ce}from"./texture-system-B7gLHjHy.js";class Ye{constructor(){this.activeResources=new Map,this.resourceCounter=0,this.isPageVisible=!document.hidden,this.lastActivityTime=Date.now(),this.initPageVisibilityListener(),this.initActivityListener()}initPageVisibilityListener(){typeof document<"u"&&document.addEventListener("visibilitychange",()=>{this.isPageVisible=!document.hidden,this.isPageVisible&&(this.refreshActiveResources(),this.lastActivityTime=Date.now())})}initActivityListener(){if(typeof document<"u"){const e=()=>{this.lastActivityTime=Date.now()};document.addEventListener("mousemove",e,{passive:!0}),document.addEventListener("mousedown",e,{passive:!0}),document.addEventListener("keydown",e,{passive:!0}),document.addEventListener("scroll",e,{passive:!0}),document.addEventListener("touchstart",e,{passive:!0})}}refreshActiveResources(){const e=Date.now();for(const[,t]of this.activeResources)t.persistent||(t.timestamp=e)}registerResources(e,t,n={}){const r=`${e}_${this.resourceCounter++}`;return this.activeResources.set(r,{componentId:e,resources:t,timestamp:Date.now(),persistent:n.persistent||!1}),r}cleanupByComponent(e){const t=[];for(const[n,r]of this.activeResources)r.componentId===e&&(this.disposeResources(r.resources),t.push(n));t.forEach(n=>this.activeResources.delete(n))}cleanup(e){const t=this.activeResources.get(e);t&&(this.disposeResources(t.resources),this.activeResources.delete(e))}disposeResources(e){e&&(e.renderer&&(e.renderer.dispose(),e.renderer.info&&e.renderer.info.reset()),e.scene&&this.disposeScene(e.scene),e.geometry&&(Array.isArray(e.geometry)?e.geometry.forEach(t=>t.dispose()):e.geometry.dispose()),e.materials&&(Array.isArray(e.materials)?e.materials.forEach(t=>this.disposeMaterial(t)):this.disposeMaterial(e.materials)),e.textures&&(Array.isArray(e.textures)?e.textures.forEach(t=>t.dispose()):e.textures.dispose()),e.gl&&e.gl.getExtension&&(e.buffers&&Object.values(e.buffers).forEach(t=>{t&&e.gl.deleteBuffer(t)}),e.programs&&Object.values(e.programs).forEach(t=>{t&&e.gl.deleteProgram(t)})))}disposeScene(e){if(e)for(e.traverse(t=>{t.geometry&&t.geometry.dispose(),t.material&&this.disposeMaterial(t.material),t.texture&&t.texture.dispose()});e.children.length>0;)e.remove(e.children[0])}disposeMaterial(e){if(e){if(Array.isArray(e)){e.forEach(t=>this.disposeMaterial(t));return}Object.keys(e).forEach(t=>{const n=e[t];n&&typeof n.dispose=="function"&&(n.image&&n.image.tagName==="VIDEO"&&(n.image.pause(),n.image.src="",n.image.load()),n.dispose())}),e.dispose()}}forceCleanupAll(){console.warn("üö® Âº∫Âà∂Ê∏ÖÁêÜÊâÄÊúâWebGLËµÑÊ∫ê");for(const[,e]of this.activeResources)this.disposeResources(e.resources);this.activeResources.clear(),typeof window<"u"&&window.gc&&setTimeout(()=>window.gc(),100)}getMemoryInfo(){const t={activeResourceGroups:this.activeResources.size,timestamp:Date.now(),persistentResources:0,temporaryResources:0,sectionBreakdown:{}};for(const[n,r]of this.activeResources){r.persistent?t.persistentResources++:t.temporaryResources++;const f=r.componentId;t.sectionBreakdown[f]||(t.sectionBreakdown[f]={count:0,persistent:0,temporary:0,resourceIds:[],lastActive:r.timestamp}),t.sectionBreakdown[f].count++,t.sectionBreakdown[f].resourceIds.push(n),t.sectionBreakdown[f].lastActive=Math.max(t.sectionBreakdown[f].lastActive,r.timestamp),r.persistent?t.sectionBreakdown[f].persistent++:t.sectionBreakdown[f].temporary++}return typeof window<"u"&&window.performance&&window.performance.memory&&(t.jsHeapSize=Math.round(window.performance.memory.usedJSHeapSize/1024/1024),t.jsHeapLimit=Math.round(window.performance.memory.totalJSHeapSize/1024/1024)),t.resourceStats=this.getResourceTypeStats(),t}getResourceTypeStats(){const e={renderers:0,scenes:0,geometries:0,materials:0,textures:0,webglContexts:0,canvas2dContexts:0};for(const[,t]of this.activeResources){const n=t.resources;n.renderer&&e.renderers++,n.scene&&e.scenes++,n.gl&&e.webglContexts++,n.context2d&&e.canvas2dContexts++,n.geometry&&(e.geometries+=Array.isArray(n.geometry)?n.geometry.length:1),n.materials&&(e.materials+=Array.isArray(n.materials)?n.materials.length:1),n.textures&&(e.textures+=Array.isArray(n.textures)?n.textures.length:1)}return e}cleanupOldResources(e=3e5){if(this.isPageVisible||this.hasRecentActivity())return;const t=Date.now(),n=[];for(const[r,f]of this.activeResources){if(f.persistent)continue;const R=f.componentId&&f.componentId.includes("BackgroundCanvas")?18e5:e;t-f.timestamp>R&&(this.disposeResources(f.resources),n.push(r))}n.forEach(r=>this.activeResources.delete(r))}hasRecentActivity(){return typeof window<"u"?Date.now()-(this.lastActivityTime||0)<3e5:!1}getDebugInfo(){const e=Date.now(),t=[];for(const[n,r]of this.activeResources)t.push({id:n,componentId:r.componentId,persistent:r.persistent,age:Math.round((e-r.timestamp)/1e3),isBackgroundCanvas:r.componentId&&r.componentId.includes("BackgroundCanvas")});return{totalResources:this.activeResources.size,isPageVisible:this.isPageVisible,hasRecentActivity:this.hasRecentActivity(),lastActivityAge:Math.round((e-(this.lastActivityTime||0))/1e3),resources:t}}cleanupOtherSections(e,t=[]){if(!e)return;const n=new Set([e,...t]),r=[];let f=0;for(const[R,v]of this.activeResources)v.persistent||n.has(v.componentId)||(this.disposeResources(v.resources),r.push(R),f++);return r.forEach(R=>this.activeResources.delete(R)),f}}const X=new Ye;typeof window<"u"&&setInterval(()=>{X.cleanupOldResources()},3e5);function _(...g){return g.filter(Boolean).join(" ").trim()}const Me=({children:g,className:e,level:t=1,...n})=>{const r="text-theme-text-primary transition-colors duration-300",f={1:"text-4xl font-bold",2:"text-3xl font-semibold",3:"text-2xl font-medium",4:"text-xl font-medium",5:"text-lg font-medium",6:"text-base font-medium"},R=`h${t}`;return d.jsx(R,{className:_(r,f[t],e),...n,children:g})},Ae=({children:g,className:e,...t})=>d.jsx("p",{className:_("text-theme-text-secondary text-lg transition-colors duration-300",e),...t,children:g}),qe=({children:g,className:e,...t})=>d.jsx("p",{className:_("text-theme-text-muted transition-colors duration-300",e),...t,children:g});Me.propTypes={children:m.node.isRequired,className:m.string,level:m.oneOf([1,2,3,4,5,6])};Ae.propTypes={children:m.node.isRequired,className:m.string};qe.propTypes={children:m.node.isRequired,className:m.string};m.node.isRequired,m.string,m.bool;m.node.isRequired,m.string,m.oneOf(["primary","secondary","outline","ghost"]),m.oneOf(["sm","md","lg"]);m.node.isRequired,m.string;m.string,m.bool;m.node.isRequired,m.string;const ue=({children:g,content:e,placement:t="top",className:n,delay:r=300,...f})=>{const[R,v]=c.useState(!1),[j,z]=c.useState(t),y=c.useRef(null),P=c.useRef(null),L=c.useRef(null),N=()=>{L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{v(!0)},r)},Y=()=>{L.current&&clearTimeout(L.current),v(!1)};c.useEffect(()=>{if(R){const O=()=>{if(!y.current||!P.current)return;const b=y.current.getBoundingClientRect(),I=P.current.getBoundingClientRect(),$={width:window.innerWidth,height:window.innerHeight};let E=t;const T={top:b.top-I.height-8,bottom:b.bottom+8,left:b.left-I.width-8,right:b.right+8};switch(t){case"top":T.top<0&&(E="bottom");break;case"bottom":T.bottom+I.height>$.height&&(E="top");break;case"left":T.left<0&&(E="right");break;case"right":T.right+I.width>$.width&&(E="left");break}if(E==="left"||E==="right"){const B=b.top+b.height/2;(B-I.height/2<0||B+I.height/2>$.height)&&(E=T.top>=0?"top":"bottom")}z(E)};requestAnimationFrame(()=>{O()})}},[R,e,t]),c.useEffect(()=>()=>{L.current&&clearTimeout(L.current)},[]);const F=()=>{const O="absolute z-[9999] px-3 py-2 text-xs font-medium transition-all duration-200 transform",b="bg-black/90 text-theme-primary border border-theme-primary/30 rounded-lg backdrop-blur-sm",I="shadow-lg shadow-theme-primary/20",$=R?"opacity-100 scale-100 pointer-events-auto":"opacity-0 scale-95 pointer-events-none";let E="";switch(j){case"top":E="bottom-full left-1/2 -translate-x-1/2 mb-2";break;case"bottom":E="top-full left-1/2 -translate-x-1/2 mt-2";break;case"left":E="right-full top-1/2 -translate-y-1/2 mr-2";break;case"right":E="left-full top-1/2 -translate-y-1/2 ml-2";break}return _(O,b,I,$,E,n)},U=()=>{const O="absolute w-2 h-2 bg-black/90 border border-theme-primary/30 transform rotate-45";let b="";switch(j){case"top":b="top-full left-1/2 -translate-x-1/2 -mt-1 border-t-0 border-l-0";break;case"bottom":b="bottom-full left-1/2 -translate-x-1/2 -mb-1 border-b-0 border-r-0";break;case"left":b="left-full top-1/2 -translate-y-1/2 -ml-1 border-l-0 border-b-0";break;case"right":b="right-full top-1/2 -translate-y-1/2 -mr-1 border-r-0 border-t-0";break}return _(O,b)};return d.jsxs("div",{className:"relative inline-block",ref:y,onMouseEnter:N,onMouseLeave:Y,...f,children:[g,d.jsxs("div",{ref:P,className:F(),style:{maxWidth:"200px",whiteSpace:"nowrap",zIndex:9999},children:[e,d.jsx("div",{className:U()})]})]})};ue.propTypes={children:m.node.isRequired,content:m.node.isRequired,placement:m.oneOf(["top","bottom","left","right"]),className:m.string,delay:m.number};const ke=({enableOpeningAnimation:g=!1,onAnimationComplete:e,onReady:t})=>{const n=c.useRef(),r=c.useRef(),f=c.useRef(),R=c.useRef({x:0,y:0}),v=c.useRef({x:0,y:0}),j=c.useRef({x:0,y:0}),z=c.useRef({x:0,y:0,z:0}),y=c.useRef({x:0,y:0,z:0}),P=c.useRef(performance.now()),L=c.useRef(!1),N=c.useRef(null),{getNewContent:Y,getSectionsData:F}=Te(),U=Y(),{getThemeColors:O}=Se(),b=O(),I=c.useCallback(()=>Math.max(window.innerWidth,window.innerHeight),[]),[$,E]=c.useState(!1),T=c.useMemo(()=>F().map(x=>{var i;return{...x.faces,label:((i=U.navigation)==null?void 0:i[x.id])||x.faces.label}}),[U.navigation,F]);c.useEffect(()=>{(async()=>{try{console.log("üöÄ ÂºÄÂßãHero CubeÁ∫πÁêÜÈ¢ÑÂä†ËΩΩ...");const x=await Ce.loadHeroCubeTextures(T);console.log("‚úÖ Hero CubeÁ∫πÁêÜÂä†ËΩΩÂÆåÊàê!"),console.log(`  - ÂõæÁâáÁ∫πÁêÜ: ${x.textures.size}`),console.log(`  - ËßÜÈ¢ëÁ∫πÁêÜ: ${x.videos.size}`),console.log(`  - ÈîôËØØÊï∞Èáè: ${x.errors.length}`),x.errors.length>0&&console.warn("‚ö†Ô∏è ÈÉ®ÂàÜÁ∫πÁêÜÂä†ËΩΩÂ§±Ë¥•:",x.errors),N.current=x,console.log("üîç Ë∞ÉËØïÈ¢ÑÂä†ËΩΩÁªìÊûú:"),console.log("  - Á∫πÁêÜMapÈîÆ:",Array.from(x.textures.keys())),console.log("  - ËßÜÈ¢ëMapÈîÆ:",Array.from(x.videos.keys())),console.log("  - facesÈÖçÁΩÆ:",T.map(i=>({name:i.name,hasVideo:!!i.video,hasTexture:!!i.texture}))),E(!0)}catch(x){console.warn("Á∫πÁêÜÈ¢ÑÂä†ËΩΩÈÉ®ÂàÜÂ§±Ë¥•ÔºåÁªßÁª≠Ê∏≤Êüì:",x),E(!0)}})()},[T]),c.useEffect(()=>{const D=()=>{var a;if((a=n.current)!=null&&a.firstChild){const q=n.current.firstChild;q.style.width="100vw",q.style.height="100vh"}},x=()=>{X.isPageVisible&&X.refreshActiveResources()},i=["mousedown","mousemove","keydown","scroll","touchstart"];window.addEventListener("resize",D);const Z=ye.debounce(x,3e4);return i.forEach(a=>{document.addEventListener(a,Z)}),()=>{window.removeEventListener("resize",D),i.forEach(a=>{document.removeEventListener(a,Z)})}},[I]);const B=c.useRef(b),oe=c.useRef(e),ne=c.useRef(t);return c.useEffect(()=>{B.current=b},[b]),c.useEffect(()=>{oe.current=e},[e]),c.useEffect(()=>{ne.current=t},[t]),c.useEffect(()=>{if(!$)return;const D=n.current;if(!D)return;const x=new Oe,i=new De(50,1,.1,1e3);i.position.z=10;const Z=window.innerWidth*window.innerHeight<1920*1080,a=new $e({alpha:!0,antialias:Z,powerPreference:"high-performance",precision:"lowp",stencil:!1,depth:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1});a.setClearColor(0,0),a.setSize(window.innerWidth,window.innerHeight),a.setPixelRatio(Math.min(window.devicePixelRatio,1)),a.shadowMap.enabled=!1,a.physicallyCorrectLights=!1,a.toneMapping=ve,a.domElement.style.position="fixed",a.domElement.style.top="0",a.domElement.style.left="0",a.domElement.style.width="100vw",a.domElement.style.height="100vh",a.domElement.style.display="block",a.domElement.style.zIndex="10",a.domElement.style.pointerEvents="none",a.domElement.setAttribute("data-no-custom-cursor","true"),a.domElement.setAttribute("data-hero-cube-canvas","true"),a.domElement.classList.add("hero-cube-canvas"),a.setSize(window.innerWidth,window.innerHeight),i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),a.shadowMap.enabled=!1,a.physicallyCorrectLights=!1,a.toneMapping=ve,a.toneMappingExposure=1,a.outputColorSpace=be,D.appendChild(a.domElement);const q=ye.debounce(()=>{if(a&&i){const o=window.innerWidth,w=window.innerHeight;a.setSize(o,w),i.aspect=o/w,i.updateProjectionMatrix()}},100);window.addEventListener("resize",q);const Ie=new Be(16777215,.8);x.add(Ie);const se=new le(16777215,1.2);se.position.set(5,5,5),se.castShadow=!0,x.add(se);const de=new le(1096065,.6);de.position.set(-5,2,-3),x.add(de);const me=new le(3462041,.5);me.position.set(3,-4,5),x.add(me);const pe=new Re(14742240,1.5,15);pe.position.set(0,0,8),x.add(pe);const fe=new Re(65416,.8,20);fe.position.set(0,0,-10),x.add(fe);const re=2.8,he=new He(re,re,re,8,.1),ie=(o=256)=>{const w=document.createElement("canvas");w.width=o,w.height=o;const h=w.getContext("2d"),l=o/8;for(let A=0;A<8;A++)for(let M=0;M<8;M++)h.fillStyle=(A+M)%2===0?B.current.surface:B.current.muted,h.fillRect(A*l,M*l,l,l);h.fillStyle=B.current.primary,h.font=`bold ${o/16}px Arial`,h.textAlign="center",h.textBaseline="middle",h.fillText("VIDEO",o/2,o/2-o/32),h.fillText("ERROR",o/2,o/2+o/32);const u=new Ee(w);return u.needsUpdate=!0,u},ae=[T.find(o=>o.name==="about"),T.find(o=>o.name==="gallery"),T.find(o=>o.name==="contact"),T.find(o=>o.name==="education"),T.find(o=>o.name==="home"),T.find(o=>o.name==="projects")].map((o,w)=>{var J,K;if(console.log(`Face ${w} (${["right","left","top","bottom","front","back"][w]}):`,o?o.name:"NOT FOUND",o),!o){console.error(`Face at index ${w} not found!`);const W=ie(256);return new Q({map:W,transparent:!1,side:ee})}if(o.video){const W=ie(256),k=new Q({map:W,transparent:!1,side:ee});if((J=N.current)!=null&&J.videos.has(o.name)){const p=N.current.videos.get(o.name);if(k.map=p,k.needsUpdate=!0,console.log(`‚úÖ ‰ΩøÁî®È¢ÑÂä†ËΩΩËßÜÈ¢ëÁ∫πÁêÜ: ${o.name}`),p.image){const C=p.image;console.log(`üé¨ ËßÜÈ¢ëÁä∂ÊÄÅ: ${o.name}`,{paused:C.paused,currentTime:C.currentTime,duration:C.duration,readyState:C.readyState,networkState:C.networkState}),C.paused&&C.play().catch(G=>console.warn("ËßÜÈ¢ëËá™Âä®Êí≠ÊîæÂ§±Ë¥•:",G));const S=()=>{C.paused&&C.play().then(()=>{console.log(`üé¨ Áî®Êà∑‰∫§‰∫íÂêéËßÜÈ¢ëÂºÄÂßãÊí≠Êîæ: ${o.name}`),document.removeEventListener("click",S),document.removeEventListener("touchstart",S)}).catch(G=>console.warn("Áî®Êà∑‰∫§‰∫íÂêéËßÜÈ¢ëÊí≠ÊîæÂ§±Ë¥•:",G))};C.paused&&(document.addEventListener("click",S,{once:!0}),document.addEventListener("touchstart",S,{once:!0}))}}else{console.warn(`‚ö†Ô∏è È¢ÑÂä†ËΩΩËßÜÈ¢ëÁ∫πÁêÜ‰∏çÂèØÁî®ÔºåÂàõÂª∫Êñ∞ÁöÑ: ${o.name}`);const p=document.createElement("video");p.src=o.video,p.crossOrigin="anonymous",p.loop=!0,p.muted=!0,p.autoplay=!0,p.playsInline=!0,p.preload="metadata";const C=()=>{try{const S=new Ue(p);S.minFilter=te,S.magFilter=te,S.format=Ve,S.generateMipmaps=!1,S.flipY=!0,S.colorSpace=be,k.map&&k.map!==W&&k.map.dispose(),k.map=S,k.needsUpdate=!0,p.play().catch(G=>{console.warn("Video autoplay failed:",G)})}catch(S){console.warn("Failed to create video texture:",S)}};p.addEventListener("loadeddata",()=>{C()}),p.addEventListener("canplay",()=>{C()}),p.addEventListener("loadedmetadata",()=>{p.play().catch(()=>{})}),p.addEventListener("error",S=>{console.warn("Video loading error, using fallback texture:",S)}),p.load()}return k}if(o.texture){const W=ie(256),k=new Q({map:W,transparent:!1,side:ee});if((K=N.current)!=null&&K.textures.has(o.texture)){const p=N.current.textures.get(o.texture);o.texture==="education"&&(p.flipY=!0,p.needsUpdate=!0,console.log(`üîÑ ‰∏∫${o.texture}Á∫πÁêÜÂêØÁî®YËΩ¥ÁøªËΩ¨`)),k.map=p,k.needsUpdate=!0,console.log(`‚úÖ ‰ΩøÁî®È¢ÑÂä†ËΩΩÁ∫πÁêÜ: ${o.texture}`)}else console.warn(`‚ö†Ô∏è È¢ÑÂä†ËΩΩÁ∫πÁêÜ‰∏çÂèØÁî®Ôºå‰ΩøÁî®Áªü‰∏ÄÁ≥ªÁªüÂºÇÊ≠•Âä†ËΩΩ: ${o.texture}`),(async()=>{try{const p=await Ce.loadSceneTextures("hero-cube",{textures:[o.texture]});if(p.textures.has(o.texture)){const C=p.textures.get(o.texture);o.texture==="education"&&(C.flipY=!0,C.needsUpdate=!0,console.log(`üîÑ ÂºÇÊ≠•Âä†ËΩΩÊó∂‰∏∫${o.texture}Á∫πÁêÜÂêØÁî®YËΩ¥ÁøªËΩ¨`)),k.map=C,k.needsUpdate=!0,console.log(`‚úÖ ÂçïÁã¨Âä†ËΩΩCubeÁ∫πÁêÜÊàêÂäü: ${o.texture}`)}else throw new Error(`Á∫πÁêÜÊú™ÊâæÂà∞: ${o.texture}`)}catch(p){console.warn(`Âä†ËΩΩÁ∫πÁêÜÂ§±Ë¥•: ${o.texture}`,p)}})();return k}const h=document.createElement("canvas"),l=256;h.width=l,h.height=l;const u=h.getContext("2d");u.clearRect(0,0,l,l);const A=u.createRadialGradient(l/2,l/2,0,l/2,l/2,l/2);A.addColorStop(0,`${o.color}25`),A.addColorStop(.6,`${o.color}15`),A.addColorStop(1,`${o.color}08`),u.fillStyle=A,u.fillRect(0,0,l,l),u.strokeStyle=`${o.color}60`,u.lineWidth=2;const M=l*.05;u.strokeRect(M,M,l-M*2,l-M*2);const V=u.createLinearGradient(0,0,l,l);V.addColorStop(0,"rgba(255, 255, 255, 0.15)"),V.addColorStop(.5,"rgba(255, 255, 255, 0.08)"),V.addColorStop(1,"rgba(255, 255, 255, 0)"),u.fillStyle=V,u.fillRect(0,0,l/3,l),u.shadowColor="rgba(0, 0, 0, 0.8)",u.shadowBlur=6;const ce=36;u.font=`bold ${ce}px "Helvetica Neue", Arial`,u.fillStyle=B.current.text||"#ffffff",u.textAlign="center",u.textBaseline="middle",u.fillText(o.label,l/2,l/2),u.shadowColor="transparent",u.shadowBlur=0,u.shadowOffsetX=0,u.shadowOffsetY=0;const H=new Ee(h);return H.needsUpdate=!0,H.generateMipmaps=!1,H.minFilter=te,H.magFilter=te,new Q({map:H,transparent:!1,side:ee})}),s=new Fe(he,ae);x.add(s),r.current=s,g?(s.position.set(0,0,-80),s.scale.set(.05,.05,.05),s.rotation.set(0,0,0),f.current=We.timeline({onComplete:()=>{oe.current&&oe.current(),window.dispatchEvent(new CustomEvent("cubeAnimationComplete"))}}).to(s.position,{z:0,duration:2,ease:"power3.out",delay:.5}).to(s.scale,{x:1.2,y:1.2,z:1.2,duration:2,ease:"back.out(1.7)"},.5).to(s.scale,{x:1.4,y:1.4,z:1.4,duration:.5,ease:"power2.out"},2.5).to(s.rotation,{x:-Math.PI*.5,y:0,z:0,duration:1.5,ease:"power3.out"},2.5).to(i.position,{x:0,y:0,z:5,duration:1.5,ease:"power3.out",onUpdate:()=>i.lookAt(s.position)},2.5).to(s.rotation,{x:0,y:Math.PI*.5,z:Math.PI,duration:1.5,ease:"power2.inOut"},5.5).to(i.position,{x:0,y:0,z:5,duration:1.5,ease:"power2.inOut",onUpdate:()=>i.lookAt(s.position)},5.5).to(s.rotation,{x:0,y:Math.PI,z:Math.PI,duration:1.5,ease:"power2.inOut"},8.5).to(i.position,{x:0,y:0,z:5,duration:1.5,ease:"power2.inOut",onUpdate:()=>i.lookAt(s.position)},8.5).to(s.rotation,{x:0,y:-Math.PI*.5,z:Math.PI,duration:1.5,ease:"power2.inOut"},11.5).to(i.position,{x:0,y:0,z:5,duration:1.5,ease:"power2.inOut",onUpdate:()=>i.lookAt(s.position)},11.5).to(s.rotation,{x:0,y:0,z:0,duration:1.5,ease:"power2.inOut"},14.5).to(i.position,{x:0,y:0,z:5,duration:.5,ease:"power2.out",onUpdate:()=>i.lookAt(s.position)},17.5).to(s.rotation,{x:Math.PI*.5,y:Math.PI,z:0,duration:.5,ease:"power2.out"},17.5).to(i.position,{x:0,y:0,z:5,duration:.5,ease:"power2.out",onUpdate:()=>i.lookAt(s.position)},20.5).to(i.position,{x:0,y:2,z:6,duration:.7,ease:"power2.inOut",onUpdate:()=>i.lookAt(s.position)},20.5).to(i.position,{x:0,y:0,z:10,duration:.8,ease:"power2.out",onUpdate:()=>i.lookAt(s.position)},21.2).to(s.scale,{x:3,y:3,z:3,duration:1.7,ease:"power3.in"},22).to(i.position,{z:2,duration:1.7,ease:"power3.in",onUpdate:()=>i.lookAt(s.position)},22).to(s.rotation,{x:s.rotation.x+Math.PI*4,y:s.rotation.y+Math.PI*6,z:s.rotation.z+Math.PI*3,duration:1.7,ease:"power2.out"},22).to(s.scale,{x:1,y:1,z:1,duration:1.8,ease:"power2.out"},23.7).to(i.position,{z:10,duration:.5,ease:"power2.out",onUpdate:()=>i.lookAt(s.position)},23.7).to(s.rotation,{x:-Math.PI*.81,y:Math.PI*.25,z:0,duration:1.8,ease:"power2.out"},23.7).to(s.scale,{x:1.15,y:1.15,z:1.15,duration:.2,ease:"power2.out"},26).to(s.scale,{x:1,y:1,z:1,duration:.3,ease:"bounce.out"},26.2).to(s.scale,{x:1.08,y:1.08,z:1.08,duration:.15,ease:"power2.out"},26.6).to(s.scale,{x:1,y:1,z:1,duration:.25,ease:"bounce.out"},26.75).to(s.scale,{x:1.04,y:1.04,z:1.04,duration:.1,ease:"power2.out"},27.1).to(s.scale,{x:1,y:1,z:1,duration:.4,ease:"elastic.out(1, 0.3)"},27.2)):s.rotation.set(-Math.PI*.81,Math.PI*.25,0);const xe=o=>{const w=o.clientX/window.innerWidth*2-1,h=-(o.clientY/window.innerHeight)*2+1,l=performance.now(),u=Math.max(l-P.current,1),A=w-j.current.x,M=h-j.current.y;v.current.x=A/(u*.001),v.current.y=M/(u*.001),R.current.x=w,R.current.y=h,j.current={x:w,y:h},P.current=l};window.addEventListener("mousemove",xe);const ge=()=>{requestAnimationFrame(ge);const o=performance.now(),w=Math.min((o-P.current)*.001,.02);if(P.current=o,!L.current){const h=R.current.x*.1+Math.PI*.25,u=R.current.y*.05-Math.PI*.81+y.current.x,A=h+y.current.y,M=y.current.z;s.rotation.x+=(u-s.rotation.x)*.02,s.rotation.y+=(A-s.rotation.y)*.02,s.rotation.z+=(M-s.rotation.z)*.02,s.rotation.y+=.001}if(w>0){const M=v.current.y*2.5,V=-v.current.x*2.5,ce=(v.current.x+v.current.y)*2.5*.4,H=-y.current.x*12,we=-y.current.y*12,J=-y.current.z*12;z.current.x+=(M+H)*w,z.current.y+=(V+we)*w,z.current.z+=(ce+J)*w,z.current.x*=.88,z.current.y*=.88,z.current.z*=.88,y.current.x+=z.current.x*w,y.current.y+=z.current.y*w,y.current.z+=z.current.z*w,y.current.x=Math.max(-1.2,Math.min(1.2,y.current.x)),y.current.y=Math.max(-1.2,Math.min(1.2,y.current.y)),y.current.z=Math.max(-1.2,Math.min(1.2,y.current.z));const K=Math.sin(o*.001)*.05;s.position.set(0,K,0),v.current.x*=.92,v.current.y*=.92}s.children.forEach(h=>{if(h.material&&h.material.map&&h.material.map.image&&h.material.map.image.tagName==="VIDEO"){const l=h.material.map.image;!l.paused&&l.readyState>=2&&(h.material.map.needsUpdate=!0)}}),a.render(x,i)};ne.current&&setTimeout(()=>{ne.current()},100);const Le=X.registerResources("HeroCube",{renderer:a,scene:x,geometry:he,materials:ae,textures:ae.map(o=>o.map).filter(Boolean)},{persistent:!0});return ge(),()=>{f.current&&f.current.kill(),D&&a.domElement&&D.removeChild(a.domElement),window.removeEventListener("mousemove",xe),window.removeEventListener("resize",q),X.cleanup(Le)}},[T,$,g]),d.jsx("div",{className:"relative",children:d.jsx("div",{ref:n,className:"fixed inset-0 w-full h-full overflow-hidden",style:{pointerEvents:"none",zIndex:5,filter:"drop-shadow(0 0 30px rgba(16, 185, 129, 0.3)) drop-shadow(0 0 80px rgba(0, 255, 136, 0.2))"}})})};ke.propTypes={enableOpeningAnimation:m.bool,onAnimationComplete:m.func,onReady:m.func};const ze=({language:g,enableOpeningAnimation:e=!1})=>{const{getNewContent:t,toggleLanguage:n}=Te(),r=t(),{toggleTheme:f,getCurrentTheme:R}=Se(),v=R(),[j,z]=c.useState(!1),[y,P]=c.useState(!1),[L,N]=c.useState(!1),[Y,F]=c.useState(!1);c.useEffect(()=>{const O=setTimeout(()=>{N(!0)},400),b=setTimeout(()=>{P(!0)},600),I=setTimeout(()=>{z(!0)},2e3);return()=>{clearTimeout(O),clearTimeout(b),clearTimeout(I)}},[]);const U=c.useCallback(()=>{F(!0),N(!1)},[]);return d.jsxs("div",{className:"w-screen overflow-hidden",style:{margin:0,padding:0,background:"transparent",height:"100vh",minHeight:"100dvh"},children:[d.jsx("div",{className:"absolute top-8 left-1/2 transform -translate-x-1/2 text-center text-white z-50 w-full px-4",children:d.jsxs("div",{className:"flex flex-col items-center justify-center w-full relative",children:[d.jsx(Me,{level:1,className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold font-beauRivage mb-2 sm:mb-4 leading-tight text-center w-full mt-12",style:{visibility:"visible",opacity:1,transform:"none",filter:"none",transition:"none"},children:r.home.name[g]||r.home.name.en}),d.jsx(Ae,{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-mono text-theme-accent mt-48",style:{position:"absolute",left:"50%",transform:"translateX(-50%)",width:"max-content",whiteSpace:"nowrap",visibility:"visible",opacity:1,transition:"none"},children:r.home.title[g]||r.home.title.en})]})}),d.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 text-center z-50 w-full px-4",style:{bottom:"max(4rem, env(safe-area-inset-bottom) + 3rem)",visibility:"visible",opacity:1,transition:"none"},children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-light text-theme-primary tracking-wider leading-relaxed",children:r.home.slogan[g]||r.home.slogan.en})})}),L&&!Y&&d.jsx(je,{size:160,strokeWidth:12,showMask:!0}),y&&d.jsx(ke,{enableOpeningAnimation:e,onReady:U}),j&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute z-50 transition-opacity duration-1000 opacity-100",style:{bottom:"max(1.5rem, env(safe-area-inset-bottom) + 1rem)",left:"max(1.5rem, env(safe-area-inset-left) + 1rem)"},children:d.jsx(ue,{content:g==="en"?"English":"‰∏≠Êñá",placement:"top",delay:200,children:d.jsx("button",{onClick:n,className:"w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 group hover:scale-110",title:`${r.ui.language[g]||r.ui.language.en}: ${g==="en"?"English":"‰∏≠Êñá"}`,children:d.jsx(Pe,{className:"text-theme-primary text-xl group-hover:rotate-180 transition-transform duration-300"})})})}),d.jsx("div",{className:"absolute z-50 transition-opacity duration-1000 opacity-100",style:{bottom:"max(1.5rem, env(safe-area-inset-bottom) + 1rem)",right:"max(1.5rem, env(safe-area-inset-right) + 1rem)"},children:d.jsx(ue,{content:v.name[g]||v.name.en,placement:"left",delay:200,children:d.jsx("button",{onClick:f,className:"w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 group hover:scale-110",title:`${r.ui.toggleTheme[g]||r.ui.toggleTheme.en}: ${v.name[g]||v.name.en}`,children:d.jsx(Ne,{className:"text-theme-primary text-xl group-hover:rotate-180 transition-transform duration-300"})})})}),d.jsx("div",{className:`absolute z-50 transition-opacity duration-1000 md:hidden ${j?"opacity-100":"opacity-0"}`,style:{bottom:"max(1.5rem, env(safe-area-inset-bottom) + 1rem)",left:"50%",transform:"translateX(-50%)"},children:d.jsx("p",{className:"text-white/70 text-sm font-medium whitespace-nowrap animate-pulse",children:r.home.mobileScrollHint[g]||r.home.mobileScrollHint.en})})]})]})};ze.propTypes={language:m.string.isRequired,enableOpeningAnimation:m.bool};const et=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"}));export{et as H,Me as T,Ae as a,qe as b,X as w};
