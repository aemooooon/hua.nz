const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomeSection-CCNm_2So.js","assets/react-DudRe3MH.js","assets/vendor-D2t9TNkl.js","assets/leaflet-BcfEFI1A.js","assets/leaflet-BTrKGrB8.css","assets/vendor-DSulWsr7.css","assets/three-0lp-BYGx.js","assets/gsap-CH_iu5NA.js","assets/CircularLoadingIndicator-BO6eWUEl.js","assets/ThemeComponents-ncyhfpH0.js","assets/HomeSection-DklKxYxB.css","assets/ProjectSection-DgtKXKce.js","assets/GlowDivider-DGRTBnis.js","assets/GlowDivider-Cmun064X.css","assets/ProjectSection--h4dFyqM.css","assets/GallerySection-R_fwABVQ.js","assets/EducationSection-BpqDu4ik.js","assets/EducationSection-Co46vkHx.css","assets/ContactSection-VU1Qqg4I.js","assets/ContactSection-B2ZxASnB.css","assets/AboutSection-CylU3bj2.js"])))=>i.map(i=>d[i]);
import{c as ot,r as l,j as o,R as st,a as at}from"./react-DudRe3MH.js";import{p as rt,P as Q,l as ct,a as lt}from"./vendor-D2t9TNkl.js";import{O as dt,S as Pe,P as ht,a as Ve,M as Te,W as Ee,C as R,b as Be,E as ut,R as mt,U as pt,V as Ne,c as gt,d as ze,e as Me,A as ke,B as ft,f as Ue,D as _e,g as ye,I as vt,h as bt,i as Fe,j as we,Q as Oe,k as qe,l as $e,m as We,n as Ye,o as Ze,F as yt,p as Ge,q as wt}from"./three-0lp-BYGx.js";import"./leaflet-BcfEFI1A.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();const xt="modulepreload",St=function(r){return"/"+r},He={},ve=function(t,e,i){let n=Promise.resolve();if(e&&e.length>0){let c=function(g){return Promise.all(g.map(d=>Promise.resolve(d).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),b=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=c(e.map(g=>{if(g=St(g),g in He)return;He[g]=!0;const d=g.endsWith(".css"),w=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":xt,d||(p.as="script"),p.crossOrigin="",p.href=g,b&&p.setAttribute("nonce",b),document.head.appendChild(p),d)return new Promise((m,v)=>{p.addEventListener("load",m),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${g}`)))})}))}function s(c){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=c,window.dispatchEvent(a),!a.defaultPrevented)throw c}return n.then(c=>{for(const a of c||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Ct=[{id:"home",index:0,name:{en:"Home",zh:"首页"},description:{en:"Welcome to my portfolio",zh:"欢迎来到我的个人主页"},backgroundEffect:"effectchaos",cubeImage:"/hua.jpeg",cubeVideo:"/cube-textures/home.mp4"},{id:"about",index:1,name:{en:"About",zh:"关于"},description:{en:"About myself",zh:"个人介绍"},backgroundEffect:"effectlorenz",cubeImage:"/cube-textures/about.jpg"},{id:"projects",index:2,name:{en:"Projects",zh:"项目"},description:{en:"My development projects",zh:"我的开发项目"},backgroundEffect:"effectmonjori",cubeImage:"/cube-textures/projects.jpg"},{id:"gallery",index:3,name:{en:"Corridor of Light and Shadow",zh:"浮生长廊"},description:{en:"Immersive 3D art experience",zh:"沉浸式3D艺术体验"},backgroundEffect:"",cubeImage:"/cube-textures/gallery.jpg"},{id:"education",index:4,name:{en:"Education",zh:"教育背景"},description:{en:"Academic background",zh:"学术背景"},backgroundEffect:"effectfuse",cubeImage:"/cube-textures/education.jpg"},{id:"contact",index:5,name:{en:"Contact",zh:"联系我"},description:{en:"Get in touch",zh:"联系方式"},backgroundEffect:"effectripple",cubeImage:"/cube-textures/contact.jpg"}],Ie={en:{home:{name:"Hua Wang",title:"Full Stack Developer",slogan:"Order from Chaos. Innovation through Tradeoffs..."},about:{title:"About Me",subtitle:"My journey as a developer",description:"Learn more about my background, skills, and passion for technology.",background:"Background",education:"Education",interests:"Interests",pages:[{id:"statement",title:"Personal Statement",content:{greeting:"Kia ora, I'm Hua Wang",paragraphs:["I am a full-stack developer with over a decade of experience, from early work with PHP to today’s modern React ecosystems. My journey spans enterprise websites, CMS platforms, internal systems, and data-driven apps, enriched by a passion for computer graphics, where I blend shaders, lighting, and generative effects into the web.","What drives me is the process: turning scattered user stories into clarity, navigating complexity with an agnostic mindset toward languages and frameworks, and building solutions that balance logic with creativity. To me, code is not just function but also expression, where design, implementation, and narrative converge.","Beyond frontend and backend development, I explore DevOps, containerization, and cloud platforms, while my Master’s in Data Science deepens my grasp of algorithms and data pipelines. To me, development is about seeking order in chaos and finding innovation in every trade-off."]}},{id:"experience",title:"Professional Experience",experiences:[{company:"Zespri International",position:"Full Stack Developer (Internship)",period:"Nov 2024 - Feb 2025",color:"blue",icon:"ZI"},{company:"Realibox, GuangZhou",position:"Frontend Developer",period:"Aug 2021 - Feb 2023",color:"purple",icon:"RB"},{company:"Nuclear Stone Technology",position:"Frontend Developer",period:"Aug 2020 - Jul 2021",color:"green",icon:"NS"},{company:"Enshi Environmental Agency",position:"Full Stack Developer (Contract)",period:"Feb 2020 - Jul 2021",color:"orange",icon:"ES"}]}]},projects:{title:"My Projects",subtitle:"Showcases",bottomSubtitle:"Each project represents a unique challenge and learning journey",description:"From Full Stack Web Development to 3D immersive experiences, from computer science to data science, to computer graphics — explore the diverse technology and solutions. Language, platform, framework agnostic.",viewProject:"View Project",viewAction:"View",technologies:"Technologies",totalProjects:"Total Projects",exploreMap:"Map View",exploreMapTooltip:"Explore Projects on Interactive Map",showing:"Showing",viewDetails:"View Details",liveDemo:"Live Demo",officialSite:"Official",githubRepo:"GitHub",detail:{technologyStack:"Technology Stack",projectStatistics:"Project Statistics",subProjects:"Sub Projects",visitSite:"Visit Site",closeModal:"Close modal"},filter:{allProjects:"All Projects"},map:{resetToDefaultView:"Reset to default view",closeMap:"Close map",title:"Project Geo Distribution"}},gallery:{title:"Photo Gallery",subtitle:"Visual journey through my work and experiences",description:"A curated collection of visual projects and creative works.",viewImage:"View Image",gallery3D:{title:"Corridor of Light and Shadow",subtitle:"Immersive 3D Art Experience",description:"Enter a professionally curated virtual gallery space showcasing visual works in an interactive 3D environment.",instructions:{clickToStart:"Click to enter the gallery",navigation:{movement:"Movement Navigation",wasd:"WASD / Arrow Keys - Move through the gallery",mouse:"Mouse - Look around and explore",esc:"ESC - Exit pointer lock mode"},experience:{title:"Gallery Features",lighting:"Professional museum lighting system",layout:"Curated artwork placement and spacing",interaction:"First-person exploration experience"}}}},education:{title:"Education",subtitle:"Academic Background",labels:{academicRecords:"Academic Records",totalCredits:"Total Credits",gpa:"GPA",totalCourses:"Total Courses",capstoneProjects:"Capstone Projects",academicAwards:"Academic Awards",academicExcellenceAward:"Academic Excellence Award",withDistinction:"with Distinction",level:"Level",credits:"Credits"},degrees:[{id:"masters",degree:"Master of Applied Data Science",degreeHonor:!0,institution:"University of Canterbury",location:"Christchurch, New Zealand",period:"Feb 2024 - Feb 2025",logo:"/unicanterburylogo.png",gpa:"A average",totalCredits:180,courses:[{year:"2024",semester:"Semester 1",courses:[{code:"DATA401",name:"Introduction to Data Science",credits:15,grade:"A",level:4},{code:"DIGI405",name:"Texts, Discourses and Data: the Humanities and Data Science",credits:15,grade:"A-",level:4},{code:"DATA472",name:"Based cloud computing and infrastructure data engineering",credits:15,grade:"A+",level:4},{code:"DATA416",name:"Contemporary Issues in Data Science",credits:15,grade:"A+",level:4}]},{year:"2024",semester:"Semester 2",courses:[{code:"COSC473",name:"Decentralised Applications on the Web",credits:15,grade:"A-",level:4},{code:"COSC440",name:"Deep Learning",credits:15,grade:"A+",level:4},{code:"DATA420",name:"Scalable Data Science",credits:15,grade:"A-",level:4},{code:"DATA415",name:"Computational Social Choice",credits:15,grade:"A",level:4},{code:"GISC412",name:"Spatial Data Science",credits:15,grade:"A",level:4}]},{year:"2024 - 2025",semester:"Summer",courses:[{code:"DATA605",name:"Applied Data Science Industry Research Project · Zespri International",credits:45,grade:"A+",level:6}]}],capstoneProjects:[{name:"SwapBytes",description:"A P2P file-sharing and messaging app built using Rust (backend) and React with Tauri (frontend). Integrated libp2p for decentralised networking.",technologies:["Rust","React","Tauri","libp2p"],githubUrl:"https://github.com/aemooooon/swapbytes",image:"/swapbytes.jpg"},{name:"Digital Pet",description:"A blockchain-based virtual pet dApp on Secret Network. Built a CosmWasm smart contract using Rust and a React frontend.",technologies:["Rust","CosmWasm","React","Secret Network"],githubUrl:"https://github.com/aemooooon/digital-pet",image:"/digitalpet.jpg"},{name:"ECAN Data Pipeline",description:"A collaborative cloud-based automation system for collecting and processing environmental data from 17 different sources.",technologies:["Apache Airflow","Python","GraphQL","AWS"],githubUrl:"https://github.com/aemooooon/DATA472-Individual-Project-Submission",image:"/ecan.jpg"}]},{id:"bachelors",degree:"Bachelor of Information Technology",degreeHonor:!0,institution:"Otago Polytechnic",location:"Dunedin, New Zealand",period:"July 2017 - June 2021",logo:"/otago-polytechnic-vertical-blue.svg",gpa:"A average",totalCredits:360,courses:[{year:"2017",semester:"Year 1",courses:[{code:"IN501001",name:"Professional Practice for Information Technology",credits:15,grade:"B+",level:5},{code:"IN510001",name:"Programming 1",credits:15,grade:"A+",level:5},{code:"IN520001",name:"PC Maintenance",credits:15,grade:"A+",level:5},{code:"IN521001",name:"Maths For IT",credits:15,grade:"A+",level:5}]},{year:"2018",semester:"Year 2",courses:[{code:"IN505001",name:"Introduction to Systems Analysis",credits:15,grade:"A+",level:5},{code:"IN511001",name:"Programming 2",credits:15,grade:"A+",level:5},{code:"IN512001",name:"Web 1 - Technology and Development",credits:15,grade:"A+",level:5},{code:"IN515001",name:"Introduction to Networks",credits:15,grade:"A+",level:5},{code:"IN605001",name:"Databases 2",credits:15,grade:"A+",level:6},{code:"IN610001",name:"Programming 3",credits:15,grade:"A+",level:6},{code:"IN612001",name:"Web 2 - Programming",credits:15,grade:"A+",level:6},{code:"IN617001",name:"Linux Operating Systems - Ubuntu",credits:15,grade:"A+",level:6}]},{year:"2019",semester:"Year 3",courses:[{code:"IN602001",name:"Software Engineering",credits:15,grade:"A-",level:6},{code:"IN628002",name:"Programming 4",credits:15,grade:"A+",level:6},{code:"IN700001",name:"Project 1",credits:15,grade:"A+",level:7},{code:"IN705002",name:"Databases 3",credits:15,grade:"A+",level:7},{code:"IN711001",name:"Algorithms and Data Structures",credits:15,grade:"A",level:7},{code:"IN712001",name:"Web 3 - Enterprise Development",credits:15,grade:"A-",level:7},{code:"IN719001",name:"Systems Administration",credits:15,grade:"A",level:7},{code:"IN720001",name:"Administering a Virtual Infrastructure",credits:15,grade:"A",level:7}]},{year:"2021",semester:"Year 4",courses:[{code:"IN608001",name:"Intermediate Application Development Concepts",credits:15,grade:"A+",level:6},{code:"IN721001",name:"Mobile Application Development",credits:15,grade:"A+",level:7},{code:"IN730151",name:"Year Three Special Topic",credits:15,grade:"A+",level:7},{code:"IN732001",name:"Studio 6",credits:15,grade:"Passed",level:7}]}],awards:[{title:"Academic Excellence & Best Programmer",year:"2021",image:"/awared-best-programmer.jpeg"},{title:"Excellence in the Bachelor of Information Technology",year:"2019",image:"/awared-excellence.jpeg"}],capstoneProjects:[{name:"Travel Assistant",description:"An Android app using Kotlin, Jetpack, Google Maps, and Room DB for trip planning.",technologies:["Kotlin","Android","Google Maps"],githubUrl:"https://github.com/aemooooon/travel-assistant",image:"/travelassistant/ta02.jpg"},{name:"FitsGo",description:"A Fitness tracker app built with React Native and Firebase, supporting location tracking and workout history.",technologies:["React Native","Firebase"],githubUrl:"https://github.com/aemooooon/fitsgo",image:"/fitsgo/fitsgo.02.png"}]}]},contact:{title:"Get In Touch",subtitle:"Looking forward to hearing from you",description:"Get in touch for opportunities, collaborations, or just to say hello.",location:"Christchurch, New Zealand",emailAddress:"aemooooon@gmail.com",phone:"+64 21 037 0520",connectWithMe:"Connect with me",lookingForward:"Copyright © 2025 Hua Wang",contactMethods:{email:{title:"Email",description:"Send me an email"},phone:{title:"Phone",description:"Give me a call"},wechat:{title:"WeChat",description:"Connect via WeChat",id:"Aemooooon"},location:{title:"Location",description:"Based in Christchurch"}},social:{github:{url:"https://github.com/aemooooon",label:"GitHub"},linkedin:{url:"https://www.linkedin.com/in/aemonwang",label:"LinkedIn"},email:{url:"mailto:aemooooon@gmail.com",label:"Email"}}},ui:{language:"Language",theme:"Theme",light:"Light",dark:"Dark",audio:"Audio",play:"Play",pause:"Pause",mute:"Mute",unmute:"Unmute",loading:"Loading...",backToHome:"Back to Home",darkMode:"Dark Mode",lightMode:"Light Mode",toggleTheme:"Toggle Theme",mobileScrollHint:"scroll down to explore..."}},zh:{home:{name:"王华",title:"全栈工程师",slogan:"观混沌之纷，立秩序之象；守中庸之衡，启创新之变……"},about:{title:"关于我",subtitle:"我的开发者之路",description:"了解更多关于我的背景、技能和对技术的热情。",background:"背景",education:"教育经历",interests:"兴趣爱好",pages:[{id:"statement",title:"个人陈述",content:{greeting:"你好，我是王华",paragraphs:["夫天地演数，阴阳化爻，臣以一介码农，躬耕于比特之野十载有余。初习PHP古法，今研React新道，历经诸侯之网站，掌CMS之枢机，筑内廷之系统，驭数据于方寸。然臣心向星辰，每涉图形之术，便穷Shader之变，究光影之妙，合生成之艺于万维网中，此皆臣技之所寄也。","臣闻《易》云：“形而上者谓之道，形而下者谓之器。”臣之所驱，正在道器相融：散落之用户故事，臣析为清明；纷杂之技术桎梏，臣破以无执之心。语言框架，不过器物；逻辑创造，方见精神。是故代码非止于功用，亦载文心，融设计、实现与叙事于一炉，犹《诗》之兴观群怨，皆可托于数行之间。","臣虽主营前后二端，然未尝忘怀DevOps之策、容器之术与云之平台。更兼修数据科学之硕业，深研算法之微、管道之幽。盖《道德经》有言：“图难于其易，为大于其细”，臣每日所行，皆在混沌中求秩序，于权衡处创新篇——此乃臣平生之志也。","今效诸葛出师之表，托心于代码，寄志于云端，惟愿以技术立命，以创造安身，虽世变时移，此心不易。"]}},{id:"experience",title:"职业历程",experiences:[{company:"佳沛国际",position:"全栈开发工程师（实习）",period:"2024年11月 - 2025年2月",color:"blue",icon:"ZI"},{company:"引力波，广州",position:"前端开发工程师",period:"2021年8月 - 2023年2月",color:"purple",icon:"RB"},{company:"核石数字，重庆",position:"前端开发工程师",period:"2020年8月 - 2021年7月",color:"green",icon:"NS"},{company:"恩施环境保护局",position:"全栈开发工程师（合同）",period:"2020年2月 - 2021年7月",color:"orange",icon:"ES"}]}]},projects:{title:"项目集锦",subtitle:"Showcases",bottomSubtitle:"每个项目都代表着独特的挑战和学习之旅",description:"从全栈Web开发到3D沉浸式体验，从计算机科学，计算机图形学，到数据科学 — 探索多样的技术与解决方案。语言无关，平台独立，框架灵活。",viewProject:"查看项目",viewAction:"查看",technologies:"技术栈",totalProjects:"总项目数",exploreMap:"地图",exploreMapTooltip:"在交互地图上探索项目",showing:"显示",viewDetails:"查看详情",liveDemo:"在线演示",officialSite:"官方",githubRepo:"源码",detail:{technologyStack:"技术栈",projectStatistics:"项目统计",subProjects:"子项目",visitSite:"访问网站",closeModal:"关闭弹窗"},filter:{allProjects:"全部项目"},map:{resetToDefaultView:"重置到默认视图",closeMap:"关闭地图",title:"项目地理分布"}},gallery:{title:"照片画廊",subtitle:"通过视觉展示我的工作和经历",description:"精心策划的视觉项目和创意作品集合。",viewImage:"查看图片",gallery3D:{title:"浮生长廊",subtitle:"沉浸式3D艺术体验",description:"步入专业策展的虚拟画廊空间，在交互式3D环境中欣赏视觉作品。",instructions:{clickToStart:"点击进入",navigation:{movement:"移动导航",wasd:"WASD / 方向键 - 在画廊中移动",mouse:"鼠标 - 环视和探索",esc:"ESC - 退出指针锁定模式"},experience:{title:"画廊特色",lighting:"专业美术馆照明系统",layout:"精心策划的艺术品布局",interaction:"第一人称沉浸式体验"}}}},education:{title:"修业之路",subtitle:"杏坛踪迹",labels:{academicRecords:"学术记录",totalCredits:"总学分",gpa:"平均成绩",totalCourses:"课程总数",capstoneProjects:"毕业项目",academicAwards:"学术奖项",academicExcellenceAward:"学术优秀奖",withDistinction:"优等荣誉",level:"等级",credits:"学分"},degrees:[{id:"masters",degree:"应用数据科学硕士学位",degreeHonor:!0,institution:"坎特伯雷大学",location:"基督城",period:"2024年2月 - 2025年2月",logo:"/unicanterburylogo.png",gpa:"A",totalCredits:180,courses:[{year:"2024",semester:"第一学期",courses:[{code:"DATA401",name:"数据科学导论",credits:15,grade:"A",level:4},{code:"DATA416",name:"数据科学当代问题",credits:15,grade:"A+",level:4},{code:"DIGI405",name:"人文学科与数据科学",credits:15,grade:"A-",level:4},{code:"DATA472",name:"基于云基础架构的数据工程",credits:15,grade:"A+",level:4}]},{year:"2024",semester:"第二学期",courses:[{code:"COSC473",name:"Web3，区块链及去中心化应用",credits:15,grade:"A-",level:4},{code:"DATA420",name:"可扩展数据科学",credits:15,grade:"A-",level:4},{code:"COSC440",name:"深度学习",credits:15,grade:"A+",level:4},{code:"DATA415",name:"计算社会选择",credits:15,grade:"A",level:4},{code:"GISC412",name:"空间数据科学",credits:15,grade:"A",level:4}]},{year:"2024 Summer",semester:"2024-2025 暑假",courses:[{code:"DATA605",name:"应用数据科学行业研究项目 · 佳沛国际",credits:45,grade:"A+",level:6}]}],capstoneProjects:[{name:"SwapBytes",description:"使用Rust（后端）和React与Tauri（前端）构建的P2P文件共享和消息应用。集成libp2p进行去中心化网络。",technologies:["Rust","React","Tauri","libp2p"],githubUrl:"https://github.com/aemooooon/swapbytes",image:"/swapbytes.jpg"},{name:"数字宠物",description:"基于Secret Network的区块链虚拟宠物dApp。使用Rust构建CosmWasm智能合约，React前端。",technologies:["Rust","CosmWasm","React","Secret Network"],githubUrl:"https://github.com/aemooooon/digital-pet",image:"/digitalpet.jpg"},{name:"坎特伯雷环境部数据管线",description:"协作式云端自动化系统，用于从17个不同来源收集和处理环境数据。",technologies:["Apache Airflow","Python","GraphQL","AWS"],githubUrl:"https://github.com/aemooooon/DATA472-Individual-Project-Submission",image:"/ecan.jpg"}]},{id:"bachelors",degree:"信息技术学士学位",degreeHonor:!0,institution:"奥塔哥理工学院",location:"达尼丁",period:"2017年7月 - 2021年6月",logo:"/otago-polytechnic-vertical-blue.svg",gpa:"A",totalCredits:360,courses:[{year:"2017",semester:"第一年",courses:[{code:"IN501001",name:"信息技术专业实践",credits:15,grade:"B+",level:5},{code:"IN510001",name:"程序设计 1",credits:15,grade:"A+",level:5},{code:"IN520001",name:"计算机维护",credits:15,grade:"A+",level:5},{code:"IN521001",name:"IT数学",credits:15,grade:"A+",level:5}]},{year:"2018",semester:"第二年",courses:[{code:"IN505001",name:"系统分析导论",credits:15,grade:"A+",level:5},{code:"IN511001",name:"程序设计 2",credits:15,grade:"A+",level:5},{code:"IN512001",name:"Web技术与开发",credits:15,grade:"A+",level:5},{code:"IN515001",name:"网络导论",credits:15,grade:"A+",level:5},{code:"IN605001",name:"数据库 2",credits:15,grade:"A+",level:6},{code:"IN610001",name:"程序设计 3",credits:15,grade:"A+",level:6},{code:"IN612001",name:"Web程序设计",credits:15,grade:"A+",level:6},{code:"IN617001",name:"Linux操作系统",credits:15,grade:"A+",level:6}]},{year:"2019",semester:"第三年",courses:[{code:"IN602001",name:"软件工程",credits:15,grade:"A-",level:6},{code:"IN628002",name:"程序设计 4",credits:15,grade:"A+",level:6},{code:"IN700001",name:"项目 1",credits:15,grade:"A+",level:7},{code:"IN705002",name:"数据库 3",credits:15,grade:"A+",level:7},{code:"IN711001",name:"算法与数据结构",credits:15,grade:"A",level:7},{code:"IN712001",name:"企业Web开发",credits:15,grade:"A-",level:7},{code:"IN719001",name:"系统管理",credits:15,grade:"A",level:7},{code:"IN720001",name:"虚拟基础设施管理",credits:15,grade:"A",level:7}]},{year:"2021",semester:"第四年",courses:[{code:"IN608001",name:"中级应用开发概念",credits:15,grade:"A+",level:6},{code:"IN721001",name:"移动应用开发",credits:15,grade:"A+",level:7},{code:"IN730151",name:"三年级特殊主题",credits:15,grade:"A+",level:7},{code:"IN732001",name:"工作室 6",credits:15,grade:"通过",level:7}]}],awards:[{title:"学术卓越与最佳程序员奖",year:"2021",image:"/awared-best-programmer.jpeg"},{title:"信息技术学士优秀奖",year:"2019",image:"/awared-excellence.jpeg"}],capstoneProjects:[{name:"旅行助手",description:"使用Kotlin、Jetpack、Google Maps和Room DB开发的Android旅行规划应用。",technologies:["Kotlin","Android","Google Maps"],githubUrl:"https://github.com/aemooooon/travel-assistant",image:"/travelassistant/ta02.jpg"},{name:"FitsGo",description:"使用React Native和Firebase构建的健身追踪应用，支持位置跟踪和锻炼历史。",technologies:["React Native","Firebase"],githubUrl:"https://github.com/aemooooon/fitsgo",image:"/fitsgo/fitsgo.02.png"}]}]},contact:{title:"青鸟殷勤，共商鸿猷",subtitle:"翘盼汝之玉音！",description:"倘蒙垂询，或谋事，或叙契，一函可达。",location:"新西兰",emailAddress:"aemooooon@gmail.com",phone:"+64 21 *** 0520",connectWithMe:"社交媒体",lookingForward:"版权所有 © 2025 王华",contactMethods:{email:{title:"邮箱",description:"发送邮件"},phone:{title:"电话",description:"电话联系"},wechat:{title:"微信",description:"微信联系",id:"Aemooooon"},location:{title:"位置",description:"基督之城"}},social:{github:{url:"https://github.com/aemooooon",label:"GitHub"},linkedin:{url:"https://www.linkedin.com/in/aemonwang",label:"LinkedIn"},email:{url:"mailto:aemooooon@gmail.com",label:"邮箱"}}},ui:{language:"语言",theme:"主题",light:"浅色",dark:"深色",audio:"音频",play:"播放",pause:"暂停",mute:"静音",unmute:"取消静音",loading:"加载中...",backToHome:"返回首页",darkMode:"深色模式",lightMode:"浅色模式",toggleTheme:"切换主题",mobileScrollHint:"向下滑动探索更多..."}}},be=ot(rt((r,t)=>({language:"en",setLanguage:e=>r({language:e}),toggleLanguage:()=>r(e=>({language:e.language==="en"?"zh":"en"})),theme:"nz-blue",setTheme:e=>r({theme:e}),toggleTheme:()=>{const e=["nz-blue","si-green"];return r(i=>{const s=(e.indexOf(i.theme)+1)%e.length;return{theme:e[s]}})},currentSection:0,setCurrentSection:e=>r({currentSection:e}),currentEffect:"effectchaos",setCurrentEffect:e=>r({currentEffect:e}),isPointerLocked:!1,setIsPointerLocked:e=>r({isPointerLocked:e}),isScrolling:!1,setIsScrolling:e=>r({isScrolling:e}),enableOpeningAnimation:!0,setEnableOpeningAnimation:e=>r({enableOpeningAnimation:e}),selectedProject:null,isProjectModalOpen:!1,setSelectedProject:e=>r({selectedProject:e,isProjectModalOpen:!!e}),closeProjectModal:()=>r({selectedProject:null,isProjectModalOpen:!1}),sections:Ct,texts:Ie,projects:[{type:"Front End",title:"Front End Developer",name:"Corridor of Light and Shadow",company:"Hua Wang",description:{en:["As I actively pursue web development opportunities and prepare for technical interviews, I created this personal portfolio to dynamically showcase my skills and demonstrate my expertise in modern web development. This immersive digital experience serves as a living testament to my capabilities, presenting both my professional journey and technical mastery through interactive storytelling and cutting-edge implementation.","The application leverages React 18 with modern hooks architecture, utilizing useState, useEffect, useCallback, and useMemo for efficient state management and component optimization. Vite serves as the build tool with custom configuration for ES modules, tree-shaking, and optimized chunk splitting. Advanced state management is implemented through Zustand with persistence middleware, featuring centralized store patterns, reactive state updates, and immutable state transformations for predictable data flow. Comprehensive internationalization (i18n) system supports English and Chinese with dynamic language switching, persistent user preferences, and culturally appropriate content adaptation.","The standout feature is an immersive 3D animated cube opening sequence powered by GSAP timeline animations and Three.js WebGL rendering. Advanced WebGL performance optimization includes geometry instancing, texture atlasing, and efficient memory management to maintain 60fps across devices. Multiple dynamic themes are supported through a sophisticated CSS custom properties system with runtime switching, CSS-in-JS integration, and blend mode effects for visual harmony.","Complex SPA architecture employs custom routing logic with section-based navigation, implementing smooth scrolling algorithms with intersection observers and momentum-based transitions. Advanced scroll management includes scroll hijacking, directional detection, and synchronized animation systems. The intelligent cursor system features context-aware hover effects, directional tracking, and smooth interpolation between interaction states using custom mouse tracking algorithms. Comprehensive responsive design ensures optimal user experience across desktop, tablet, and mobile devices with fluid layouts, adaptive typography scaling, and touch-optimized interactions.","Performance optimization includes strategic code splitting with React.lazy and dynamic imports, WebGL resource pooling, texture compression, and efficient animation frame management. The application implements comprehensive error boundaries, progressive enhancement patterns, and accessibility features including ARIA labels, keyboard navigation support, and semantic HTML structure. Advanced CSS techniques include mix-blend-mode compositions, backdrop-filter effects, and GPU-accelerated animations.","The project showcases modern development workflows including ESLint and Prettier integration, component-driven development with atomic design principles, and comprehensive DevOps practices. Automated CI/CD pipeline is implemented through GitHub Actions, featuring automated testing, code quality checks, and seamless deployment to GitHub Pages with zero-downtime releases. The architecture demonstrates clean separation of concerns with custom hooks abstraction, utility-first CSS methodology, and maintainable code patterns suitable for enterprise-scale applications."],zh:["在我积极寻找web开发机会并为技术面试做准备的过程中，我创建了这个个人作品集来动态展示我的技能，并展现我在现代web开发方面的专业能力。这个沉浸式数字体验作为我能力的生动证明，通过交互式叙述和前沿技术实现，展现了我的职业历程和技术精通。","应用程序采用React 18现代hooks架构，利用useState、useEffect、useCallback和useMemo实现高效的状态管理和组件优化。Vite作为构建工具，配置了ES模块、树摇优化和优化的代码块分割。高级状态管理通过Zustand持久化中间件实现，具有集中式存储模式、响应式状态更新和不可变状态转换，确保可预测的数据流。全面的国际化(i18n)系统支持中英文动态语言切换、持久化用户偏好和文化适应性内容调整。","突出特色是由GSAP时间轴动画和Three.js WebGL渲染驱动的沉浸式3D立方体开场序列。先进的WebGL性能优化包括几何体实例化、纹理图集和高效内存管理，在各种设备上保持60fps。通过复杂的CSS自定义属性系统支持多种动态主题，具有运行时切换、CSS-in-JS集成和用于视觉和谐的混合模式效果。","复杂的SPA架构采用基于章节导航的自定义路由逻辑，实现带有交叉观察器和基于动量转换的平滑滚动算法。高级滚动管理包括滚动劫持、方向检测和同步动画系统。智能光标系统具有上下文感知的悬停效果、方向跟踪，以及使用自定义鼠标跟踪算法在交互状态间的平滑插值。全面的响应式设计确保在桌面、平板和移动设备上的最佳用户体验，具有流式布局、自适应字体缩放和触控优化交互。","性能优化包括使用React.lazy和动态导入的策略性代码分割、WebGL资源池、纹理压缩和高效的动画帧管理。应用程序实现了全面的错误边界、渐进增强模式和无障碍功能，包括ARIA标签、键盘导航支持和语义HTML结构。高级CSS技术包括混合模式合成、背景滤镜效果和GPU加速动画。","项目展示了现代开发工作流程，包括ESLint和Prettier集成、基于原子设计原则的组件驱动开发和全面的DevOps实践。通过GitHub Actions实现自动化CI/CD流水线，具有自动化测试、代码质量检查和零停机部署到GitHub Pages的无缝发布。架构展示了关注点的清晰分离，具有自定义hooks抽象、实用优先的CSS方法论和适合企业级应用程序的可维护代码模式。"]},coordinates:[-43.5224316,172.5943064],location:"Christchurch, New Zealand",year:"2025",links:{live:"https://www.hua.nz/",github:"https://github.com/aemooooon/hua.nz"},img:["/hua.nz/hua.nz.1.png","/hua.nz/hua.nz.2.jpg","/hua.nz/hua.nz.3.jpg","/hua.nz/hua.nz.4.jpg","/hua.nz/hua.nz.5.jpg","/hua.nz/hua.nz.6.jpg","/hua.nz/hua.nz.7.jpg","/hua.nz/hua.nz.8.jpg","/hua.nz/hua.nz.9.jpg"]},{type:"Full Stack",title:"Full Stack Developer",name:"Orchard Sampling Scheduler",company:"Zespri International",description:{en:["This project involved the end-to-end design and implementation of an orchard sampling optimization platform for Zespri International, New Zealand’s leading kiwifruit company. The primary goal was to create a system capable of scheduling and optimizing sampling tasks for hundreds of orchards across the Bay of Plenty region, while addressing challenges of time constraints, geographic distribution, and efficiency in field operations.","From a technical standpoint, the system was designed with a modern full-stack architecture. The frontend was built with React and TailwindCSS, providing a responsive, intuitive interface for managers to interact with orchard data and adjust schedules dynamically. For mapping and geospatial visualization, Leaflet and Folium were integrated to enable interactive exploration of orchard locations and routes, while OpenRouteService (with a locally deployed instance) powered multi-waypoint route optimization.","The backend was developed using Flask, exposing RESTful APIs to handle data processing, business logic, and communication with the frontend. A lightweight SQLite database was chosen to ensure portability and offline usability, enabling the system to function even in rural areas with limited connectivity. ETL pipelines were developed in Python to process diverse agricultural datasets, including orchard GPS coordinates, sampling windows, and priority rules. These pipelines automated the transformation of raw datasets into optimized scheduling inputs.","At the algorithmic level, the project tackled a variant of the Travelling Salesman Problem (TSP). Pre-computed pairwise distance matrices (generated via OpenRouteService) served as the foundation for optimization. Multiple TSP algorithms were evaluated for their balance of efficiency, scalability, and explainability, ensuring that the methodology could be communicated clearly to both technical and non-technical stakeholders. This data-driven approach was critical, given the project’s research orientation as part of a Master of Applied Data Science.","The system incorporated best practices not only in code but also in process. Agile-inspired iteration cycles guided development, with regular feedback loops from the client to validate usability and responsiveness. CI/CD pipelines were configured via GitHub Actions to automate deployment to an Azure VM, ensuring a reliable and reproducible release process. Containerization with Docker was used for environment consistency, while Nginx was deployed as a reverse proxy for secure hosting.","Beyond technical implementation, the project emphasized architectural clarity and trade-off analysis. Decisions such as choosing SQLite over heavier databases, deploying OpenRouteService locally for offline reliability, and designing an interface tailored to field managers’ workflows all reflected a thoughtful, context-driven approach. The result was not only a functional product but also a research contribution, demonstrating how data science and software engineering can be combined to address real-world agricultural challenges.","Ultimately, the Orchard Sampling Scheduler improved efficiency by enabling intelligent workload allocation, minimizing travel times, and aligning sampling tasks with operational constraints. It stands as both a professional-grade software system and a demonstration of applying algorithms, geospatial analysis, and system design principles to practical, industry-scale problems."],zh:["本项目是为新西兰领先的奇异果企业 Zespri International 设计与实现的一套果园采样优化平台，旨在解决 Bay of Plenty 地区数百个果园的采样调度问题。系统的核心目标是应对时间窗口、地理分布与作业效率等多重挑战，在保障果实品质评估的同时提高整体采样效率。","在技术架构上，平台采用现代全栈方案构建。前端基于 React 与 TailwindCSS，实现了响应式、直观的交互界面，便于管理人员实时查看果园数据与动态调整任务。地图与地理可视化方面，系统集成了 Leaflet 与 Folium，以支持果园分布与路线的交互式展示，同时结合本地部署的 OpenRouteService 实现多点路径优化。","后端采用 Flask 构建 RESTful API，负责数据处理、业务逻辑与前端交互。数据库选择轻量级 SQLite，以确保系统的可移植性与离线可用性，适用于乡村地区的弱网环境。Python 编写的 ETL 数据管道用于处理多样化的农业数据集，包括果园坐标、采样时间窗口与优先级规则，实现了从原始数据到优化调度输入的全自动转换。","在算法层面，项目研究并实现了旅行商问题 (TSP) 的变体。通过 OpenRouteService 预计算的两两距离矩阵作为优化基础，比较并选取了多种 TSP 算法，以平衡效率、可扩展性与可解释性，确保方法论既科学可靠又便于行业用户理解。作为应用数据科学硕士的研究性项目，这种数据驱动的思路尤为关键。","项目在代码与过程上都注重最佳实践。开发过程采用敏捷式迭代，与客户保持定期反馈循环，以确保系统的易用性与实际契合度。CI/CD 管道基于 GitHub Actions 构建，自动化部署至 Azure VM，实现了稳定可重复的上线流程。Docker 容器化确保了环境一致性，Nginx 则作为反向代理提供安全的服务托管。","除技术实现外，本项目还强调架构清晰度与取舍分析。例如：选择 SQLite 而非重量级数据库以提升便携性，在本地部署 OpenRouteService 保证离线可用性，以及针对田间管理者需求定制交互界面，这些都体现了以场景为导向的工程判断。成果不仅是一套可投入使用的系统，更是一份研究探索，展现了数据科学与软件工程结合解决农业行业实际问题的可能性。","最终，该果园采样调度平台通过智能化任务分配、出行时间最小化和调度自动化，使采样效率显著提升。它既是一款专业级的软件系统，也是一份将算法、地理空间分析与系统设计应用于产业实践的案例。"]},coordinates:[-37.7866,176.4416],location:"Bay of Plenty, New Zealand",year:"2024-2025",links:{official:"https://www.zespri.com"},img:["/zespri/zespri-ors.jpg","/zespri/zespri_poster.png","/zespri/zespri.1.jpg","/zespri/zespri.2.jpg"]},{type:"Front End",title:"Front End Developer",name:"Realibox Portal",company:"Realibox",description:{en:["As a Senior Frontend Developer at Realibox, I led the development of the official website and marketing portal for a cutting-edge 3D cloud collaboration platform. This enterprise-level project showcased advanced frontend architecture and served as the primary marketing gateway for Realibox's comprehensive 3D design ecosystem, targeting professional designers, architects, and enterprise clients across multiple industries.","The application was built with Next.js 12 featuring server-side rendering (SSR) for optimal SEO performance and lightning-fast page loads. Implemented sophisticated device detection and adaptive rendering, providing separate optimized experiences for desktop and mobile clients through dynamic component loading. Advanced state management was achieved using MobX with reactive patterns, enabling real-time UI updates and efficient cross-component data synchronization across complex user workflows.","Architected a sophisticated multi-theme CSS system using CSS modules, LESS preprocessor, and runtime theme switching capabilities. Implemented advanced responsive design patterns supporting seamless transitions between desktop and mobile layouts with fluid typography scaling, touch-optimized interactions, and adaptive navigation structures. The design system featured custom CSS blend modes, GPU-accelerated animations, and sophisticated visual effects that enhanced user engagement while maintaining optimal performance.","Complex single-page application (SPA) architecture employed custom routing logic with smooth section-based navigation, implementing intersection observers for scroll-triggered animations and dynamic content loading. Advanced scroll management included momentum-based transitions, directional detection, and synchronized animation sequences that created an immersive storytelling experience. Integrated Swiper.js for touch-enabled carousels and interactive content presentation.","Performance optimization strategies included strategic code splitting with dynamic imports, image optimization supporting WebP and modern formats, lazy loading implementations, and efficient bundle management. Implemented comprehensive error boundaries, progressive loading states, and robust exception handling. Advanced DevOps practices included GitLab CI/CD pipeline automation with multi-environment deployments, automated testing workflows, and zero-downtime production releases.","The project demonstrated enterprise-scale frontend development capabilities including component-driven architecture with atomic design principles, comprehensive TypeScript integration, and maintainable code patterns suitable for large development teams. Collaborated extensively with UX/UI designers, product managers, and backend engineers in an Agile environment, ensuring pixel-perfect implementation and seamless API integration for dynamic content management."],zh:["作为Realibox的高级前端开发工程师，我主导开发了前沿3D云协作平台的官方网站和营销门户。这个企业级项目展示了先进的前端架构，作为Realibox综合3D设计生态系统的主要营销门户，面向多个行业的专业设计师、建筑师和企业客户。","应用程序使用Next.js 12构建，具有服务器端渲染(SSR)功能，实现最佳SEO性能和闪电般的页面加载速度。实现了复杂的设备检测和自适应渲染，通过动态组件加载为桌面和移动客户端提供单独优化的体验。使用MobX的响应式模式实现高级状态管理，在复杂用户工作流程中实现实时UI更新和高效的跨组件数据同步。","架构了复杂的多主题CSS系统，使用CSS模块、LESS预处理器和运行时主题切换功能。实现了先进的响应式设计模式，支持桌面和移动布局之间的无缝转换，具有流式字体缩放、触控优化交互和自适应导航结构。设计系统具有自定义CSS混合模式、GPU加速动画和复杂视觉效果，在保持最佳性能的同时增强用户参与度。","复杂的单页应用程序(SPA)架构采用自定义路由逻辑和平滑的基于章节的导航，实现交叉观察器进行滚动触发动画和动态内容加载。高级滚动管理包括基于动量的转换、方向检测和同步动画序列，创造沉浸式叙述体验。集成Swiper.js实现触控轮播和交互式内容展示。","性能优化策略包括使用动态导入的策略性代码分割、支持WebP和现代格式的图像优化、懒加载实现和高效的包管理。实现了全面的错误边界、渐进加载状态和健壮的异常处理。先进的DevOps实践包括GitLab CI/CD流水线自动化、多环境部署、自动化测试工作流程和零停机生产发布。","项目展示了企业级前端开发能力，包括基于原子设计原则的组件驱动架构、全面的TypeScript集成，以及适合大型开发团队的可维护代码模式。在敏捷环境中与UX/UI设计师、产品经理和后端工程师广泛协作，确保像素完美的实现和动态内容管理的无缝API集成。"]},coordinates:[22.9951158,113.3335372],location:"Guangzhou, China",year:"2021-2023",links:{live:"https://www.realibox.com/"},img:["/realibox/official/official.01.jpg","/realibox/official/official.02.jpg","/realibox/official/official.03.jpg"]},{type:"Front End",title:"Front End Developer",name:"Realibox Hub & 3D Editor",company:"Realibox",description:{en:["As a Senior Frontend Developer at Realibox, I architected and developed a comprehensive cloud-based 3D design platform comprising five interconnected microservice repositories. This sophisticated system provided professional designers and enterprises with advanced 3D modeling, rendering, and collaboration capabilities through a modular, scalable architecture that demonstrated mastery of modern web development and distributed system design.","The platform was built using cutting-edge technologies including React 18, Vite as the build tool for lightning-fast development experience, and MobX 6 for reactive state management across complex application workflows. Implemented comprehensive TypeScript integration throughout all microservices, ensuring type safety and maintainable code architecture. The system utilized advanced WebGL-based 3D rendering engines with custom canvas implementations for real-time 3D scene manipulation and high-performance visualization.","Architected a sophisticated microservice ecosystem with five specialized repositories: designhub-accounts-web for user authentication and account management, designhub-common-core containing shared utilities and business logic, designhub-common-ui housing reusable UI components, designhub-hub-web serving as the main platform dashboard, and ishot-editor-web providing the core 3D editing capabilities. Each service was designed with clear separation of concerns and robust API integrations.","The core 3D editor featured advanced WebGL rendering capabilities with real-time scene manipulation, material editing systems, collaborative editing features, and cloud-based project synchronization. Implemented sophisticated state management using MobX stores for editor, scene, render, material, and user management. The system supported complex 3D workflows including model importing, texture management, lighting control, and high-quality rendering pipelines with performance optimization for handling large 3D assets.","Implemented comprehensive DevOps practices including automated CI/CD pipelines using GitLab, multi-environment deployment strategies, and advanced package management with pnpm workspaces and Turbo for efficient monorepo operations. Utilized Changesets for version management and automated npm package publishing to private registries. The system featured robust error handling, comprehensive testing with Vitest and Cypress, and progressive loading strategies for optimal user experience.","The project demonstrated enterprise-scale frontend development capabilities including component-driven architecture with atomic design principles, advanced internationalization support, theme management systems, and accessibility features. Collaborated extensively with backend engineers, 3D graphics specialists, and product teams in an Agile environment, ensuring seamless integration of complex 3D workflows with intuitive user interfaces and robust cloud infrastructure."],zh:["作为Realibox的高级前端开发工程师，我架构并开发了一个全面的云端3D设计平台，包含五个相互连接的微服务代码库。这个复杂的系统为专业设计师和企业提供了先进的3D建模、渲染和协作功能，通过模块化、可扩展的架构展示了现代web开发和分布式系统设计的精通。","平台采用前沿技术构建，包括React 18、Vite作为构建工具提供闪电般的开发体验，以及MobX 6用于复杂应用程序工作流程的响应式状态管理。在所有微服务中实现了全面的TypeScript集成，确保类型安全和可维护的代码架构。系统利用先进的基于WebGL的3D渲染引擎和自定义canvas实现，实现实时3D场景操作和高性能可视化。","架构了复杂的微服务生态系统，包含五个专门的代码库：designhub-accounts-web用于用户认证和账户管理，designhub-common-core包含共享工具和业务逻辑，designhub-common-ui存放可重用UI组件，designhub-hub-web作为主要平台仪表板，ishot-editor-web提供核心3D编辑功能。每个服务都设计了清晰的关注点分离和健壮的API集成。","核心3D编辑器具有先进的WebGL渲染功能，包括实时场景操作、材质编辑系统、协作编辑功能和云端项目同步。使用MobX存储实现了复杂的状态管理，包括编辑器、场景、渲染、材质和用户管理。系统支持复杂的3D工作流程，包括模型导入、纹理管理、光照控制和高质量渲染管道，并对处理大型3D资产进行了性能优化。","实现了全面的DevOps实践，包括使用GitLab的自动化CI/CD流水线、多环境部署策略，以及使用pnpm工作空间和Turbo进行高效monorepo操作的先进包管理。利用Changesets进行版本管理和自动化npm包发布到私有注册表。系统具有健壮的错误处理、使用Vitest和Cypress的全面测试，以及用于最佳用户体验的渐进加载策略。","项目展示了企业级前端开发能力，包括基于原子设计原则的组件驱动架构、先进的国际化支持、主题管理系统和无障碍功能。在敏捷环境中与后端工程师、3D图形专家和产品团队广泛协作，确保复杂3D工作流程与直观用户界面和健壮云基础设施的无缝集成。"]},coordinates:[22.9951158,113.3335372],location:"Guangzhou, China",year:"2021-2023",links:{live:"https://hub.realibox.com/"},img:["/realibox/editor/editor.01.jpg","/realibox/editor/editor.02.jpg","/realibox/editor/editor.03.jpg","/realibox/editor/realibox.00.jpg","/realibox/editor/editor.04.jpg","/realibox/editor/editor.05.jpg","/realibox/editor/editor.06.jpg"]},{type:"Full Stack",tags:["Full Stack","Data Engineer"],title:"Full Stack Developer",name:"Real-time AQI Platform",company:"Enshi Environmental Agency",description:{en:["Real-time AQI Platform is a comprehensive air quality monitoring system that I developed for environmental health awareness. The platform combines advanced data engineering with modern web technologies to provide real-time air quality insights to the public. This full-stack application demonstrates my ability to build complex systems that handle real-time data processing, web scraping, and interactive visualizations.","The backend is built with Spring Boot 2.4 and follows a robust microservices architecture. I implemented scheduled data collection tasks that automatically fetch XML data from government environmental APIs every 30 minutes for hourly data and daily at 10 AM for daily summaries. The system uses JDOM2 for XML parsing, cleaning and transforming raw environmental data into structured objects. MyBatis Plus handles database operations with MySQL 5.7 for persistent storage, while Redis provides caching and session management.","The data pipeline is a key component that showcases my data engineering skills. XML web services provide data for multiple monitoring stations, measuring PM2.5, PM10, SO2, NO2, CO, and O3 levels. My custom data cleaning algorithms filter out invalid readings, handle missing values, and perform unit conversions. The system calculates AQI values, determines health risk levels, and generates multilingual health recommendations. All processed data is automatically stored with proper indexing for fast retrieval.","I developed three different frontend applications to serve different user needs. The main public interface uses vanilla JavaScript with ECharts for data visualization, featuring real-time gauge charts, trend analysis, heatmaps, and geographical mapping. The admin panel is built with React 17 and Ant Design, providing comprehensive system management, user authentication with JWT tokens, operation logging, and statistical dashboards. I also created a Vue.js version for enhanced interactivity.","The platform includes innovative health awareness features that set it apart from basic monitoring systems. I implemented real-time health alerts that change color coding based on AQI levels, from green for good air quality to maroon for hazardous conditions. The Web Speech API integration provides voice announcements in English, reading current AQI values, health implications, and cautionary statements. Users receive contextual health advice like 'suitable for outdoor activities' or 'sensitive groups should limit outdoor exposure'.","The technical architecture demonstrates enterprise-level development practices. I used Swagger 2 for API documentation, implemented AES encryption for sensitive configuration data, and built comprehensive logging systems for monitoring data collection activities. The frontend uses Webpack for asset bundling, Axios for HTTP requests, and responsive CSS with AOS animations. The admin system features role-based access control, operation auditing, and real-time statistics. This project showcases my ability to build scalable, user-focused applications that combine technical complexity with practical public health benefits."],zh:["实时AQI平台是我为环保健康意识开发的综合空气质量监测系统。该平台将先进的数据工程与现代网络技术相结合，为公众提供实时空气质量洞察。这个全栈应用展示了我构建复杂系统的能力，包括实时数据处理、网络爬虫和交互式可视化。","后端使用Spring Boot 2.4构建，遵循稳健的微服务架构。我实现了定时数据收集任务，每30分钟自动从政府环保API获取XML数据进行小时数据更新，每日上午10点获取日度汇总。系统使用JDOM2进行XML解析，清洗和转换原始环境数据为结构化对象。MyBatis Plus处理MySQL 5.7的数据库操作，Redis提供缓存和会话管理。","数据管道是展示我数据工程技能的关键组件。XML网络服务提供多个监测站点的数据，测量PM2.5、PM10、SO2、NO2、CO和O3等级。我的自定义数据清洗算法过滤无效读数，处理缺失值，执行单位转换。系统计算AQI值，确定健康风险等级，生成多语言健康建议。所有处理后的数据自动存储并建立适当索引以便快速检索。","我开发了三个不同的前端应用来满足不同用户需求。主要公共界面使用原生JavaScript配合ECharts进行数据可视化，包含实时仪表盘图表、趋势分析、热力图和地理映射。管理面板使用React 17和Ant Design构建，提供全面的系统管理、JWT令牌用户认证、操作日志记录和统计仪表板。我还创建了Vue.js版本以增强交互性。","平台包含创新的健康意识功能，使其区别于基础监测系统。我实现了基于AQI等级的实时健康警报，颜色编码从良好空气质量的绿色到危险状况的栗色。Web Speech API集成提供英语语音播报，朗读当前AQI值、健康影响和注意事项。用户收到上下文健康建议，如'适合户外活动'或'敏感人群应限制户外暴露'。","技术架构展示了企业级开发实践。我使用Swagger 2进行API文档化，为敏感配置数据实现AES加密，构建全面的日志系统监控数据收集活动。前端使用Webpack进行资产打包，Axios处理HTTP请求，响应式CSS配合AOS动画。管理系统具有基于角色的访问控制、操作审计和实时统计。这个项目展示了我构建可扩展、以用户为中心的应用程序的能力，将技术复杂性与实际公共健康效益相结合。"]},coordinates:[30.311395,109.4795951],location:"Enshi, Hubei, China",year:"2020",links:{live:"https://aqi.eseemc.cn/"},img:["/aqi/aqi01.jpg","/aqi/aqi02.png","/aqi/aqi03.png","/aqi/aqi04.jpg","/aqi/aqi05.jpg","/aqi/aqi06.jpg","/aqi/aqi07.png","/aqi/aqi08.jpg","/aqi/aqi09.jpg","/aqi/aqi10.png","/aqi/aqi11.png","/aqi/aqi12.png","/aqi/aqi13.png"]},{type:"WebGL",title:"Interactive 360° Virtual Tour Platform",name:"Real Estate VR Collections",company:"Neuclear Stone Digital",description:{en:"Developed a comprehensive 360° virtual tour platform for real estate marketing, serving 18+ property developments across China. Built using JavaScript and WebGL-based 3D libraries, enabling immersive panoramic exploration of buildings, rooms, and outdoor spaces. Implemented advanced features including clickable hotspots, scene transitions, interactive floor plans, and cross-platform compatibility for web and mobile devices. The platform helped property developers showcase their projects remotely, significantly reducing on-site visits while maintaining high engagement rates.",zh:"开发了全面的360°虚拟看房平台，为中国18+个房地产项目提供营销服务。使用JavaScript和基于WebGL的3D库构建，实现对建筑、房间和户外空间的沉浸式全景探索。实现了先进功能，包括可点击热点、场景切换、交互式户型图以及Web和移动设备的跨平台兼容性。该平台帮助房地产开发商远程展示项目，大大减少了实地看房，同时保持高参与度。"},coordinates:[30.2888597,109.4846285],location:"Chongqing, China",year:"2020-2021",img:["/vr/fhjy.jpg","/vr/changpingli.jpg","/vr/dalincheng.jpg","/vr/gyyh.jpg","/vr/htfxj.jpg","/vr/jhhy.jpg","/vr/jlw.jpg","/vr/jxmm.jpg","/vr/jsjxmm.jpg","/vr/pzf.jpg","/vr/tf.jpg","/vr/wjsf.jpg","/vr/xcsd.jpg","/vr/ybhf.jpg","/vr/ysxc.jpg","/vr/zyyc.jpg","/vr/tsyhy.jpg"],tech:["JavaScript","WebGL","3D Libraries","HTML5","CSS3","Responsive Design"],stats:{projects:18,locations:"8 provinces",clients:"12 real estate developers"},projects:[{name:"Changpingli VR Tour",nameZh:"常平里虚拟看房",description:"Interactive 360° virtual tour for luxury residential development featuring multiple building views and interior spaces.",links:{live:""},img:"/vr/changpingli.jpg"},{name:"Dalincheng Virtual Experience",nameZh:"大林城虚拟体验",description:"Comprehensive virtual tour system with interactive hotspots and seamless scene transitions for residential complex.",links:{live:""},img:"/vr/dalincheng.jpg"},{name:"Guanyin Lakeside VR",nameZh:"观音湖畔虚拟现实",description:"Premium lakeside property virtual tour with outdoor landscape and interior showcase capabilities.",links:{live:""},img:"/vr/gyyh.jpg"},{name:"Huatian International",nameZh:"华天国际",description:"High-end commercial and residential complex virtual tour with advanced navigation features.",links:{live:""},img:"/vr/htfxj.jpg"},{name:"Jinhai Bay Villa",nameZh:"金海湾别墅",description:"Luxury villa development virtual tour featuring detailed room-by-room exploration and exterior views.",links:{live:""},img:"/vr/jhhy.jpg"}]},{type:"Website",title:"Corporate Website Development Platform",name:"Enterprises Portal Collections",company:"Day Digital",description:{en:"Comprehensive corporate website development solution serving government agencies, healthcare institutions, tourism bureaus, and private enterprises. Built using CMS platforms with custom database architecture, responsive UI implementation from design mockups, and full deployment management across multiple production servers.",zh:"为政府机构、医疗机构、旅游局和私营企业提供的综合性企业网站开发解决方案。使用CMS平台构建，具有定制数据库架构，从设计稿实现响应式UI，并在多个生产服务器上进行全面的部署管理。"},coordinates:[30.297884,109.4955927],location:"Enshi, Hubei, China",year:"2019",link:"https://www.es9e.cn/",img:["/website/tenglongdong.jpg","/website/enshitusicheng01.jpg","/website/enshitusicheng02.jpg","/website/yangshegnhefeng.jpg","/website/es9e.jpg","/website/enshizhoubowuguan.jpg","/website/enshizhousheyingjiaxiehui.jpg"],tech:["CMS Platform","PHP","MySQL","HTML5","CSS3","JavaScript","Responsive Design","Apache","Linux"],stats:{clients:"6+ organizations",sectors:"Healthcare, Tourism, Government, Corporate",features:"Custom CMS, Database Design, Responsive UI",uptime:"99.8%",pages:"200+ pages total"},projects:[{name:"Enshi Central Hospital",nameZh:"恩施州中心医院",description:"Comprehensive healthcare website with patient information management, appointment booking system, and medical department showcase. Implemented complex database structure for patient records and integrated with hospital management systems. Features include online registration, doctor profiles, medical news, and health education resources.",links:{official:"https://www.es9e.cn/"},img:"/es9e.jpg",features:["Patient Management","Online Appointments","Medical Departments","News System","Health Education","Doctor Profiles"]},{name:"Tenglong Cave Official Website",nameZh:"腾龙洞官方网站",description:"Tourism attraction website featuring virtual tours, visitor information, booking system, and multilingual support. Integrated with payment gateways and visitor management systems. Includes interactive maps, weather information, and cultural heritage content.",links:{official:"http://tenglongdong.net.cn/"},img:"/tld.jpg",features:["Virtual Tours","Online Booking","Multilingual Support","Payment Integration","Interactive Maps","Weather Info"]},{name:"Badong Tourism Bureau",nameZh:"巴东县旅游局",description:"Government tourism portal showcasing local attractions, travel guides, cultural information, and tourism statistics. Built with content management system for easy updates by bureau staff. Features comprehensive destination guides and event management system.",links:{},img:"",features:["Tourism Information","Cultural Heritage","Travel Guides","Event Management","Statistics Dashboard","Photo Gallery"]},{name:"Jinguo Tea Corporate Site",nameZh:"金果茶叶企业网站",description:"Corporate website for tea manufacturer featuring product catalog, company history, quality certifications, and e-commerce integration. Included inventory management and order processing systems with real-time stock updates and customer portal.",links:{},img:"",features:["Product Catalog","E-commerce","Quality Certificates","Order Management","Inventory System","Customer Portal"]}]},{type:"Mobile Apps",title:"FitsGo",name:"FitsGo",company:"Otago Polytechnic",description:{en:"A comprehensive fitness tracking mobile application designed to encourage people to start exercising by providing interactive map-based workout experiences. Built as a cross-platform app using React Native and Firebase, FitsGo allows users to select exercise routes from nearby points of interest, track their workouts (running, walking, cycling) with real-time GPS monitoring, and earn badges for visiting locations. Features include user authentication, profile management with weight/age tracking, real-time calorie calculation based on MET values, workout history with detailed statistics, and social elements for future friend connectivity and weekly challenges.",zh:"一个综合性健身追踪移动应用程序，旨在通过提供基于地图的交互式锻炼体验来鼓励人们开始锻炼。使用React Native和Firebase构建的跨平台应用，FitsGo允许用户从附近的兴趣点选择锻炼路线，通过实时GPS监控跟踪锻炼（跑步、步行、骑行），并通过访问位置获得徽章。功能包括用户认证、带有体重/年龄跟踪的个人资料管理、基于MET值的实时卡路里计算、带有详细统计的锻炼历史，以及未来朋友连接和每周挑战的社交元素。"},coordinates:[-45.8750186,170.4973482],location:"Dunedin, New Zealand",year:"2019",links:{github:"https://github.com/aemooooon/FitsGo"},img:["/fitsgo/fitsgo.01.gif","/fitsgo/fitsgo.02.png","/fitsgo/fitsgo.03.jpg","/fitsgo/fitsgo.04.jpg","/fitsgo/fitsgo.05.jpg","/fitsgo/fitsgo.06.jpg","/fitsgo/fitsgo.07.jpg","/fitsgo/fitsgo.08.jpg","/fitsgo/fitsgo.09.jpg","/fitsgo/fitsgo.10.jpg"]},{type:"Mobile Apps",title:"Travel Assistant",name:"Travel Assistant",company:"Otago Polytechnic",description:{en:"An Android-based travel companion application built with Kotlin and Room Database, designed to help travelers explore unfamiliar countries with confidence. The app features interactive Google Maps integration with clustered location markers, country selection dropdown, real-time location services, and multilingual phrase translation using Yandex API. Built using modern Android architecture components including ViewModel, LiveData, Coroutines, and View/Data Binding, with comprehensive documentation generated using Dokka and UI testing implemented with Espresso. The application provides curated lists of top-rated attractions and landmarks for each country, complete with coordinates and detailed information.",zh:"一个基于Android的旅行伴侣应用程序，使用Kotlin和Room数据库构建，旨在帮助旅行者自信地探索陌生的国家。该应用程序具有与聚类位置标记的交互式Google Maps集成、国家选择下拉菜单、实时位置服务，以及使用Yandex API的多语言短语翻译功能。使用现代Android架构组件构建，包括ViewModel、LiveData、协程和视图/数据绑定，使用Dokka生成全面的文档，并使用Espresso实现UI测试。该应用程序为每个国家提供精选的顶级景点和地标列表，包含坐标和详细信息。"},coordinates:[-45.8750186,170.4973482],location:"Dunedin, New Zealand",year:"2019",links:{github:"https://github.com/aemooooon/Travel-Assistant"},img:["/travelassistant/ta01.jpg","/travelassistant/ta02.jpg","/travelassistant/ta03.jpg","/travelassistant/ta04.jpg","/travelassistant/ta05.jpg","/travelassistant/ta06.jpg","/travelassistant/ta07.jpg","/travelassistant/ta08.jpg"]},{type:"Full Stack",tags:["Full Stack","Data Engineer"],title:"ECAN Data Pipeline",name:"ECAN Data Pipeline",company:"University of Canterbury",description:{en:["ECAN Data Pipeline represents a large-scale collaborative data engineering project involving 22 students from the DATA472 course (Cloud Computing and Infrastructure Data Engineering) at University of Canterbury. I served as one of three core volunteer developers responsible for architecting and implementing the central data collection infrastructure. The project was initiated by a requirement from an ECAN (Environment Canterbury) employee who was also a student in our instructor's program, creating a real-world data engineering challenge for environmental monitoring in Canterbury.","As the technical lead for backend infrastructure, I designed and implemented a comprehensive Apache Airflow-based data collection service that orchestrates automated ETL pipelines for over 20 individual student datasets. Each student sourced their own environmental data from ECAN's open data portal, and I created standardized data ingestion processors that handle diverse data formats including CSV, JSON, and XML. The Airflow DAGs run on scheduled intervals using CRON expressions, with daily and hourly collection patterns depending on data source requirements.","The architecture utilizes AWS cloud infrastructure extensively, with PostgreSQL databases deployed on AWS RDS for centralized data storage and Express.js API services running on EC2 instances. I developed a Node.js Web API service with comprehensive Swagger documentation that provides RESTful endpoints for each student's dataset. The API implements proper error handling, Winston logging, and CORS configuration to support multiple frontend applications. Each student has their own dedicated route and processor, allowing for modular data management while maintaining system cohesion.","My role extended beyond technical implementation to include mentoring non-IT background students in data engineering concepts and best practices. I provided guidance on data cleaning techniques, database schema design, and API development while ensuring all contributions followed standardized patterns. The PostgreSQL database schema accommodates various environmental data types including air quality measurements, water quality indicators, and meteorological data, with proper indexing and foreign key relationships for optimal query performance.","The system demonstrates advanced DevOps practices with automated deployment pipelines, environment configuration management using dotenv, and comprehensive logging across all services. I implemented data validation layers that ensure data quality and consistency across diverse student contributions. The Airflow web interface provides monitoring capabilities for all DAG executions, with detailed logs and error tracking. The project successfully aggregated environmental data from Canterbury region, enabling comprehensive analysis of air quality, water quality, and climate patterns.","Beyond the core infrastructure, I contributed to multiple visualization components including Python Streamlit dashboards and GraphQL APIs for flexible data querying. The project showcases enterprise-level data engineering skills including microservices architecture, cloud deployment, automated testing, and collaborative development workflows. This experience demonstrates my ability to lead technical teams, architect scalable data systems, and deliver complex projects that bridge academic learning with real-world environmental monitoring requirements."],zh:["ECAN数据管道代表了一个大规模协作数据工程项目，涉及坎特伯雷大学DATA472课程（云计算和基础设施数据工程）的22名学生。我担任三名核心志愿开发者之一，负责架构和实施中央数据收集基础设施。该项目由ECAN（坎特伯雷环境局）员工发起，他也是我们导师项目的学生，为坎特伯雷环境监测创造了真实世界的数据工程挑战。","作为后端基础设施的技术负责人，我设计并实施了基于Apache Airflow的综合数据收集服务，为超过20个学生个人数据集编排自动化ETL管道。每个学生从ECAN开放数据门户获取自己的环境数据，我创建了处理多样化数据格式（包括CSV、JSON和XML）的标准化数据摄取处理器。Airflow DAGs使用CRON表达式按计划间隔运行，根据数据源要求采用每日和每小时收集模式。","架构广泛使用AWS云基础设施，PostgreSQL数据库部署在AWS RDS上进行集中数据存储，Express.js API服务运行在EC2实例上。我开发了带有完整Swagger文档的Node.js Web API服务，为每个学生的数据集提供RESTful端点。API实现了适当的错误处理、Winston日志记录和CORS配置，以支持多个前端应用程序。每个学生都有自己专用的路由和处理器，允许模块化数据管理同时保持系统凝聚力。","我的角色超越了技术实施，还包括指导非IT背景学生学习数据工程概念和最佳实践。我在数据清洗技术、数据库架构设计和API开发方面提供指导，同时确保所有贡献遵循标准化模式。PostgreSQL数据库架构适应各种环境数据类型，包括空气质量测量、水质指标和气象数据，具有适当的索引和外键关系以优化查询性能。","系统展示了先进的DevOps实践，包括自动化部署管道、使用dotenv的环境配置管理和所有服务的全面日志记录。我实现了数据验证层，确保多样化学生贡献的数据质量和一致性。Airflow网络界面为所有DAG执行提供监控功能，具有详细日志和错误跟踪。该项目成功聚合了坎特伯雷地区的环境数据，实现了空气质量、水质和气候模式的综合分析。","除了核心基础设施，我还为多个可视化组件做出贡献，包括Python Streamlit仪表板和用于灵活数据查询的GraphQL API。该项目展示了企业级数据工程技能，包括微服务架构、云部署、自动化测试和协作开发工作流程。这一经验展示了我领导技术团队、架构可扩展数据系统以及交付连接学术学习与真实世界环境监测要求的复杂项目的能力。"]},coordinates:[-43.5357406,172.6358119],location:"Christchurch, New Zealand",year:"2024",links:{github:"https://github.com/aemooooon/DATA472-Individual-Project-Submission"},img:["/data472/v1.gif","/data472/v2.gif","/data472/472.png","/data472/af01.jpg","/data472/datapipeline.png","/data472/FuelPriceData.jpg","/data472/GasStationData.jpg","/data472/ProjectManagement.jpg","/data472/services.png","/data472/WebApiResponse.jpg"]},{type:"Activity",title:"Assisted IT Meetups",company:"CITANZ",name:"CITANZ CHCH Events",description:{en:"Active volunteer contributor to CITANZ (Chinese Information Technology Association of New Zealand) Christchurch chapter, facilitating monthly IT community meetups that bring together professionals, students, and technology enthusiasts. Serve as both speaker and engaged listener, sharing technical expertise on software development, data engineering, and emerging technologies while learning from diverse industry perspectives. Actively mentor newcomers to the tech industry, providing guidance on career development, technical skills, and industry best practices. Foster collaborative learning environments through organizing workshops, panel discussions, and networking sessions that strengthen the local tech community. Contribute to knowledge exchange initiatives by facilitating discussions on current technology trends, helping members solve technical challenges, and connecting professionals across different specializations. This volunteer work exemplifies the spirit of giving back to the community while continuously growing through peer learning and mentorship opportunities.",zh:"作为新西兰计算机和信息技术协会(CITANZ)基督城分会的积极志愿者，协助举办月度IT社区聚会，汇聚专业人士、学生和技术爱好者。既担任演讲者又是积极的倾听者，分享软件开发、数据工程和新兴技术方面的专业知识，同时从多元化的行业视角中学习。积极指导技术行业新人，在职业发展、技术技能和行业最佳实践方面提供指导。通过组织研讨会、小组讨论和网络交流会，营造协作学习环境，加强本地技术社区建设。通过促进当前技术趋势讨论、帮助成员解决技术挑战、连接不同专业领域的专业人士，为知识交流倡议做出贡献。这项志愿工作体现了回馈社区的精神，同时通过同伴学习和导师机会持续成长。"},coordinates:[-43.5828903,172.5695089],location:"Halswell Library, Christchurch",year:"2024-2025",links:{official:"https://www.cita.org.nz/"},img:["/citanz/cita-00.jpg","/citanz/cita-01.jpg","/citanz/cita-02.jpg","/citanz/cita-03.jpg","/citanz/cita-04.jpg","/citanz/cita-04.5.jpg","/citanz/cita-05.jpg","/citanz/cita-06.jpg","/citanz/cita-07.jpg","/citanz/cita-08.jpg","/citanz/cita-09.jpg"]},{type:"Activity",title:"Save Kiwi",name:"AI Hackathon 2024",company:"University of Canterbury",description:{en:"Design an AI solution to help existing organizations improve maintenance and analysis efficiency to better protect kiwi birds. It uses advanced tech to protect kiwi birds by combining smart cages, edge computing, and cloud analytics. Smart cages with RGB cameras monitor wildlife, while edge computing processes images in real-time using a vision-transformer model. This model distinguishes between kiwi birds, predators, and non-threatening animals. Predators are captured; others are released. Data is sent to a cloud platform for monitoring and alerts, enabling quick conservation responses.",zh:"设计一个AI解决方案，帮助现有组织提高维护和分析效率，更好地保护奇异鸟。它通过结合智能笼子、边缘计算和云分析等先进技术来保护奇异鸟。带有RGB摄像头的智能笼子监控野生动物，边缘计算使用视觉变换器模型实时处理图像。该模型区分奇异鸟、捕食者和非威胁动物。捕食者被捕获，其他动物被释放。数据发送到云平台进行监控和警报，实现快速保护响应。"},coordinates:[-43.5218726,172.5674936],location:"University of Canterbury",year:"2024",links:{official:"https://aihackathon.nz/ai-hackathon-2024/"},img:["/f4/f4.3.jpeg","/f4/f4.jpg","/f4/f4.1.jpg","/f4/f4.2.jpg","/f4/f4.4.jpeg","/f4/f4.5.jpg"]}],locations:[{type:"work",name:"Orchard Sampling Scheduler",client:"Zespri International",coordinates:[-37.7866,176.4416],location:"Bay of Plenty, New Zealand",year:"2024-2025",link:"https://www.zespri.com",img:"/zespri/zespri.1.jpg"},{type:"work",name:"3D Saas Platform",client:"Realibox",coordinates:[22.9951158,113.3335372],location:"Guangzhou, China",year:"2021-2023",link:"https://hub.realibox.com/",img:["/realibox/official/official.01.jpg"]},{type:"work",name:"Interactive 360° Virtual Tour Application",client:"Chongqing Nuclear Stone Technology",coordinates:[29.5638,106.5505],location:"Chongqing, China",year:"2020-2021",link:"",img:"/vr/htfxj.jpg"},{type:"project",name:"Real-time Air Quality Index Publish Platform",client:"Enshi Environmental Agency",coordinates:[30.311395,109.4795951],location:"Enshi, Hubei, China",year:"2020",links:{live:"https://aqi.eseemc.cn/"},img:"/aqi/aqi06.jpg"},{type:"education",name:"Master of Applied Data Science",client:"University of Canterbury",coordinates:[-43.5232,172.5835],location:"Christchurch, New Zealand",year:"2024-2025",link:"https://www.canterbury.ac.nz",img:"uc-ds-all.jpg"},{type:"education",name:"Bachelor of Information Technology",client:"Otago Polytechnic",coordinates:[-45.8664633,170.5182829],location:"Dunedin, New Zealand",year:"2017-2021",link:"https://www.op.ac.nz",img:"awared-best-programmer.jpeg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Changpingli · 常平里",coordinates:[26.564722,104.858717],location:"Liupanshui, Guizhou, China",year:"2020-2021",link:"",img:"/vr/changpingli.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Dalincheng · 大林城",coordinates:[25.725958,104.449007],location:"Liupanshui, Guizhou, China",year:"2020-2021",link:"",img:"/vr/dalincheng.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Fenghuangjiayuan · 凤凰嘉苑",coordinates:[30.2788597,109.4846285],location:"Enshi, Hubei, China",year:"2020-2021",link:"",img:"/vr/fhjy.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Number 1 Parking · 公园①号",coordinates:[27.326395,105.280762],location:"Bijie, Guizhou, China",year:"2020-2021",link:"",img:"/vr/gyyh.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Hengtianfengxijun · 恒天枫溪郡",coordinates:[39.163164,116.354244],location:"Langfang, Hebei, China",year:"2020-2021",link:"",img:"/vr/htfxj.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Jiahe Garden in Sky · 家和空中花园",coordinates:[29.475417,109.406526],location:"Enshi, Hubei, China",year:"2020-2021",link:"",img:"/vr/jhhy.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Jinnanwan · 金澜湾",coordinates:[27.502244,106.234353],location:"Bijie, Guizhou, China",year:"2020-2021",link:"",img:"/vr/jlw.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Jiangnanyipin · 江南一品",coordinates:[27.754975,107.461993],location:"Zunyi, Guizhou, China",year:"2020-2021",link:"",img:"/vr/jnyp.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Jiangxiangmingmen · 将相名门",coordinates:[28.175622,109.185229],location:"Tongren, Guizhou, China",year:"2020-2021",link:"",img:"/vr/jxmm.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Jinsha · 金沙将相名门",coordinates:[27.497812,106.233872],location:"Jinsha, Guizhou, China",year:"2020-2021",link:"",img:"/vr/jsjxmm.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Guiyuan · 盘州府壹号",coordinates:[25.692363,104.485536],location:"Liupanshui, Guizhou, China",year:"2020-2021",link:"",img:"/vr/pzf.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Taifu Wutongxi · 泰府梧桐栖",coordinates:[36.568705,111.742927],location:"Huozhou, Shanxi, China",year:"2020-2021",link:"",img:"/vr/tf.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Yuheyuan · 通盛御河园",coordinates:[28.309843,106.225531],location:"Zaozhuang, Shandong, China",year:"2020-2021",link:"",img:"/vr/tsyhy.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Yuheyuan · 文璟上府",coordinates:[26.24033,109.140568],location:"Liping, Guizhou, China",year:"2020-2021",link:"",img:"/vr/wjsf.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Dongsheng - 芯宸时代",coordinates:[29.681751,109.162283],location:"Enshi，Hubei, China",year:"2020-2021",link:"",img:"/vr/xcsd.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Lvcheng · 迎宾华府",coordinates:[39.122386,116.415274],location:"Langfang, Hebei, China",year:"2020-2021",link:"",img:"/vr/ybhf.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Jiahe · 雲尚星城",coordinates:[29.688752,109.149443],location:"Enshi, Hubei, China",year:"2020-2021",link:"",img:"/vr/ysxc.jpg"},{type:"project",name:"Interactive 360° Virtual Tour Application",client:"Yuecheng · 悦城",coordinates:[27.579996,106.864341],location:"Zunyi, Guizhou, China",year:"2020-2021",link:"",img:"/vr/zyyc.jpg"},{type:"project",name:"Tenglong Cave",client:"腾龙洞",coordinates:[30.3335111,108.98434],location:"Lichuan, Hubei, China",year:"2019",link:"http://tenglongdong.net.cn/",img:"/website/tenglongdong.jpg"},{type:"project",name:"Badong Tourism Bureau",client:"巴东县旅游局",coordinates:[31.0419753,110.3386598],location:"Badong, Hubei, China",year:"2019",link:"",img:""},{type:"project",name:"Jinguo Tea",client:"金果茶叶",coordinates:[30.2889132,110.2148372],location:"Badong, Hubei, China",year:"2019",link:"",img:""},{type:"project",name:"Enshi Central Hospital",client:"恩施州中心医院",coordinates:[30.297884,109.4955927],location:"Enshi, Hubei, China",year:"2019",link:"https://www.es9e.cn/",img:"/website/es9e.jpg"},{type:"project",name:"FitsGo",client:"Mobile App",coordinates:[-45.8750186,170.4973482],location:"Dunedin, New Zealand",year:"2019",link:"https://github.com/aemooooon/FitsGo",img:"/fitsgo/fitsgo.02.png"},{type:"project",name:"Travel Assistant",client:"Mobile App",coordinates:[-45.8710403,170.4855276],location:"Dunedin, New Zealand",year:"2019",link:"https://github.com/aemooooon/travel-assistant",img:"/travelassistant/ta02.jpg"},{type:"project",name:"ECAN Data Pipeline",client:"University of Canterbury",coordinates:[-43.5357406,172.6358119],location:"Christchurch, New Zealand",year:"2024",link:"https://github.com/aemooooon/DATA472-Individual-Project-Submission",img:"/data472/v1.gif"},{type:"activity",name:"CITANZ CHCH Events",client:"Chinese IT Association New Zealand",coordinates:[-43.5828903,172.5695089],location:"Halswell Library, Christchurch",year:"2024-2025",link:"https://www.cita.org.nz/",img:"/citanz/cita-04.5.jpg"},{type:"activity",name:"Save Kiwi",client:"AI Hackathon 2024",coordinates:[-43.5218726,172.5674936],location:"University of Canterbury",year:"2024",link:"https://www.cita.org.nz/",img:"/f4/f4.jpg"}],gallery:[{id:"gallery_1",type:"image",src:"/gallery/dataengineering.jpeg",thumbnail:"/gallery/dataengineering.jpeg",title:{en:"Data Engineering",zh:"数据工程"},description:{en:"Professional data engineering visualization",zh:"专业数据工程可视化"},date:"2025-08-11",tags:["data","engineering","technology"]},{id:"gallery_2",type:"image",src:"/gallery/f4.jpg",thumbnail:"/gallery/f4.jpg",title:{en:"Project F4",zh:"F4 项目"},description:{en:"Advanced project development showcase",zh:"高级项目开发展示"},date:"2025-08-11",tags:["project","development","showcase"]},{id:"gallery_3",type:"image",src:"/gallery/realibox-01.jpeg",thumbnail:"/gallery/realibox-01.jpeg",title:{en:"Realibox Innovation",zh:"Realibox 创新"},description:{en:"Innovative technology solution presentation",zh:"创新技术解决方案展示"},date:"2025-08-11",tags:["innovation","technology","solution"]},{id:"gallery_4",type:"image",src:"/gallery/WechatIMG485.jpg",thumbnail:"/gallery/WechatIMG485.jpg",title:{en:"Landscape Vista",zh:"风景远眺"},description:{en:"Breathtaking natural landscape view",zh:"令人叹为观止的自然风景"},date:"2025-08-11",tags:["landscape","nature","vista"]},{id:"gallery_5",type:"image",src:"/gallery/Image_2025-08-11_001936_130.jpg",thumbnail:"/gallery/Image_2025-08-11_001936_130.jpg",title:{en:"Creative Composition",zh:"创意构图"},description:{en:"Artistic creative visual composition",zh:"艺术创意视觉构图"},date:"2025-08-11",tags:["creative","composition","artistic"]},{id:"gallery_6",type:"image",src:"/gallery/Image_2025-08-11_002010_271.jpg",thumbnail:"/gallery/Image_2025-08-11_002010_271.jpg",title:{en:"Design Elements",zh:"设计元素"},description:{en:"Fundamental design elements showcase",zh:"基本设计元素展示"},date:"2025-08-11",tags:["design","elements","fundamental"]},{id:"gallery_7",type:"image",src:"/gallery/Image_2025-08-11_002019_688.jpg",thumbnail:"/gallery/Image_2025-08-11_002019_688.jpg",title:{en:"Color Theory",zh:"色彩理论"},description:{en:"Practical color theory demonstration",zh:"实用色彩理论演示"},date:"2025-08-11",tags:["color","theory","demonstration"]},{id:"gallery_8",type:"image",src:"/gallery/Image_2025-08-11_154055_640.jpg",thumbnail:"/gallery/Image_2025-08-11_154055_640.jpg",title:{en:"Artistic Vision",zh:"艺术视野"},description:{en:"Contemporary artistic vision exploration",zh:"当代艺术视野探索"},date:"2025-08-11",tags:["artistic","vision","contemporary"]},{id:"gallery_9",type:"image",src:"/gallery/Image_2025-08-11_154130_992.jpg",thumbnail:"/gallery/Image_2025-08-11_154130_992.jpg",title:{en:"Visual Harmony",zh:"视觉和谐"},description:{en:"Perfect visual harmony in composition",zh:"构图中的完美视觉和谐"},date:"2025-08-11",tags:["visual","harmony","composition"]},{id:"gallery_10",type:"image",src:"/gallery/hua.nz.1.png",thumbnail:"/gallery/hua.nz.1.png",title:{en:"Creative Expression",zh:"创意表达"},description:{en:"Innovative creative expression in digital art",zh:"数字艺术中的创新创意表达"},date:"2025-08-11",tags:["creative","expression","digital"]},{id:"gallery_11",type:"image",src:"/gallery/Image_2025-08-11_154149_254.jpg",thumbnail:"/gallery/Image_2025-08-11_154149_254.jpg",title:{en:"Modern Aesthetics",zh:"现代美学"},description:{en:"Modern aesthetic principles demonstration",zh:"现代美学原理演示"},date:"2025-08-11",tags:["modern","aesthetics","principles"]},{id:"gallery_12",type:"image",src:"/gallery/Image_2025-08-11_154154_737.jpg",thumbnail:"/gallery/Image_2025-08-11_154154_737.jpg",title:{en:"Pattern Innovation",zh:"图案创新"},description:{en:"Innovative pattern design exploration",zh:"创新图案设计探索"},date:"2025-08-11",tags:["pattern","innovation","design"]},{id:"gallery_13",type:"image",src:"/gallery/Image_2025-08-11_154159_687.jpg",thumbnail:"/gallery/Image_2025-08-11_154159_687.jpg",title:{en:"Digital Artistry",zh:"数字艺术性"},description:{en:"Advanced digital artistry techniques",zh:"先进的数字艺术技巧"},date:"2025-08-11",tags:["digital","artistry","techniques"]},{id:"gallery_14",type:"image",src:"/gallery/Image_2025-08-11_154210_322.jpg",thumbnail:"/gallery/Image_2025-08-11_154210_322.jpg",title:{en:"Visual Synthesis",zh:"视觉合成"},description:{en:"Complex visual synthesis and composition",zh:"复杂的视觉合成与构图"},date:"2025-08-11",tags:["visual","synthesis","composition"]},{id:"gallery_15",type:"image",src:"/gallery/Image_2025-08-11_154217_372.jpg",thumbnail:"/gallery/Image_2025-08-11_154217_372.jpg",title:{en:"Abstract Beauty",zh:"抽象之美"},description:{en:"Pure abstract beauty in visual form",zh:"纯粹的视觉抽象之美"},date:"2025-08-11",tags:["abstract","beauty","visual"]},{id:"gallery_16",type:"image",src:"/gallery/Image_2025-08-11_154236_734.jpg",thumbnail:"/gallery/Image_2025-08-11_154236_734.jpg",title:{en:"Geometric Perfection",zh:"几何完美"},description:{en:"Perfect geometric patterns and structures",zh:"完美的几何图案与结构"},date:"2025-08-11",tags:["geometric","perfection","patterns"]},{id:"gallery_17",type:"image",src:"/gallery/Image_2025-08-11_154240_669.jpg",thumbnail:"/gallery/Image_2025-08-11_154240_669.jpg",title:{en:"Artistic Mastery",zh:"艺术精通"},description:{en:"Demonstration of complete artistic mastery",zh:"完整艺术精通的演示"},date:"2025-08-11",tags:["artistic","mastery","demonstration"]}],getProjectsByType:e=>{const{projects:i}=t();return i.filter(n=>n.type===e)},getAllProjects:()=>{const{projects:e}=t();return e},getAllLocations:()=>{const{locations:e}=t();return e},getAllGalleryItems:()=>{const{gallery:e}=t();return e},getGalleryItemsByTag:e=>{const{gallery:i}=t();return i.filter(n=>n.tags&&n.tags.includes(e))},getGalleryItemsByType:e=>{const{gallery:i}=t();return i.filter(n=>n.type===e)},searchGalleryItems:(e,i="en")=>{const{gallery:n}=t(),s=e.toLowerCase();return n.filter(c=>c.title[i].toLowerCase().includes(s)||c.description[i].toLowerCase().includes(s)||c.tags&&c.tags.some(a=>a.toLowerCase().includes(s)))},getContent:()=>{const{language:e}=t();return Ie[e]},getProjectsText:()=>{var i;const{language:e}=t();return((i=Ie[e])==null?void 0:i.projects)||Ie.en.projects},getProjectDescription:(e,i)=>e!=null&&e.description?typeof e.description=="object"&&e.description!==null?e.description[i]||e.description.en||e.description.zh||"":e.description:"",getCurrentSection:()=>{const{currentSection:e,sections:i}=t();return i[e]},getSectionName:e=>{const{language:i,sections:n}=t(),s=n.find(c=>c.id===e);return s?s.name[i]:""},getSectionDescription:e=>{const{language:i,sections:n}=t(),s=n.find(c=>c.id===e);return s?s.description[i]:""},navigateToSection:e=>{const{currentSection:i,sections:n}=t(),s=e>i?"from-prev":"from-next",c=n.map((a,b)=>b===e?{...a,previousDirection:s}:a);r({currentSection:e,isScrolling:!0,sections:c}),setTimeout(()=>r({isScrolling:!1}),600)},navigateNext:()=>{const{currentSection:e,sections:i}=t(),n=(e+1)%i.length;t().navigateToSection(n)},navigatePrev:()=>{const{currentSection:e,sections:i}=t(),n=e===0?i.length-1:e-1;t().navigateToSection(n)}}),{name:"hua-portfolio-store",partialize:r=>({language:r.language,theme:r.theme})}));class jt{constructor(){this.activeResources=new Map,this.resourceCounter=0,this.isPageVisible=!document.hidden,this.lastActivityTime=Date.now(),this.initPageVisibilityListener(),this.initActivityListener()}initPageVisibilityListener(){typeof document<"u"&&document.addEventListener("visibilitychange",()=>{this.isPageVisible=!document.hidden,this.isPageVisible&&(this.refreshActiveResources(),this.lastActivityTime=Date.now())})}initActivityListener(){if(typeof document<"u"){const t=()=>{this.lastActivityTime=Date.now()};document.addEventListener("mousemove",t,{passive:!0}),document.addEventListener("mousedown",t,{passive:!0}),document.addEventListener("keydown",t,{passive:!0}),document.addEventListener("scroll",t,{passive:!0}),document.addEventListener("touchstart",t,{passive:!0})}}refreshActiveResources(){const t=Date.now();for(const[,e]of this.activeResources)e.persistent||(e.timestamp=t)}registerResources(t,e,i={}){const n=`${t}_${this.resourceCounter++}`;return this.activeResources.set(n,{componentId:t,resources:e,timestamp:Date.now(),persistent:i.persistent||!1}),n}cleanupByComponent(t){const e=[];for(const[i,n]of this.activeResources)n.componentId===t&&(this.disposeResources(n.resources),e.push(i));e.forEach(i=>this.activeResources.delete(i))}cleanup(t){const e=this.activeResources.get(t);e&&(this.disposeResources(e.resources),this.activeResources.delete(t))}disposeResources(t){t&&(t.renderer&&(t.renderer.dispose(),t.renderer.info&&t.renderer.info.reset()),t.scene&&this.disposeScene(t.scene),t.geometry&&(Array.isArray(t.geometry)?t.geometry.forEach(e=>e.dispose()):t.geometry.dispose()),t.materials&&(Array.isArray(t.materials)?t.materials.forEach(e=>this.disposeMaterial(e)):this.disposeMaterial(t.materials)),t.textures&&(Array.isArray(t.textures)?t.textures.forEach(e=>e.dispose()):t.textures.dispose()),t.gl&&t.gl.getExtension&&(t.buffers&&Object.values(t.buffers).forEach(e=>{e&&t.gl.deleteBuffer(e)}),t.programs&&Object.values(t.programs).forEach(e=>{e&&t.gl.deleteProgram(e)})))}disposeScene(t){if(t)for(t.traverse(e=>{e.geometry&&e.geometry.dispose(),e.material&&this.disposeMaterial(e.material),e.texture&&e.texture.dispose()});t.children.length>0;)t.remove(t.children[0])}disposeMaterial(t){if(t){if(Array.isArray(t)){t.forEach(e=>this.disposeMaterial(e));return}Object.keys(t).forEach(e=>{const i=t[e];i&&typeof i.dispose=="function"&&(i.image&&i.image.tagName==="VIDEO"&&(i.image.pause(),i.image.src="",i.image.load()),i.dispose())}),t.dispose()}}forceCleanupAll(){console.warn("🚨 强制清理所有WebGL资源");for(const[,t]of this.activeResources)this.disposeResources(t.resources);this.activeResources.clear(),typeof window<"u"&&window.gc&&setTimeout(()=>window.gc(),100)}getMemoryInfo(){const e={activeResourceGroups:this.activeResources.size,timestamp:Date.now(),persistentResources:0,temporaryResources:0,sectionBreakdown:{}};for(const[i,n]of this.activeResources){n.persistent?e.persistentResources++:e.temporaryResources++;const s=n.componentId;e.sectionBreakdown[s]||(e.sectionBreakdown[s]={count:0,persistent:0,temporary:0,resourceIds:[],lastActive:n.timestamp}),e.sectionBreakdown[s].count++,e.sectionBreakdown[s].resourceIds.push(i),e.sectionBreakdown[s].lastActive=Math.max(e.sectionBreakdown[s].lastActive,n.timestamp),n.persistent?e.sectionBreakdown[s].persistent++:e.sectionBreakdown[s].temporary++}return typeof window<"u"&&window.performance&&window.performance.memory&&(e.jsHeapSize=Math.round(window.performance.memory.usedJSHeapSize/1024/1024),e.jsHeapLimit=Math.round(window.performance.memory.totalJSHeapSize/1024/1024)),e.resourceStats=this.getResourceTypeStats(),e}getResourceTypeStats(){const t={renderers:0,scenes:0,geometries:0,materials:0,textures:0,webglContexts:0,canvas2dContexts:0};for(const[,e]of this.activeResources){const i=e.resources;i.renderer&&t.renderers++,i.scene&&t.scenes++,i.gl&&t.webglContexts++,i.context2d&&t.canvas2dContexts++,i.geometry&&(t.geometries+=Array.isArray(i.geometry)?i.geometry.length:1),i.materials&&(t.materials+=Array.isArray(i.materials)?i.materials.length:1),i.textures&&(t.textures+=Array.isArray(i.textures)?i.textures.length:1)}return t}cleanupOldResources(t=3e5){if(this.isPageVisible||this.hasRecentActivity())return;const e=Date.now(),i=[];for(const[n,s]of this.activeResources){if(s.persistent)continue;const c=s.componentId&&s.componentId.includes("BackgroundCanvas")?18e5:t;e-s.timestamp>c&&(this.disposeResources(s.resources),i.push(n))}i.forEach(n=>this.activeResources.delete(n))}hasRecentActivity(){return typeof window<"u"?Date.now()-(this.lastActivityTime||0)<3e5:!1}getDebugInfo(){const t=Date.now(),e=[];for(const[i,n]of this.activeResources)e.push({id:i,componentId:n.componentId,persistent:n.persistent,age:Math.round((t-n.timestamp)/1e3),isBackgroundCanvas:n.componentId&&n.componentId.includes("BackgroundCanvas")});return{totalResources:this.activeResources.size,isPageVisible:this.isPageVisible,hasRecentActivity:this.hasRecentActivity(),lastActivityAge:Math.round((t-(this.lastActivityTime||0))/1e3),resources:e}}cleanupOtherSections(t,e=[]){if(!t)return;const i=new Set([t,...e]),n=[];let s=0;for(const[c,a]of this.activeResources)a.persistent||i.has(a.componentId)||(this.disposeResources(a.resources),n.push(c),s++);return n.forEach(c=>this.activeResources.delete(c)),s}}const q=new jt;typeof window<"u"&&setInterval(()=>{q.cleanupOldResources()},3e5);class At{constructor(t,e={},i="BackgroundCanvas"){if(this.canvas=t,this.componentId=i,this.componentId=i,this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl"),!this.gl)throw console.error("EffectFuse: Unable to get WebGL context"),new Error("WebGL not supported");this.resourceId=q.registerResources(this.componentId,{gl:this.gl,canvas:this.canvas},{persistent:!0}),this.params={brightness:1.8,blobiness:1.3,particles:16,scanlines:!1,energy:1.25,timeScale:1.1,...e},this.program=null,this.animationFrameId=null,this.startTime=performance.now(),this.uniformLocations={},this.themeColors=this.getThemeColors();try{this.initGL()}catch(n){throw console.error("EffectFuse: Failed to initialize WebGL",n),n}}initGL(){if(!this.gl){console.error("WebGL not supported.");return}this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.getExtension("OES_texture_float");const t=`
            #ifdef GL_ES
            precision mediump float;
            #endif

            uniform vec2 u_resolution;
            attribute vec2 a_position;

            void main() {
                gl_Position = vec4(a_position, 0, 1);
            }
        `,e=`
            #ifdef GL_ES
            precision mediump float;
            #endif

            uniform bool u_scanlines;
            uniform vec2 u_resolution;
            uniform float u_brightness;
            uniform float u_blobiness;
            uniform float u_particles;
            uniform float u_millis;
            uniform float u_energy;
            uniform float u_timeScale; 
            uniform vec3 u_theme_primary;     // 主题主色
            uniform vec3 u_theme_secondary;   // 主题次要色
            uniform vec3 u_theme_accent;      // 主题装饰色
            uniform vec3 u_theme_dark_blue;       // 深蓝色
            uniform vec3 u_theme_project_blue;    // 项目页面深蓝色

            float noise(vec2 co) {
                return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
            }

            void main(void) {
                vec2 position = (gl_FragCoord.xy / u_resolution.x); // 原始的正确计算方式
                float t = (u_millis * 0.001 * u_energy) * u_timeScale; 

                float a = 0.0;
                float b = 0.0;
                float c = 0.0;

                vec2 pos, center = vec2(0.5, 0.5 * (u_resolution.y / u_resolution.x)); // 原始的长宽比修正

                float na, nb, nc, nd, d;
                float limit = u_particles / 40.0;
                float step = 1.0 / u_particles;
                float n = 0.0;

                for (float i = 0.0; i <= 1.0; i += 0.025) { // 原始的更细步长
                    if (i <= limit) {
                        vec2 np = vec2(n, 1.0);

                        na = noise(np * 1.1);
                        nb = noise(np * 2.8);
                        nc = noise(np * 0.7);
                        nd = noise(np * 3.2);

                        pos = center;
                        
                        // 控制粒子运动范围，确保在可视区域内
                        // 计算基础运动偏移
                        float moveX = sin(t * na * 0.5) * cos(t * nb * 0.5) * tan(t * na * 0.08);
                        float moveY = tan(t * nc * 0.5) * sin(t * nd * 0.5);
                        
                        // 限制运动范围 - 基于屏幕比例，创建柔和边界
                        float maxRangeX = 0.35; // X轴最大运动范围
                        float maxRangeY = 0.25; // Y轴最大运动范围
                        
                        // 应用运动
                        float deltaX = moveX * 0.5;
                        float deltaY = moveY * 0.15;
                        
                        pos.x += deltaX;
                        pos.y += deltaY;
                        
                        // 软边界约束 - 使用平滑函数而不是硬性clamp
                        float edgeForceX = 0.0;
                        float edgeForceY = 0.0;
                        
                        // X轴边界力
                        if (pos.x < 0.1) edgeForceX = (0.1 - pos.x) * 2.0;
                        else if (pos.x > 0.9) edgeForceX = (0.9 - pos.x) * 2.0;
                        
                        // Y轴边界力
                        float aspectRatio = u_resolution.y / u_resolution.x;
                        float maxY = aspectRatio * 0.9;
                        if (pos.y < 0.1) edgeForceY = (0.1 - pos.y) * 2.0;
                        else if (pos.y > maxY) edgeForceY = (maxY - pos.y) * 2.0;
                        
                        // 应用边界力
                        pos.x += edgeForceX * 0.02;
                        pos.y += edgeForceY * 0.02;

                        // 改进粒子大小计算，平衡可见性和均匀性
                        float distance = length(pos - position);
                        // 适度限制噪声值，保持粒子可见性
                        float normalizedNoise = clamp(na, 0.5, 1.2); // 增加范围确保可见性
                        // 添加最小距离但不要太大
                        float safeDistance = max(distance, 0.02);
                        // 减小粒子大小三分之一：从3.5减到2.33
                        float rawSize = 2.33 * normalizedNoise / safeDistance; // 减小基础大小
                        d = pow(clamp(rawSize, 0.5, 8.0), u_blobiness * 0.9); // 放宽大小限制，增加敏感度

                        if (i < limit * 0.3333) a += d;
                        else if (i < limit * 0.6666) b += d;
                        else c += d;

                        n += step;
                    }
                }

                // 使用主题颜色给不同的粒子区域分配不同颜色，仅使用蓝绿色系，避免红色
                // 添加空间渐变来增加视觉深度
                float centerDist = length(position - center);
                float gradientFactor = 1.0 - centerDist * 0.5;
                gradientFactor = clamp(gradientFactor, 0.3, 1.0);
                
                // 使用丝滑的颜色渐变系统，兼容GLSL版本
                // 设计理念：多层三角函数插值，创造平滑过渡
                
                vec3 colorA, colorB, colorC;
                
                // 创建多层时间波形，实现丝滑过渡
                float slowTime = t * 0.03;  // 主要时间轴，非常缓慢
                float midTime = t * 0.08;   // 中等速度时间轴
                
                // 为不同粒子群创建相位偏移，增加层次感
                float phaseA = slowTime;
                float phaseB = slowTime + 2.094; // 偏移 120度 (2π/3)
                float phaseC = slowTime + 4.189; // 偏移 240度 (4π/3)
                
                // 使用多个正弦波组合创造平滑的颜色过渡
                // 每个波形控制不同颜色之间的混合权重
                float waveA = sin(phaseA) * 0.5 + 0.5;           // 0-1
                float waveB = sin(phaseA + 1.047) * 0.5 + 0.5;   // 偏移60度
                float waveC = sin(phaseA + 2.094) * 0.5 + 0.5;   // 偏移120度
                float waveD = sin(phaseA + 3.141) * 0.5 + 0.5;   // 偏移180度
                
                // 归一化权重，确保总和为1
                float totalWeight = waveA + waveB + waveC + waveD;
                waveA /= totalWeight;
                waveB /= totalWeight;
                waveC /= totalWeight;
                waveD /= totalWeight;
                
                // 定义基础颜色
                vec3 deepBlue = u_theme_dark_blue * 15.0;
                vec3 projectBlue = u_theme_project_blue * 12.0;
                vec3 primary = u_theme_primary;
                vec3 accent = u_theme_accent;
                vec3 secondary = u_theme_secondary;
                
                // 使用权重进行平滑混合
                colorA = deepBlue * waveA + projectBlue * waveB + primary * waveC + accent * waveD;
                
                // 为粒子群B和C使用不同的相位
                float waveBa = sin(phaseB) * 0.5 + 0.5;
                float waveBb = sin(phaseB + 1.047) * 0.5 + 0.5;
                float waveBc = sin(phaseB + 2.094) * 0.5 + 0.5;
                float waveBd = sin(phaseB + 3.141) * 0.5 + 0.5;
                float totalWeightB = waveBa + waveBb + waveBc + waveBd;
                waveBa /= totalWeightB;
                waveBb /= totalWeightB;
                waveBc /= totalWeightB;
                waveBd /= totalWeightB;
                
                colorB = primary * waveBa + accent * waveBb + secondary * waveBc + projectBlue * waveBd;
                
                float waveCa = sin(phaseC) * 0.5 + 0.5;
                float waveCb = sin(phaseC + 1.047) * 0.5 + 0.5;
                float waveCc = sin(phaseC + 2.094) * 0.5 + 0.5;
                float waveCd = sin(phaseC + 3.141) * 0.5 + 0.5;
                float totalWeightC = waveCa + waveCb + waveCc + waveCd;
                waveCa /= totalWeightC;
                waveCb /= totalWeightC;
                waveCc /= totalWeightC;
                waveCd /= totalWeightC;
                
                colorC = accent * waveCa + secondary * waveCb + deepBlue * waveCc + primary * waveCd;
                
                // 添加细微的呼吸效果，增强丝滑感
                float breathe = sin(midTime * 1.5) * 0.1 + 0.9;
                colorA *= breathe;
                colorB *= (breathe + 0.05);
                colorC *= (breathe + 0.1);
                
                // 简化的颜色混合，兼容所有GLSL版本，增加亮度
                vec3 col = vec3(
                    mix(colorA.r, colorB.r, 0.5) * a * gradientFactor * 0.3,  // 轻微红色分量
                    mix(colorA.g, colorB.g, 0.6) * b * gradientFactor,        // 主要绿色分量
                    mix(colorB.b, colorC.b, 0.7) * c * gradientFactor         // 主要蓝色分量
                ) * 0.012 * u_brightness; // 从0.008增加到0.012 (增加50%亮度)
                
                // 添加次级颜色层，创造更丰富的视觉效果
                col += vec3(
                    mix(colorC.r, colorA.r, 0.4) * c * 0.2 * gradientFactor,  // C-A 混合
                    mix(colorB.g, colorC.g, 0.5) * a * 0.3 * gradientFactor,  // B-C 混合
                    mix(colorA.b, colorB.b, 0.6) * b * 0.4 * gradientFactor   // A-B 混合
                ) * 0.009 * u_brightness; // 从0.006增加到0.009 (增加50%亮度)
                
                // 简化的时间调制
                float timeModulation = sin(t * 0.05) * 0.05 + 0.95;
                col *= timeModulation;
                
                // 保持颜色在合理范围内
                col = clamp(col, 0.0, 1.0);

                if (u_scanlines) {
                    col -= mod(gl_FragCoord.y, 2.0) < 1.0 ? 0.5 : 0.0;
                }

                gl_FragColor = vec4(col, 1.0);
            }
        `,i=this.createShader(this.gl.VERTEX_SHADER,t),n=this.createShader(this.gl.FRAGMENT_SHADER,e);this.program=this.createProgram(i,n),this.uniformLocations={resolution:this.gl.getUniformLocation(this.program,"u_resolution"),brightness:this.gl.getUniformLocation(this.program,"u_brightness"),blobiness:this.gl.getUniformLocation(this.program,"u_blobiness"),particles:this.gl.getUniformLocation(this.program,"u_particles"),scanlines:this.gl.getUniformLocation(this.program,"u_scanlines"),energy:this.gl.getUniformLocation(this.program,"u_energy"),millis:this.gl.getUniformLocation(this.program,"u_millis"),timeScale:this.gl.getUniformLocation(this.program,"u_timeScale"),themePrimary:this.gl.getUniformLocation(this.program,"u_theme_primary"),themeSecondary:this.gl.getUniformLocation(this.program,"u_theme_secondary"),themeAccent:this.gl.getUniformLocation(this.program,"u_theme_accent"),themeDarkBlue:this.gl.getUniformLocation(this.program,"u_theme_dark_blue"),themeProjectBlue:this.gl.getUniformLocation(this.program,"u_theme_project_blue")},this.setupBuffers()}createShader(t,e){const i=this.gl.createShader(t);return this.gl.shaderSource(i,e),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(console.error("Shader compilation error:",this.gl.getShaderInfoLog(i)),console.error("Shader source:",e),this.gl.deleteShader(i),null)}createProgram(t,e){const i=this.gl.createProgram();return this.gl.attachShader(i,t),this.gl.attachShader(i,e),this.gl.linkProgram(i),this.gl.getProgramParameter(i,this.gl.LINK_STATUS)?i:(console.error(this.gl.getProgramInfoLog(i)),this.gl.deleteProgram(i),null)}setupBuffers(){this.positionBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),this.gl.STATIC_DRAW);const t=this.gl.getAttribLocation(this.program,"a_position");this.gl.enableVertexAttribArray(t),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.vertexAttribPointer(t,2,this.gl.FLOAT,!1,0,0)}start(){this.startTime=performance.now(),this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.render()}stop(){if(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.resourceId&&(q.cleanup(this.resourceId),this.resourceId=null),this.gl)try{this.program&&(this.gl.deleteProgram(this.program),this.program=null),this.positionBuffer&&(this.gl.deleteBuffer(this.positionBuffer),this.positionBuffer=null)}catch(t){console.error("Error cleaning up WebGL resources:",t)}this.gl=null,this.canvas=null,this.uniformLocations={}}onResize(t,e){this.gl&&this.canvas&&(this.canvas.width=t,this.canvas.height=e,this.gl.viewport(0,0,t,e),requestAnimationFrame(()=>{this.gl&&this.render()}))}render(){if(!this.gl||!this.program||!this.params)return;this.animationFrameId=requestAnimationFrame(this.render.bind(this));const e=performance.now()-this.startTime;this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.useProgram(this.program),this.uniformLocations.resolution&&this.gl.uniform2f(this.uniformLocations.resolution,this.canvas.width,this.canvas.height),this.uniformLocations.brightness&&this.gl.uniform1f(this.uniformLocations.brightness,this.params.brightness||15e3),this.uniformLocations.blobiness&&this.gl.uniform1f(this.uniformLocations.blobiness,this.params.blobiness||2),this.uniformLocations.particles&&this.gl.uniform1f(this.uniformLocations.particles,this.params.particles||20),this.uniformLocations.scanlines&&this.gl.uniform1i(this.uniformLocations.scanlines,this.params.scanlines||!1),this.uniformLocations.energy&&this.gl.uniform1f(this.uniformLocations.energy,this.params.energy||.5),this.uniformLocations.millis&&this.gl.uniform1f(this.uniformLocations.millis,e),this.uniformLocations.timeScale&&this.gl.uniform1f(this.uniformLocations.timeScale,this.params.timeScale||.5),this.uniformLocations.themePrimary&&this.themeColors&&this.gl.uniform3f(this.uniformLocations.themePrimary,this.themeColors.primary.r,this.themeColors.primary.g,this.themeColors.primary.b),this.uniformLocations.themeSecondary&&this.themeColors&&this.gl.uniform3f(this.uniformLocations.themeSecondary,this.themeColors.secondary.r,this.themeColors.secondary.g,this.themeColors.secondary.b),this.uniformLocations.themeAccent&&this.themeColors&&this.gl.uniform3f(this.uniformLocations.themeAccent,this.themeColors.accent.r,this.themeColors.accent.g,this.themeColors.accent.b),this.uniformLocations.themeDarkBlue&&this.themeColors&&this.gl.uniform3f(this.uniformLocations.themeDarkBlue,this.themeColors.darkBlue.r,this.themeColors.darkBlue.g,this.themeColors.darkBlue.b),this.uniformLocations.themeProjectBlue&&this.themeColors&&this.gl.uniform3f(this.uniformLocations.themeProjectBlue,this.themeColors.projectBlue.r,this.themeColors.projectBlue.g,this.themeColors.projectBlue.b),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}getThemeColors(){const t=getComputedStyle(document.documentElement),e=i=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return n?{r:parseInt(n[1],16)/255,g:parseInt(n[2],16)/255,b:parseInt(n[3],16)/255}:{r:0,g:1,b:1}};try{const i=t.getPropertyValue("--theme-primary").trim()||"#00ffff",n=t.getPropertyValue("--theme-secondary").trim()||"#0080ff",s=t.getPropertyValue("--theme-accent").trim()||"#4dd0e1";return{primary:e(i),secondary:e(n),accent:e(s),darkBlue:e("#0A0A0F"),projectBlue:e("#1E40AF")}}catch(i){return console.warn("Failed to get theme colors, using defaults:",i),{primary:{r:0,g:1,b:1},secondary:{r:0,g:.5,b:1},accent:{r:.3,g:.82,b:.88},darkBlue:{r:.04,g:.04,b:.06},projectBlue:{r:.12,g:.25,b:.69}}}}}function kt(r,t={},e="BackgroundCanvas"){let i,n,s,c,a,b,g=0;const w=1e3/30,p=()=>{const j=getComputedStyle(document.documentElement),x=j.getPropertyValue("--theme-primary").trim(),k=j.getPropertyValue("--theme-background").trim(),T=[k?new R(k):new R("#0A0F0D"),x?new R(x):new R("#10B981"),x?new R(x).multiplyScalar(.6):new R("#0D9488")];return c&&c.colors&&(c.colors.value=T),T},m=()=>{s=new dt(-1,1,1,-1,0,1),n=new Pe;const j=new ht(2,2);c={time:{value:1},animationSpeed:{value:t.animationSpeed||.618},colors:{value:t.colors||p()}};const x=new Ve({uniforms:c,transparent:!0,vertexShader:`
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = vec4( position, 1.0 );
                }
            `,fragmentShader:`
                varying vec2 vUv;
                uniform float time;
                uniform vec3 colors[3];

                void main() {
                    vec2 p = -1.0 + 2.0 * vUv;
                    float a = time * 40.0;
                    float d, e, f, g = 1.0 / 40.0, h, i, r, q;

                    e = 400.0 * (p.x * 0.5 + 0.5);
                    f = 400.0 * (p.y * 0.5 + 0.5);
                    i = 200.0 + sin(e * g + a / 150.0) * 20.0;
                    d = 200.0 + cos(f * g / 2.0) * 18.0 + cos(e * g) * 7.0;
                    r = sqrt(pow(abs(i - e), 2.0) + pow(abs(d - f), 2.0));
                    q = f / r;
                    e = (r * cos(q)) - a / 2.0;
                    f = (r * sin(q)) - a / 2.0;
                    d = sin(e * g) * 176.0 + sin(e * g) * 164.0 + r;
                    h = ((f + d) + a / 2.0) * g;
                    i = cos(h + r * p.x / 1.3) * (e + e + a) + cos(q * g * 6.0) * (r + h / 3.0);
                    h = sin(f * g) * 144.0 - sin(e * g) * 212.0 * p.x;
                    h = (h + (f - e) * q + sin(r - (a + h) / 7.0) * 10.0 + i / 4.0) * g;
                    i += cos(h * 2.3 * sin(a / 350.0 - q)) * 184.0 * sin(q - (r * 4.3 + a / 12.0) * g) + tan(r * g + h) * 184.0 * cos(r * g + h);
                    i = mod(i / 5.6, 256.0) / 64.0;
                    if (i < 0.0) i += 4.0;
                    if (i >= 2.0) i = 4.0 - i;
                    d = r / 350.0;
                    d += sin(d * d * 8.0) * 0.52;
                    f = (sin(a * g) + 1.0) / 2.0;

                    // Map to the provided colors
                    vec3 col = mix(colors[0], colors[1], i);
                    col = mix(col, colors[2], f);

                    gl_FragColor = vec4(col * d, 0.3);
                }
            `}),k=new Te(j,x);n.add(k),i=new Ee({canvas:r,antialias:!0}),i.setPixelRatio(Math.min(window.devicePixelRatio,2)),i.setSize(window.innerWidth,window.innerHeight),b=q.registerResources(e,{renderer:i,scene:n,camera:s,geometry:j,material:x,mesh:k}),window.addEventListener("resize",v),u()},v=()=>{i.setSize(window.innerWidth,window.innerHeight)},u=()=>{a=requestAnimationFrame(u);const j=performance.now();j-g<w||(g=j,c.time.value=j/1e3*c.animationSpeed.value,i.render(n,s))},C=()=>{a&&cancelAnimationFrame(a),b&&q.cleanup(b),n&&n.children.forEach(j=>{j.geometry&&j.geometry.dispose(),j.material&&(Array.isArray(j.material)?j.material.forEach(x=>x.dispose()):j.material.dispose())}),i&&(i.dispose(),r!=null&&r.parentNode&&r.parentNode.removeChild(r)),window.removeEventListener("resize",v)};return m(),{stop:C,updateThemeColors:p}}class It{constructor(t,e={},i="BackgroundCanvas"){this.canvas=t,this.componentId=i,this.renderer=null,this.scene=null,this.camera=null,this.fireball=null,this.trailParticles=[],this.animationFrameId=null,this.time=0,this.resourceId=null,this.sigma=10,this.rho=28,this.beta=8/3,this.x=.1,this.y=0,this.z=0,this.dt=.02,this.maxParticles=999,this.fireballColor=new R("#00FF88"),this.particleColors=[new R("#10B981"),new R("#00FF88"),new R("#34D399")],setTimeout(()=>{this.updateThemeColors()},100),this.trailPositions=[],this.trailColors=[],this.particleIndex=0,this.frameCount=0,this.lastFPSCheck=performance.now(),this.currentFPS=60;try{this.init()}catch(n){throw console.error("EffectLorenzAttractor: Failed to initialize Three.js",n),n}}init(){this.scene=new Pe,this.scene.background=new R(2581),this.camera=new Be(75,this.canvas.width/this.canvas.height,.1,1e3),this.camera.position.set(0,0,48),this.camera.lookAt(0,0,0),this.renderer=new Ee({canvas:this.canvas,antialias:!0,alpha:!1,powerPreference:"high-performance"}),this.renderer.setSize(this.canvas.width,this.canvas.height,!1),this.renderer.setClearColor(2581,1),this.resourceId=q.registerResources(this.componentId,{renderer:this.renderer,scene:this.scene,camera:this.camera},{persistent:!0}),this.composer=new ut(this.renderer);const t=new mt(this.scene,this.camera);this.composer.addPass(t);const e=new pt(new Ne(this.canvas.width,this.canvas.height),.8,.2,.7);this.composer.addPass(e);const i=new gt;this.composer.addPass(i);const n=new ze(1.5,32,32),s=new Me({color:new R("#ffaa33"),transparent:!0,opacity:.9,blending:ke});this.fireball=new Te(n,s),this.scene.add(this.fireball);const c=new ze(2.5,32,32),a=new Me({color:new R("#ff6611"),transparent:!0,opacity:.4,blending:ke,side:ft});this.halo=new Te(c,a),this.scene.add(this.halo);const b=new Ue(4210752,.8);this.scene.add(b);const g=new _e(16777215,1);g.position.set(50,50,50),this.scene.add(g);const d=new _e(6724095,.8);d.position.set(-50,-50,50),this.scene.add(d),this.pointLight=new ye(35071,2,100),this.scene.add(this.pointLight),this.sunLight=new _e(16775388,1.2),this.sunLight.position.set(80,60,40),this.sunLight.target.position.set(0,0,0),this.sunLight.castShadow=!1,this.scene.add(this.sunLight),this.scene.add(this.sunLight.target),this.particleGeometry=new ze(.5,8,8),this.particleMaterial=new Me({color:16777215,transparent:!0,opacity:1,blending:ke,depthWrite:!1}),this.createParticleTexture(),this.instancedMesh=new vt(this.particleGeometry,this.particleMaterial,this.maxParticles),this.instancedMesh.geometry.attributes.color===void 0&&(this.instancedMesh.instanceColor=new bt(new Float32Array(this.maxParticles*3),3)),this.scene.add(this.instancedMesh);const w=new Fe,p=new we,m=new we(0,0,0);this.colorInside=new R("#ffa575"),this.colorOutside=new R("#0088ff");for(let v=0;v<this.maxParticles;v++)w.compose(p,new Oe,m),this.instancedMesh.setMatrixAt(v,w),this.instancedMesh.instanceColor&&this.instancedMesh.setColorAt(v,new R(0,0,0));this.instancedMesh.instanceMatrix.needsUpdate=!0,this.instancedMesh.instanceColor&&(this.instancedMesh.instanceColor.needsUpdate=!0),window.addEventListener("resize",this.onResize.bind(this))}createParticleTexture(){const e=document.createElement("canvas");e.width=16,e.height=16;const i=e.getContext("2d"),n=16/2,s=i.createRadialGradient(n,n,0,n,n,n);s.addColorStop(0,"rgba(255, 255, 255, 0.6)"),s.addColorStop(.1,"rgba(255, 255, 255, 0.3)"),s.addColorStop(.3,"rgba(255, 255, 255, 0.1)"),s.addColorStop(1,"rgba(255, 255, 255, 0)"),i.fillStyle=s,i.beginPath(),i.arc(n,n,n*.8,0,Math.PI*2),i.fill(),this.particleTexture=new qe(e)}getRandomParticleColor(){const t=Math.floor(Math.random()*this.particleColors.length);return this.particleColors[t]}start(){this.animate()}animate(){this.animationFrameId=requestAnimationFrame(this.animate.bind(this)),this.frameCount++;const t=performance.now();t-this.lastFPSCheck>=1e3&&(this.currentFPS=this.frameCount,this.frameCount=0,this.lastFPSCheck=t,this.currentFPS<30&&this.maxParticles>1e3?this.maxParticles=Math.max(1e3,this.maxParticles-100):this.currentFPS>50&&this.maxParticles<2e3&&(this.maxParticles=Math.min(2e3,this.maxParticles+50))),this.time+=.025;const e=this.sigma*(this.y-this.x)*this.dt,i=(this.x*(this.rho-this.z)-this.y)*this.dt,n=(this.x*this.y-this.beta*this.z)*this.dt;this.x+=e,this.y+=i,this.z+=n;const s=.8;this.fireball.position.set(this.x*s,this.y*s,this.z*s),this.halo.position.copy(this.fireball.position),this.halo.scale.setScalar(1+Math.sin(this.time*2)*.1),this.pointLight.position.copy(this.fireball.position),this.frameCount%2===0&&(this.trailPositions.push({x:this.x*s,y:this.y*s,z:this.z*s,life:1}),this.trailPositions.length>this.maxParticles&&this.trailPositions.shift());const c=new Fe,a=new we,b=new Oe,g=new we;this.trailPositions.forEach((d,w)=>{const p=w/this.trailPositions.length,m=Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z),u=Math.min(m/40,1),C=(1-u*.5)*p*1.2+.3;if(a.set(d.x+(Math.random()-.5)*.08,d.y+(Math.random()-.5)*.08,d.z+(Math.random()-.5)*.08),g.set(C,C,C),c.compose(a,b,g),this.instancedMesh.setMatrixAt(w,c),this.instancedMesh.instanceColor){const j=Math.pow(1-u,2),x=new R;x.lerpColors(this.colorOutside,this.colorInside,j);const k=p*(1-u*.3);x.multiplyScalar(k),this.instancedMesh.setColorAt(w,x)}});for(let d=this.trailPositions.length;d<this.maxParticles;d++)g.set(0,0,0),c.compose(a,b,g),this.instancedMesh.setMatrixAt(d,c),this.instancedMesh.instanceColor&&this.instancedMesh.setColorAt(d,new R(0,0,0));this.instancedMesh.instanceMatrix.needsUpdate=!0,this.instancedMesh.instanceColor&&(this.instancedMesh.instanceColor.needsUpdate=!0),this.scene.rotation.y+=.005,this.scene.rotation.x+=.002,this.composer.render()}onResize(t,e){if(!this.renderer||!this.camera)return;const i=t||this.canvas.width,n=e||this.canvas.height;this.camera.aspect=i/n,this.camera.updateProjectionMatrix(),this.renderer.setSize(i,n,!1),this.composer&&this.composer.setSize(i,n)}updateThemeColors(){var t,e,i,n;if(!document.documentElement){console.warn("DOM not ready for theme color update");return}try{const s=getComputedStyle(document.documentElement),c=(t=s.getPropertyValue("--theme-primary"))==null?void 0:t.trim(),a=(e=s.getPropertyValue("--theme-secondary"))==null?void 0:e.trim(),b=(i=s.getPropertyValue("--theme-accent"))==null?void 0:i.trim();c&&(this.fireballColor.setStyle(c),this.particleColors[1].setStyle(c),this.colorOutside.setStyle(c)),a&&(this.particleColors[0].setStyle(a),this.colorInside.setStyle(a)),b&&this.particleColors[2].setStyle(b);const g=(n=s.getPropertyValue("--theme-background"))==null?void 0:n.trim();g&&this.scene&&(this.scene.background=new R(g),this.renderer&&this.renderer.setClearColor(new R(g),1)),this.fireball&&c&&this.fireball.material.color.setStyle(c),this.halo&&a&&this.halo.material.color.setStyle(a),this.pointLight&&c&&this.pointLight.color.setStyle(c),this.instancedMesh&&this.updateParticleColors()}catch(s){console.warn("Error updating theme colors:",s)}}updateParticleColors(){if(!this.instancedMesh||!this.instancedMesh.instanceColor)return;const t=this.instancedMesh.instanceColor.array;for(let e=0;e<this.trailPositions.length&&!(e>=this.maxParticles);e++){const i=e*3,n=this.trailPositions[e],s=this.colorInside.clone();s.lerp(this.colorOutside,1-n.life),t[i]=s.r,t[i+1]=s.g,t[i+2]=s.b}this.instancedMesh.instanceColor.needsUpdate=!0}stop(){if(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.composer&&(this.composer.dispose(),this.composer=null),this.renderer){const t=this.renderer.getContext();t&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext(),this.renderer.dispose(),this.renderer.forceContextLoss(),this.renderer=null}for(this.instancedMesh&&(this.scene.remove(this.instancedMesh),this.instancedMesh.geometry&&this.instancedMesh.geometry.dispose(),this.instancedMesh.material&&this.instancedMesh.material.dispose(),this.instancedMesh.instanceColor&&(this.instancedMesh.instanceColor=null),this.instancedMesh=null),this.fireball&&(this.scene.remove(this.fireball),this.fireball.geometry&&this.fireball.geometry.dispose(),this.fireball.material&&this.fireball.material.dispose(),this.fireball=null),this.halo&&(this.scene.remove(this.halo),this.halo.geometry&&this.halo.geometry.dispose(),this.halo.material&&this.halo.material.dispose(),this.halo=null),this.particleGeometry&&(this.particleGeometry.dispose(),this.particleGeometry=null),this.particleMaterial&&(this.particleMaterial.dispose(),this.particleMaterial=null),this.particleTexture&&(this.particleTexture.dispose(),this.particleTexture=null),this.trailPositions=[],this.trailColors=[],this.pointLight&&(this.scene.remove(this.pointLight),this.pointLight=null),this.sunLight&&(this.scene.remove(this.sunLight),this.scene.remove(this.sunLight.target),this.sunLight=null);this.scene.children.length>0;){const t=this.scene.children[0];this.scene.remove(t),t.geometry&&t.geometry.dispose(),t.material&&(Array.isArray(t.material)?t.material.forEach(e=>e.dispose()):t.material.dispose())}this.scene=null,this.camera=null,this.resourceId&&(q.cleanup(this.resourceId),this.resourceId=null),window.removeEventListener("resize",this.onResize.bind(this))}}class Tt{constructor(t,e={},i="BackgroundCanvas"){this.canvas=t,this.componentId=i,this.renderer=null,this.scene=null,this.camera=null,this.mesh=null,this.animationFrameId=null,this.time=0,this.resourceId=null,this.particleCount=e.particleCount||8e3,this.branches=3,this.radius=9,this.size=e.size||.12,this.colorInside=new R("#10B981"),this.colorOutside=new R("#34D399"),this.updateThemeColors();try{this.init()}catch(n){throw console.error("EffectChaos: Failed to initialize Three.js",n),n}}updateThemeColors(){const t=getComputedStyle(document.documentElement),e=t.getPropertyValue("--theme-primary").trim(),i=t.getPropertyValue("--theme-accent").trim();e&&this.colorInside.setStyle(e),i&&this.colorOutside.setStyle(i);const n=t.getPropertyValue("--theme-background").trim();n&&this.scene&&(this.scene.background=new R(n)),this.mesh&&this.updateParticleColors(),this.updateLightColors()}updateLightColors(){this.lights&&(this.lights.central&&this.lights.central.color.copy(this.colorInside.clone().multiplyScalar(1.5)),this.lights.green&&this.lights.green.color.copy(this.colorInside),this.lights.ambient&&this.lights.ambient.color.copy(this.colorInside.clone().multiplyScalar(.3)),this.lights.fill1&&this.lights.fill1.color.copy(this.colorInside),this.lights.fill2&&this.lights.fill2.color.copy(this.colorOutside),this.lights.back&&this.lights.back.color.copy(this.colorOutside.clone().multiplyScalar(1.2)))}updateParticleColors(){if(!this.mesh||!this.particleData)return;const t=this.mesh.geometry.attributes.color.array;for(let e=0;e<this.particleCount;e++){const i=this.particleData[e],n=e*3,s=this.colorInside.clone();s.lerp(this.colorOutside,i.radiusRatio),t[n]=s.r,t[n+1]=s.g,t[n+2]=s.b}this.mesh.geometry.attributes.color.needsUpdate=!0}init(){this.camera=new Be(60,this.canvas.width/this.canvas.height,.1,100),this.camera.position.set(0,2,8),this.camera.lookAt(0,-2,0),this.scene=new Pe,this.scene.background=new R(0),this.renderer=new Ee({canvas:this.canvas,antialias:!1,powerPreference:"low-power",precision:"mediump"}),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),this.renderer.setSize(this.canvas.width,this.canvas.height,!1),this.resourceId=q.registerResources(this.componentId,{renderer:this.renderer,scene:this.scene,camera:this.camera},{persistent:!0}),this.canvas.addEventListener("webglcontextlost",this.onContextLost.bind(this)),this.canvas.addEventListener("webglcontextrestored",this.onContextRestored.bind(this)),this.createGalaxy(),window.addEventListener("resize",this.onResize.bind(this))}createGalaxy(){const t=new $e;this.positions=new Float32Array(this.particleCount*3),this.colors=new Float32Array(this.particleCount*3),this.particleData=[];for(let w=0;w<this.particleCount;w++){const p=Math.random(),m=Math.pow(p,1.5)*this.radius,u=Math.random()*Math.PI*2,C=Math.pow(Math.random()*2-1,3)*p*.2,j=Math.pow(Math.random()*2-1,3)*p*.05,x=Math.pow(Math.random()*2-1,3)*p*.2;this.particleData.push({radiusRatio:p,radius:m,branchAngle:u,randomX:C,randomY:j,randomZ:x});const k=Math.pow(1-p,2),T=this.colorInside.clone();T.lerp(this.colorOutside,1-k);const H=w*3;this.colors[H]=T.r,this.colors[H+1]=T.g,this.colors[H+2]=T.b}t.setAttribute("position",new We(this.positions,3)),t.setAttribute("color",new We(this.colors,3));const e=document.createElement("canvas");e.width=64,e.height=64;const i=e.getContext("2d"),n=i.createRadialGradient(32,32,0,32,32,32);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.2,"rgba(255, 255, 255, 1)"),n.addColorStop(.4,"rgba(255, 255, 255, 0.8)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),i.fillStyle=n,i.fillRect(0,0,64,64);const s=new qe(e),c=new Ye({size:this.size*2,sizeAttenuation:!0,depthWrite:!1,blending:ke,vertexColors:!0,transparent:!0,opacity:.9,map:s,alphaTest:.05});this.mesh=new Ze(t,c),this.scene.add(this.mesh),this.updatePositions(),this.centralLight=new ye(this.colorInside.clone().multiplyScalar(1.5),2.5,40),this.centralLight.position.set(0,-1,0),this.scene.add(this.centralLight);const a=new ye(this.colorInside,1.8,35);a.position.set(0,-1,0),this.scene.add(a),this.ambientLight=new Ue(this.colorInside.clone().multiplyScalar(.3),.4),this.scene.add(this.ambientLight);const b=new ye(this.colorInside,1.2,25);b.position.set(-5,0,5),this.scene.add(b);const g=new ye(this.colorOutside,1.2,25);g.position.set(5,0,5),this.scene.add(g);const d=new ye(this.colorOutside.clone().multiplyScalar(1.2),.8,50);d.position.set(0,2,-10),this.scene.add(d),this.lights={central:this.centralLight,green:a,ambient:this.ambientLight,fill1:b,fill2:g,back:d}}updatePositions(){for(let t=0;t<this.particleCount;t++){const e=this.particleData[t],i=t*3,n=e.branchAngle+this.time*(1-e.radiusRatio),s=Math.cos(n)*e.radius,c=Math.sin(n)*e.radius,a=-Math.abs(e.radius*.3);this.positions[i]=s+e.randomX,this.positions[i+1]=a+e.randomY-2,this.positions[i+2]=c+e.randomZ}this.mesh.geometry.attributes.position.needsUpdate=!0}start(){this.animate()}animate(){this.animationFrameId=requestAnimationFrame(this.animate.bind(this)),this.time+=.008,this.updatePositions(),this.renderer.render(this.scene,this.camera)}onResize(t,e){if(!this.renderer||!this.camera)return;const i=t||this.canvas.width,n=e||this.canvas.height;this.camera.aspect=i/n,this.camera.updateProjectionMatrix(),this.renderer.setSize(i,n,!1)}onContextLost(t){t.preventDefault(),console.warn("WebGL context lost. Attempting to restore..."),this.animationId=null,this.contextLost=!0}onContextRestored(){this.init(),this.start()}stop(){if(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.renderer&&(this.renderer.dispose(),this.renderer=null),this.mesh&&this.scene&&(this.scene.remove(this.mesh),this.mesh.geometry&&this.mesh.geometry.dispose(),this.mesh.material&&this.mesh.material.dispose(),this.mesh=null),this.geometry&&(this.geometry.dispose(),this.geometry=null),this.material&&(this.material.dispose(),this.material=null),this.texture&&(this.texture.dispose(),this.texture=null),this.scene&&this.scene.children)for(;this.scene.children.length>0;){const t=this.scene.children[0];this.scene.remove(t),t.geometry&&t.geometry.dispose(),t.material&&(Array.isArray(t.material)?t.material.forEach(e=>e.dispose()):t.material.dispose())}this.scene=null,this.camera=null,window.removeEventListener("resize",this.onResize.bind(this))}cleanup(){for(this.mesh&&(this.scene.remove(this.mesh),this.mesh.geometry&&this.mesh.geometry.dispose(),this.mesh.material&&this.mesh.material.dispose(),this.mesh=null),this.geometry&&(this.geometry.dispose(),this.geometry=null),this.material&&(this.material.dispose(),this.material=null),this.texture&&(this.texture.dispose(),this.texture=null);this.scene.children.length>0;){const t=this.scene.children[0];this.scene.remove(t),t.geometry&&t.geometry.dispose(),t.material&&(Array.isArray(t.material)?t.material.forEach(e=>e.dispose()):t.material.dispose())}}destroy(){this.stop(),this.resourceId&&(q.cleanup(this.resourceId),this.resourceId=null)}}const Pt=`
    uniform float time;
    uniform vec2 center;
    uniform float waveRadius;
    uniform float maxRadius;
    
    varying vec2 vUv;
    varying float vDistance;
    varying float vWaveIntensity;
    
    void main() {
        vUv = uv;
        
        // 计算到波源中心的距离
        vec2 pos = position.xy;
        vDistance = distance(pos, center);
        
        // 计算波纹强度（基于距离和半径）
        float distanceFromWave = abs(vDistance - waveRadius);
        vWaveIntensity = 1.0 - smoothstep(0.0, 25.0, distanceFromWave); // 增加平滑范围
        
        // 添加更柔和的Z轴波动（减慢速度）
        vec3 newPosition = position;
        if (vWaveIntensity > 0.1) {
            // 多层3D波动效果，速度更慢
            float ripple1 = sin(vDistance * 0.08 - time * 1.2) * vWaveIntensity * 1.5;
            float ripple2 = sin(vDistance * 0.12 + time * 0.8) * vWaveIntensity * 1.0;
            float ripple3 = cos(vDistance * 0.15 - time * 1.5) * vWaveIntensity * 0.8;
            
            // 组合多层波动
            float combinedRipple = ripple1 + ripple2 + ripple3;
            newPosition.z += combinedRipple;
        }
        
        gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);
    }
`,Et=`
    uniform float time;
    uniform vec3 primaryColor;
    uniform vec3 accentColor;
    uniform float opacity;
    uniform float waveRadius;
    uniform float maxRadius;
    uniform vec2 center;
    
    varying vec2 vUv;
    varying float vDistance;
    varying float vWaveIntensity;
    
    void main() {
        // 基础波纹透明度
        float baseAlpha = opacity * vWaveIntensity;
        
        // 创建5层波纹效果（原来3层，新增2层）
        float wave1 = sin(vDistance * 0.03 - time * 1.5) * 0.5 + 0.5;  // 最慢的大波纹
        float wave2 = sin(vDistance * 0.05 - time * 2.0) * 0.4 + 0.6;  // 减慢速度
        float wave3 = sin(vDistance * 0.08 + time * 1.2) * 0.3 + 0.7;  // 减慢速度
        float wave4 = sin(vDistance * 0.12 - time * 2.5) * 0.25 + 0.75; // 新增层次
        float wave5 = sin(vDistance * 0.15 + time * 1.8) * 0.2 + 0.8;   // 新增层次
        
        // 组合所有波纹层次
        float combinedWave = wave1 * wave2 * wave3 * wave4 * wave5;
        
        // 添加更复杂的干涉模式
        float interference1 = sin(vDistance * 0.06 - time * 1.0) * 0.15 + 0.85;
        float interference2 = cos(vDistance * 0.09 + time * 0.8) * 0.1 + 0.9;
        combinedWave *= interference1 * interference2;
        
        // 创建颜色渐变（减慢颜色变化速度）
        float progress = vDistance / maxRadius;
        vec3 waveColor = mix(primaryColor, accentColor, progress);
        
        // 添加彩虹色彩变化（减慢变化速度）
        float hueShift = sin(vDistance * 0.015 + time * 0.5) * 0.25; // 减慢色彩变化
        waveColor.r += hueShift;
        waveColor.g += sin(hueShift + 2.094) * 0.25; // 120度相位差
        waveColor.b += sin(hueShift + 4.188) * 0.25; // 240度相位差
        
        // 边缘发光效果
        float edgeGlow = 1.0 - smoothstep(0.8, 1.0, vWaveIntensity);
        waveColor += vec3(edgeGlow * 0.3);
        
        // 闪烁效果（减慢闪烁速度）
        float sparkle = sin(vDistance * 0.08 + time * 4.0) * 0.08 + 0.92; // 减慢闪烁
        
        // 添加缓慢的整体脉动
        float globalPulse = sin(time * 0.6) * 0.1 + 0.9;
        
        // 最终透明度计算
        float finalAlpha = baseAlpha * combinedWave * sparkle * globalPulse;
        finalAlpha = clamp(finalAlpha, 0.0, 0.7); // 降低最大透明度避免过亮
        
        gl_FragColor = vec4(waveColor, finalAlpha);
    }
`;class Dt{constructor(t,e={},i="BackgroundCanvas"){this.canvas=t,this.componentId=i,this.renderer=null,this.scene=null,this.camera=null,this.animationFrameId=null,this.time=0,this.resourceId=null,this.waveSourceCount=e.waveSourceCount||6,this.maxRings=e.maxRings||8,this.waveSpeed=e.waveSpeed||1.2,this.ringSpacing=e.ringSpacing||45,this.maxRadius=e.maxRadius||400,this.waveColor=new R("#00ffff"),this.sourceColor=new R("#4dd0e1"),this.waveSources=[],this.waveRings=[],this.sourceGeometry=null,this.ringGeometries=[],this.sourceMaterial=null,this.ringMaterials=[],this.sourcePoints=null,this.ringMeshes=[],this.mouse=new Ne,this.lastRippleTime=0,this.rippleInterval=2e3,this.updateThemeColors();try{this.init()}catch(n){throw console.error("EffectRippleWaves: Failed to initialize Three.js",n),n}}updateThemeColors(){const t=getComputedStyle(document.documentElement),e=t.getPropertyValue("--theme-primary").trim(),i=t.getPropertyValue("--theme-accent").trim();e&&this.waveColor.setStyle(e),i&&this.sourceColor.setStyle(i),this.sourceMaterial&&this.sourceMaterial.color.copy(this.sourceColor),this.ringMeshes.forEach(n=>{n.userData.isShaderRipple&&n.material.uniforms?(n.material.uniforms.primaryColor.value.copy(this.waveColor),n.material.uniforms.accentColor.value.copy(this.sourceColor)):n.material.color&&n.material.color.copy(this.waveColor)})}init(){this.camera=new Be(75,this.canvas.width/this.canvas.height,.1,1e3),this.camera.position.z=400,this.scene=new Pe,this.scene.background=new R(0),this.renderer=new Ee({canvas:this.canvas,antialias:!0,alpha:!0}),this.renderer.setSize(this.canvas.width,this.canvas.height,!1),this.resourceId=q.registerResources(this.componentId,{renderer:this.renderer,scene:this.scene,camera:this.camera},{persistent:!0}),this.createWaveSources(),this.setupMouseInteraction(),setTimeout(()=>{this.waveSources.forEach((t,e)=>{setTimeout(()=>{this.createRipple(e,t.position)},e*300)})},100),window.addEventListener("resize",this.onResize.bind(this)),this.animate()}createWaveSources(){this.sourceGeometry=new $e,this.sourceMaterial=new Ye({color:this.sourceColor,size:10,transparent:!0,opacity:0,sizeAttenuation:!0});const t=[];for(let e=0;e<this.waveSourceCount;e++){const i=e/this.waveSourceCount*Math.PI*2,n=100+Math.random()*50,s={position:new we(Math.cos(i)*n,Math.sin(i)*n,0),lastWaveTime:Date.now()+e*400,waveInterval:1800+Math.random()*600,pulsePhase:Math.random()*Math.PI*2,waves:[]};this.waveSources.push(s),t.push(s.position.x,s.position.y,s.position.z)}this.sourceGeometry.setAttribute("position",new yt(t,3)),this.sourcePoints=new Ze(this.sourceGeometry,this.sourceMaterial)}createRipple(t,e){const i=this.waveSources[t],n={sourceIndex:t,position:e.clone(),radius:0,maxRadius:this.maxRadius,speed:this.waveSpeed,opacity:1,creationTime:Date.now(),startTime:this.time};i.waves.push(n);const s=new Ge(0,this.maxRadius,64,1),c=new Ve({uniforms:{time:{value:this.time},center:{value:new Ne(e.x,e.y)},waveRadius:{value:0},maxRadius:{value:this.maxRadius},primaryColor:{value:this.waveColor.clone()},accentColor:{value:this.sourceColor.clone()},opacity:{value:1}},vertexShader:Pt,fragmentShader:Et,transparent:!0,side:wt,blending:ke,depthWrite:!1}),a=new Te(s,c);return a.position.copy(e),a.userData={wave:n,sourceIndex:t,isShaderRipple:!0},this.scene.add(a),this.ringMeshes.push(a),n}setupMouseInteraction(){const t=i=>{const n=this.canvas.getBoundingClientRect();this.mouse.x=(i.clientX-n.left)/n.width*2-1,this.mouse.y=-((i.clientY-n.top)/n.height)*2+1},e=i=>{t(i);const n=new we(this.mouse.x*300,this.mouse.y*200,0);let s=0,c=1/0;this.waveSources.forEach((a,b)=>{const g=a.position.distanceTo(n);g<c&&(c=g,s=b)}),this.createRipple(s,n)};this.canvas.addEventListener("click",e),window.addEventListener("mousemove",t)}animate(){this.animationFrameId=requestAnimationFrame(this.animate.bind(this)),this.time+=.016;const t=Date.now();this.updateWaveSources(),this.generateAutoRipples(t),this.updateRipples(),this.cleanupExpiredRipples(),this.renderer.render(this.scene,this.camera)}updateWaveSources(){for(let t=0;t<this.waveSources.length;t++){const e=this.waveSources[t];e.pulsePhase+=.03}}generateAutoRipples(t){if(this.waveSources.forEach((e,i)=>{t-e.lastWaveTime>e.waveInterval&&(this.createRipple(i,e.position),e.lastWaveTime=t,e.waveInterval=1800+Math.random()*600)}),this.ringMeshes.length===0&&t>this.time*1e3+1e3){const e=Math.floor(Math.random()*this.waveSources.length);this.createRipple(e,this.waveSources[e].position)}}updateRipples(){this.ringMeshes.forEach(t=>{const e=t.userData.wave;if(!e)return;e.radius+=e.speed;const i=e.radius/e.maxRadius;if(e.opacity=Math.max(0,Math.sin((1-i)*Math.PI*.5)),t.userData.isShaderRipple&&t.material.uniforms){const n=t.material.uniforms;n.time.value=this.time,n.waveRadius.value=e.radius,n.opacity.value=e.opacity,n.primaryColor.value.copy(this.waveColor),n.accentColor.value.copy(this.sourceColor);const c=(this.time-e.startTime)*.5%(Math.PI*2)/(Math.PI*2),a=new R().setHSL(c,.8,.6);n.accentColor.value.lerp(a,.3)}else{const n=Math.max(0,e.radius-3),s=e.radius;t.geometry.dispose(),t.geometry=new Ge(n,s,32),t.material.opacity=e.opacity*.3}this.calculateInterference(e,t)})}calculateInterference(t,e){let i=0;if(this.ringMeshes.forEach(n=>{if(n===e)return;const s=n.userData.wave;if(!s)return;const c=t.position.distanceTo(s.position);Math.abs(t.radius-s.radius)<15&&c<t.radius+s.radius&&(i+=.4)}),e.userData.isShaderRipple&&e.material.uniforms){const n=e.material.uniforms.opacity.value;if(e.material.uniforms.opacity.value=Math.min(1,n+i),i>0){const s=this.waveColor.clone().multiplyScalar(1+i*.5);e.material.uniforms.primaryColor.value.lerp(s,.3)}}else e.material.opacity=Math.min(.8,e.material.opacity+i)}cleanupExpiredRipples(){for(let t=this.ringMeshes.length-1;t>=0;t--){const e=this.ringMeshes[t],i=e.userData.wave;if((!i||i.radius>i.maxRadius)&&(this.scene.remove(e),e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose(),this.ringMeshes.splice(t,1),i.sourceIndex!==void 0)){const n=this.waveSources[i.sourceIndex],s=n.waves.indexOf(i);s>-1&&n.waves.splice(s,1)}}}onResize(){!this.camera||!this.renderer||(this.camera.aspect=this.canvas.width/this.canvas.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.canvas.width,this.canvas.height,!1))}stop(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),window.removeEventListener("resize",this.onResize.bind(this)),this.ringMeshes.forEach(t=>{this.scene.remove(t),t.geometry&&t.geometry.dispose(),t.material&&(t.material.uniforms&&Object.values(t.material.uniforms).forEach(e=>{e.value&&e.value.dispose&&e.value.dispose()}),t.material.dispose())}),this.sourceGeometry&&this.sourceGeometry.dispose(),this.sourceMaterial&&this.sourceMaterial.dispose(),this.resourceId&&(q.cleanup(this.resourceId),this.resourceId=null)}destroy(){this.stop()}}const Xe=({effectType:r="effectfuse",sectionName:t="unknown"})=>{const e=l.useRef(null),i=l.useRef(null),n=l.useRef(null),s=l.useRef(null),c=be(a=>a.theme);return l.useEffect(()=>{n.current&&(clearTimeout(n.current),n.current=null);let a=e.current;if(!a){a=document.createElement("canvas"),a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.zIndex="-1",a.style.pointerEvents="none",a.style.background="transparent";const w=window.innerWidth,p=window.innerHeight,m=1280,v=720,u=w/p;let C,j;u>m/v?(C=Math.min(m,w),j=Math.floor(C/u)):(j=Math.min(v,p),C=Math.floor(j*u)),C=Math.max(C,800),j=Math.max(j,600),a.width=C,a.height=j,document.body.appendChild(a),e.current=a}const b=()=>{var w;if(a)try{const p=window.innerWidth,m=window.innerHeight,v=1280,u=720,C=p/m;let j,x;C>v/u?(j=Math.min(v,p),x=Math.floor(j/C)):(x=Math.min(u,m),j=Math.floor(x*C)),j=Math.max(j,800),x=Math.max(x,600),a.width=j,a.height=x,(w=i.current)!=null&&w.onResize&&i.current.onResize(a.width,a.height)}catch(p){console.error("Error resizing canvas:",p)}};b(),(()=>{var p,m;if(i.current){const v=i.current;i.current=null,n.current=setTimeout(()=>{try{typeof v.stop=="function"?v.stop():typeof v.destroy=="function"&&v.destroy()}catch{}},200)}const w={brightness:.6,blobiness:1.5,particles:10,scanlines:!1,energy:1.01,timeScale:1};try{const v=`BackgroundCanvas_${t}`;switch(r){case"effectfuse":{i.current=new At(a,w,v);break}case"effectmonjori":i.current=kt(a,w,v);break;case"effectheartbeats":i.current=new EffectHeartBeats(a,w,v);break;case"effectlorenz":{i.current=new It(a,w,v);break}case"effectchaos":{const u={particleCount:2e3,branches:3,radius:9,spin:1,randomness:.15,randomnessPower:3,size:.12,colorInside:w.colorInside||"#fff8dc",colorOutside:w.colorOutside||"#ffa575"};i.current=new Tt(a,u,v);break}case"effectripple":{const u={waveSourceCount:6,maxRings:8,waveSpeed:1.2,ringSpacing:45,maxRadius:400};i.current=new Dt(a,u,v);break}default:i.current=new EffectHeartBeats(a,w,v)}(p=i.current)!=null&&p.start&&i.current.start(),s.current=q.registerResources(v,{canvas:a,effect:i.current,effectType:r},{persistent:!1})}catch(v){if(console.error("Error creating background effect:",v),r==="effectfuse"||r==="effectlorenz"||r==="effectchaos")try{i.current=new EffectHeartBeats(a,w),(m=i.current)!=null&&m.start&&i.current.start()}catch(u){console.error("Error creating fallback effect:",u),i.current=null}else i.current=null}})();const d=ct.debounce(b,250);return window.addEventListener("resize",d),()=>{if(window.removeEventListener("resize",d),n.current&&(clearTimeout(n.current),n.current=null),i.current)try{typeof i.current.stop=="function"?i.current.stop():typeof i.current.destroy=="function"&&i.current.destroy()}catch(w){console.error("Error cleaning up effect:",w)}finally{i.current=null}if(s.current?(q.cleanup(s.current),s.current=null):q.cleanupByComponent(`BackgroundCanvas_${t}`),a&&document.body.contains(a))try{document.body.removeChild(a)}catch(w){console.error("Error removing canvas:",w)}e.current=null,typeof window<"u"&&window.gc&&setTimeout(()=>window.gc(),100)}},[r,t]),l.useEffect(()=>{const a=["effectchaos","effectlorenz","effectheartbeats","effectmonjori","effectripple"];i.current&&i.current.updateThemeColors&&a.includes(r)&&i.current.updateThemeColors()},[c,r]),null};Xe.propTypes={effectType:Q.string,sectionName:Q.string};const Lt=l.lazy(()=>ve(()=>import("./HomeSection-CCNm_2So.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),Rt=l.lazy(()=>ve(()=>import("./ProjectSection-DgtKXKce.js"),__vite__mapDeps([11,1,2,3,4,5,12,13,9,6,14]))),zt=l.lazy(()=>ve(()=>import("./GallerySection-R_fwABVQ.js"),__vite__mapDeps([15,1,2,3,4,5,6,8]))),Mt=l.lazy(()=>ve(()=>import("./EducationSection-BpqDu4ik.js"),__vite__mapDeps([16,1,2,3,4,5,9,12,13,6,17]))),_t=l.lazy(()=>ve(()=>import("./ContactSection-VU1Qqg4I.js"),__vite__mapDeps([18,1,2,3,4,5,12,13,9,6,19]))),Nt=l.lazy(()=>ve(()=>import("./AboutSection-CylU3bj2.js"),__vite__mapDeps([20,1,2,3,4,5,6]))),Bt=()=>{const{currentSection:r,sections:t,navigateToSection:e,navigateNext:i,navigatePrev:n,isScrolling:s,getCurrentSection:c,language:a,enableOpeningAnimation:b,isProjectModalOpen:g,isPointerLocked:d}=be(),w=l.useRef(null),p=l.useRef(null),m=c(),v=l.useRef(0),u=l.useRef(0),[C,j]=l.useState("slide"),[x,k]=l.useState(!1),[T,H]=l.useState({}),[A,E]=l.useState(!1),[V,oe]=l.useState(0),[K,ce]=l.useState(!1),[xe,re]=l.useState("none"),[me,se]=l.useState(!1),z=l.useRef(),ae=l.useRef(),$=l.useRef({x:0,y:0,time:0}),ie=l.useRef(0),W=(m==null?void 0:m.id)==="home";l.useEffect(()=>{if(m!=null&&m.id){const h=m.id,y=setTimeout(()=>{q.cleanupOtherSections(`BackgroundCanvas_${h}`,["HeroCube"])},3e3);return()=>clearTimeout(y)}},[m==null?void 0:m.id]);const Y=600,Se=200,le=256,pe=80,he=l.useCallback(()=>{console.log("触发指针锁定警告"),se(!0),ae.current&&clearTimeout(ae.current),ae.current=setTimeout(()=>{console.log("自动关闭警告"),se(!1)},3e3)},[]),ge=l.useCallback(h=>{if(s||g)return;const y=h.touches[0];$.current={x:y.clientX,y:y.clientY,time:Date.now()},ie.current=0},[s,g]),Ce=l.useCallback(h=>{if(s||g)return;const y=h.touches[0],S=y.clientY-$.current.y,_=y.clientX-$.current.x;if(!(Math.abs(_)>Math.abs(S))){if(ie.current=Math.abs(S),d){ie.current>=Se&&(ie.current=0,he());return}if(W||!x&&C==="slide"){if(ie.current>=Se){h.preventDefault();const D=S<0,G=S>0;ie.current=0,D&&r<t.length-1?i():G&&r>0&&n()}return}if(C==="content"&&x&&!W){const D=p.current;if(!D)return;const G=D.scrollTop,N=D.scrollHeight-D.clientHeight,B=50,ee=G<=B,J=G>=N-B;if(ie.current>=Se){const ne=S<0,de=S>0;if(ne&&J&&r<t.length-1){h.preventDefault(),ie.current=0,i();return}else if(de&&ee&&r>0){h.preventDefault(),ie.current=0,n();return}}return}}},[s,g,d,C,x,W,r,t.length,i,n,he]),P=l.useCallback(()=>{ie.current=0},[]);l.useEffect(()=>{const h=new CustomEvent("scrollBounce",{detail:{isBouncing:K,direction:xe,intensity:u.current/Y}});window.dispatchEvent(h)},[K,xe]);const L=l.useMemo(()=>({home:Lt,about:Nt,projects:Rt,gallery:zt,education:Mt,contact:_t}),[]),f=l.useCallback(()=>{if(!p.current)return;const h=p.current,y=h.getBoundingClientRect(),S=h.scrollHeight>y.height+10,_=window.innerWidth<768,D=["projects","education","about","contact"].includes(m==null?void 0:m.id);_&&D&&!S&&setTimeout(()=>{if(p.current){const N=p.current.getBoundingClientRect(),B=p.current.scrollHeight>N.height+10;k(B),j(W?"slide":B?"content":"slide")}},500),k(S),j(W?"slide":S?"content":"slide")},[W,m]),M=l.useCallback((h,y=.5)=>{z.current&&clearTimeout(z.current),re(h),ce(!0);const S=30,_=Math.min(y*S,S),D=h==="up"?-_:_;oe(D),E(!0),z.current=setTimeout(()=>{E(!1),oe(0),setTimeout(()=>{ce(!1),re("none")},300)},150)},[]),F=l.useCallback(()=>{z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{A&&u.current<Y&&(E(!1),oe(0),u.current=0)},150)},[A]),Z=l.useCallback(h=>{if(C!=="content"){const y=h.deltaY>0?1:-1,S=y>0&&r>=t.length-1,_=y<0&&r<=0;let D=1;(S||_)&&(D=.5);const G=Math.min(u.current/Y,1),N=S||_?15:pe,B=y*G*N*D;if(A||E(!0),oe(B),S||_){const ee=Math.min(u.current/Y,1),J=S?"down":"up";return z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{M(J,ee)},100),!0}else return F(),!1}return!1},[C,r,t.length,A,F,M]),O=l.useCallback(()=>{if(u.current=0,E(!1),oe(0),ce(!1),re("none"),z.current&&clearTimeout(z.current),p.current){const h=m==null?void 0:m.id;if(h==="home"){const S=p.current;S.style.transform="translateY(0)",S.style.transition="none",S.scrollTop=0,requestAnimationFrame(()=>{S&&(S.offsetHeight,S.style.transition="")});return}(T[h]!==void 0?T[h]==="bottom":!!(x&&(m==null?void 0:m.previousDirection)==="from-next"))?requestAnimationFrame(()=>{if(p.current){const S=p.current.scrollHeight-p.current.clientHeight;p.current.scrollTop=S}}):p.current.scrollTop=0}},[m,x,T]),I=l.useCallback(h=>{const y=Date.now();if(s||g)return;if(d){const N=Math.abs(h.deltaY);u.current+=N,u.current>=Y&&(u.current=0,he());return}if(C==="content"&&x&&!W){const N=p.current;if(!N)return;const B=N.scrollTop,ee=N.scrollHeight-N.clientHeight,J=h.deltaY>0,ne=h.deltaY<0,de=50;if(J)if(B>=ee-de){if(y-v.current>le&&(u.current=0),v.current=y,u.current<Y){if(u.current+=Math.abs(h.deltaY),B>=ee-5){const je=Math.min(u.current/Y,1);M("down",je)}u.current>=Y&&r<t.length-1&&(u.current=0,i());return}}else{u.current=0;return}else if(ne)if(B<=de){if(y-v.current>le&&(u.current=0),v.current=y,u.current<Y){if(u.current+=Math.abs(h.deltaY),B<=5){const je=Math.min(u.current/Y,1);M("up",je)}u.current>=Y&&r>0&&(u.current=0,n());return}}else{u.current=0;return}return}(W||!x&&C==="slide")&&h.preventDefault(),y-v.current>le&&(A?F():(u.current=0,E(!1),oe(0))),v.current=y;const S=Math.abs(h.deltaY);u.current+=S;const _=p.current;if(_&&C==="content"&&x){const N=m==null?void 0:m.id;if(N){const B=_.scrollTop,ee=_.scrollHeight-_.clientHeight,J=B>=ee-10?"bottom":B<=10?"top":"middle";T[N]!==J&&H(ne=>({...ne,[N]:J}))}}if(C!=="content"&&Z(h)||u.current<Y||(u.current=0,E(!1),oe(0),!_))return;const D=h.deltaY>0,G=h.deltaY<0;D&&r<t.length-1?i():G&&r>0&&n()},[s,g,C,x,W,r,t.length,i,n,m,A,T,H,E,oe,M,Z,F,d,he]),U=l.useCallback(h=>{if(s||g)return;const y=p.current;switch(h.key){case"ArrowDown":if(h.preventDefault(),C==="content"&&x&&!W&&y){const S=y.scrollHeight-y.clientHeight;if(y.scrollTop>=S-10)r<t.length-1&&i();else{const _=Math.min(y.scrollTop+100,S);y.scrollTop=_}}else r<t.length-1&&i();break;case"ArrowUp":if(h.preventDefault(),C==="content"&&x&&!W&&y)if(y.scrollTop<=10)r>0&&n();else{const S=Math.max(y.scrollTop-100,0);y.scrollTop=S}else r>0&&n();break;case"PageDown":case" ":h.preventDefault(),r<t.length-1&&i();break;case"PageUp":h.preventDefault(),r>0&&n();break;case"Home":h.preventDefault(),C==="content"&&!W&&y?y.scrollTop=0:e(0);break;case"End":if(h.preventDefault(),C==="content"&&!W&&y){const S=y.scrollHeight-y.clientHeight;y.scrollTop=S}else e(t.length-1);break;default:{const S=parseInt(h.key);S>=1&&S<=t.length&&(h.preventDefault(),e(S-1));break}}},[s,g,C,x,W,r,t.length,i,n,e]);l.useEffect(()=>{E(!1),oe(0),ce(!1),re("none"),u.current=0,z.current&&clearTimeout(z.current);const h=setTimeout(()=>{O(),f()},50);return()=>{clearTimeout(h)}},[r,O,f]),l.useEffect(()=>{f();const h=window.innerWidth<768,y=["projects","education","about","contact"].includes(m==null?void 0:m.id);if(h&&y){const S=[50,100,200,300,500,800,1200].map(N=>setTimeout(()=>{f()},N)),_=()=>S.forEach(N=>clearTimeout(N)),D=()=>{setTimeout(()=>{f()},50)},G=p.current;return G&&G.querySelectorAll("img").forEach(B=>{B.complete?D():(B.addEventListener("load",D,{once:!0}),B.addEventListener("error",D,{once:!0}))}),()=>{_(),G&&G.querySelectorAll("img").forEach(B=>{B.removeEventListener("load",D),B.removeEventListener("error",D)})}}else{const S=setTimeout(()=>{f()},50),_=setTimeout(()=>{f()},150),D=setTimeout(()=>{f()},300);return()=>{clearTimeout(S),clearTimeout(_),clearTimeout(D)}}},[r,f,m]),l.useEffect(()=>{const h=w.current;let y;const S=()=>{y&&clearTimeout(y),y=setTimeout(()=>{f()},100)};if(h)return h.addEventListener("wheel",I,{passive:!1}),h.addEventListener("touchstart",ge,{passive:!1}),h.addEventListener("touchmove",Ce,{passive:!1}),h.addEventListener("touchend",P,{passive:!1}),document.addEventListener("keydown",U),window.addEventListener("resize",S),()=>{h.removeEventListener("wheel",I),h.removeEventListener("touchstart",ge),h.removeEventListener("touchmove",Ce),h.removeEventListener("touchend",P),document.removeEventListener("keydown",U),window.removeEventListener("resize",S),z.current&&clearTimeout(z.current),y&&clearTimeout(y)}},[I,ge,Ce,P,U,f]);const X=()=>{if(!m)return null;const h=L[m.id];return h?o.jsx(l.Suspense,{fallback:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-white text-xl",children:"Loading..."})}),children:o.jsx(h,{section:m,language:a,...m.id==="home"?{sections:t,onSectionChange:e,enableOpeningAnimation:b}:{}})}):null};return o.jsxs("div",{ref:w,className:"relative w-full m-0 p-0 h-screen",style:{overflow:"hidden",height:"var(--vh-fallback, 100vh)",minHeight:"100dvh"},children:[(m==null?void 0:m.backgroundEffect)&&o.jsx(Xe,{effectType:m.backgroundEffect,sectionName:m.id||"unknown"}),o.jsx("div",{ref:p,className:`absolute inset-0 z-20 smooth-scroll scroll-mode-transition ${W?"scroll-mode-home overflow-hidden":x?"scroll-mode-auto overflow-y-auto":"overflow-hidden"} ${K?"bouncing":""}`,style:{transform:A&&!K?`translateY(${V}px)`:"translateY(0)",transition:s||A&&!K?"none":K?"transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)":"transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)",willChange:s||A||K?"transform":"auto"},children:X()}),s&&o.jsx("div",{className:"fixed inset-0 bg-black/20 z-30 transition-opacity duration-300"}),me&&o.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 transition-all duration-300 animate-in fade-in slide-in-from-bottom-4 cursor-pointer",onClick:()=>{console.log("用户点击关闭警告"),se(!1),ae.current&&clearTimeout(ae.current)},children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 text-white border border-white/20 max-w-sm text-center shadow-2xl",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-white/70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3h6l-3 2.25M12 5.25V7.5m0 0l3-2.25M12 7.5l-3-2.25M6 18h12a2 2 0 002-2V8a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("p",{className:"text-xl font-semibold text-white mb-2 leading-relaxed",children:a==="zh"?o.jsxs(o.Fragment,{children:["请先按 ",o.jsx("span",{className:"inline-flex items-center px-2 py-1 mx-1 bg-white/20 rounded text-sm font-mono border border-white/30",children:"ESC"})," 键"]}):o.jsxs(o.Fragment,{children:["Press ",o.jsx("span",{className:"inline-flex items-center px-2 py-1 mx-1 bg-white/20 rounded text-sm font-mono border border-white/30",children:"ESC"})," to exit"]})}),o.jsx("p",{className:"text-sm text-white/70 leading-relaxed",children:a==="zh"?"退出长廊后再翻页":"corridor before navigating"})]})]})})]})},ue={"nz-blue":{name:{en:"New Zealand Blue",zh:"新西兰蓝"},description:{en:"Inspired by New Zealand's coastal beauty",zh:"灵感来自新西兰海岸之美"},icon:"🇳🇿",colors:{primary:"#00ffff",secondary:"#0080ff",accent:"#4dd0e1",background:"#000000",surface:"rgba(255, 255, 255, 0.05)","surface-elevated":"rgba(255, 255, 255, 0.1)","text-primary":"#ffffff","text-secondary":"#e1e7ef","text-muted":"#888888",border:"#00ffff",divider:"#00ffff",hover:"rgba(0, 255, 255, 0.1)",button:"rgba(0, 255, 255, 0.6)",loading:"#00ffff",glow:"#00ffff",shadow:"rgba(0, 255, 255, 0.5)",cursor:"#00ffff","avatar-glow":"#00ffff",success:"#00ff00",warning:"#ffff00",error:"#ff0000","gradient-from":"#0080ff","gradient-via":"#00ffff","gradient-to":"#4dd0e1"}},"si-green":{name:{en:"South Island Green",zh:"绿意南岛"},description:{en:"Inspired by South Island's lush landscapes",zh:"灵感来自南岛的茂密景观"},icon:"🏔️",colors:{primary:"#10b981",secondary:"#059669",accent:"#4ade80",background:"#000000",surface:"rgba(255, 255, 255, 0.05)","surface-elevated":"rgba(255, 255, 255, 0.1)","text-primary":"#ffffff","text-secondary":"#e1f5fe","text-muted":"#888888",border:"#10b981",divider:"#10b981",hover:"rgba(16, 185, 129, 0.1)",button:"rgba(16, 185, 129, 0.6)",loading:"#10b981",glow:"#10b981",shadow:"rgba(16, 185, 129, 0.5)",cursor:"#10b981","avatar-glow":"#10b981",success:"#10b981",warning:"#ffff00",error:"#ff0000","gradient-from":"#059669","gradient-via":"#10b981","gradient-to":"#4ade80"}}},Je=()=>{const{theme:r,setTheme:t}=be(),e=a=>{const b=ue[a];if(!b)return;const g=document.documentElement;Object.entries(b.colors).forEach(([d,w])=>{if(g.style.setProperty(`--theme-${d}`,w),d==="primary"||d==="secondary"){const p=i(w);p&&g.style.setProperty(`--theme-${d}-rgb`,`${p.r}, ${p.g}, ${p.b}`)}}),g.className=g.className.replace(/theme-\w+/g,""),g.classList.add(`theme-${a}`),t(a)},i=a=>{const b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},n=()=>{const a=Object.keys(ue),g=(a.indexOf(r)+1)%a.length;e(a[g])},s=()=>ue[r]||ue["nz-blue"],c=()=>Object.entries(ue).map(([a,b])=>({key:a,...b}));return l.useEffect(()=>{const a=ue[r]?r:"nz-blue";if(a!==r){t(a);return}const b=ue[a];if(!b)return;const g=document.documentElement;Object.entries(b.colors).forEach(([d,w])=>{if(g.style.setProperty(`--theme-${d}`,w),d==="primary"||d==="secondary"){const p=i(w);p&&g.style.setProperty(`--theme-${d}-rgb`,`${p.r}, ${p.g}, ${p.b}`)}}),g.className=g.className.replace(/theme-\w+/g,""),g.classList.add(`theme-${a}`)},[r,t]),{theme:r,applyTheme:e,toggleTheme:n,getCurrentTheme:s,getAllThemes:c,getThemeColors:()=>s().colors,themes:ue}},Ft=()=>{const{getThemeColors:r}=Je(),t=r(),[e,i]=l.useState({x:0,y:0}),[n,s]=l.useState(!1),[c,a]=l.useState("none"),[b,g]=l.useState(!1),[d,w]=l.useState(0),[p,m]=l.useState(0),[v,u]=l.useState(0),[C,j]=l.useState(0),[x,k]=l.useState(!1),[T,H]=l.useState(0),[A,E]=l.useState(null),[V,oe]=l.useState(!1),{currentSection:K,sections:ce,isPointerLocked:xe}=be(),re=l.useRef(),me=l.useRef(0),se=l.useRef(),z=l.useRef(),ae=l.useRef(null),$=l.useRef(new WeakMap),ie=l.useRef({currentScrollDelta:0,animatedValue:0,isAnimatingDown:!1,scrollIntensity:0});l.useEffect(()=>{ie.current={currentScrollDelta:v,animatedValue:C,isAnimatingDown:x,scrollIntensity:d}},[v,C,x,d]);const W=l.useCallback((P,L)=>{const f=document.elementFromPoint(P,L);if(!f)return!1;if($.current.has(f))return $.current.get(f);const M=["a","button","input","select","textarea","[onclick]",'[role="button"]','[role="link"]','[role="menuitem"]','[tabindex]:not([tabindex="-1"])',".clickable",".btn",".button",".cursor-pointer","summary","label",'[data-clickable="true"]'],F=["canvas","svg","img","video",".hero-cube",".effect-avatar",".lorenz-attractor",'[data-no-custom-cursor="true"]','[style*="pointer-events: none"]','[style*="pointerEvents: none"]',".h-screen.w-screen",".overflow-hidden",".background-container",".bg-container"];if(f.hasAttribute("data-no-custom-cursor")||f.hasAttribute("data-hero-cube-canvas")||f.classList.contains("hero-cube-canvas"))return $.current.set(f,!1),!1;const Z=window.getComputedStyle(f);if(Z.pointerEvents==="none"||Z.cursor==="none"&&(f.classList.contains("h-screen")||f.classList.contains("w-screen")||f.classList.contains("overflow-hidden")))return $.current.set(f,!1),!1;if(f.tagName.toLowerCase()==="canvas"){const X=f.parentElement;if(X&&(X.classList.contains("hero-cube")||X.hasAttribute("data-hero-cube")||X.style.pointerEvents==="none"||f.style.pointerEvents==="none"))return $.current.set(f,!1),!1}let O=!1,I=f,U=0;for(;I&&I!==document.body&&U<5;){if(F.some(h=>{try{return I.matches(h)}catch{return!1}})){O=!1;break}if(I.tagName.toLowerCase()==="div"){const h=window.getComputedStyle(I),y=I.classList;if(h.cursor==="none"&&(y.contains("h-screen")||y.contains("w-screen"))){O=!1;break}const S=["h-screen","w-screen","overflow-hidden","relative","absolute","fixed"];if(Array.from(y).every(D=>S.includes(D)||D.startsWith("bg-")||D.startsWith("backdrop-"))&&h.cursor==="none"){O=!1;break}}if(M.some(h=>{try{return I.matches(h)}catch{return!1}})){O=!0;break}if(window.getComputedStyle(I).cursor==="pointer"){const h=I.tagName.toLowerCase();if(!["canvas","svg","img","video"].includes(h)&&(I.hasAttribute("onclick")||I.hasAttribute("role")||I.hasAttribute("tabindex")||I.classList.contains("clickable")||I.classList.contains("btn")||I.classList.contains("button")||["a","button","input","select","textarea"].includes(h))){O=!0;break}}if(I.onclick||I.getAttribute("data-testid")||I.classList.contains("cursor-pointer")){O=!0;break}I=I.parentElement,U++}if($.current.set(f,O),$.current.size>100){const X=Array.from($.current.entries());$.current.clear(),X.slice(-50).forEach(([h,y])=>{$.current.set(h,y)})}return O},[]),Y=l.useCallback(()=>{const P=K>0,L=K<ce.length-1;return P&&L?"both":P?"up":L?"down":"none"},[K,ce.length]),Se=l.useCallback(()=>{const P=K>0,L=K<ce.length-1;ae.current||(ae.current=document.querySelector(".scroll-mode-auto"));const f=ae.current;let M=!1,F=!0,Z=!0;return f&&(M=f.scrollHeight>f.clientHeight+10,F=f.scrollTop<=5,Z=f.scrollTop>=f.scrollHeight-f.clientHeight-5),{isTopBoundary:!P&&(!M||F),isBottomBoundary:!L&&(!M||Z),hasNowhereToGo:!P&&!L&&!M,hasContentToScroll:M}},[K,ce.length]);l.useCallback(()=>{z.current&&(cancelAnimationFrame(z.current),z.current=null),k(!0);const P=Math.abs(v);if(P===0){k(!1),j(0),u(0),w(0);return}const L=performance.now(),f=Math.min(P*2,600),M=()=>{const Z=performance.now()-L,O=Math.min(Z/f,1),I=1-Math.pow(1-O,4),U=Math.round(P*(1-I));j(U),O<1?z.current=requestAnimationFrame(M):(j(0),u(0),k(!1),setTimeout(()=>{w(0),E(null),setTimeout(()=>{j(0),u(0)},100)},50),z.current=null)};z.current=requestAnimationFrame(M)},[v]),l.useEffect(()=>{a(Y())},[Y]);const le=l.useCallback(P=>{const L=P.deltaY,f=Math.min(Math.abs(L)/30,1),M=Math.abs(L);let F=1;M<10?F=2:M<30?F=1.5:M>100&&(F=.8);const Z=Math.min(f*F,1),O=L>0?"down":"up",I=performance.now();if(I-(le.lastTime||0)<4)return;le.lastTime=I,z.current&&(cancelAnimationFrame(z.current),z.current=null),k(!1),w(Z),E(O),H(I);const U=Math.round(L);u(U),j(U),m(X=>{const h=X+U;return Math.max(-9999,Math.min(9999,h))}),se.current&&(clearTimeout(se.current),se.current=null),se.current=setTimeout(()=>{u(0),j(0),w(0),k(!1),se.current=null},100)},[]),pe=l.useCallback(P=>{const L=performance.now();if(L-(pe.lastTime||0)<8)return;pe.lastTime=L,i({x:P.clientX,y:P.clientY});const f=W(P.clientX,P.clientY);oe(f),n||s(!0)},[n,W]),he=l.useCallback(()=>{s(!0),g(!0)},[]),ge=l.useCallback(()=>{s(!1),g(!1)},[]);l.useEffect(()=>{let P=0;const L=()=>{const f=performance.now();if(f-(L.lastTime||0)<16){re.current=requestAnimationFrame(L);return}if(L.lastTime=f,b?me.current=Math.min(me.current+.12,1):me.current=Math.max(me.current-.08,.3),f-T>30){const F=Math.max(d-.05,0);f-P>32&&F!==d&&(w(F),P=f)}re.current=requestAnimationFrame(L)};return re.current=requestAnimationFrame(L),()=>{re.current&&cancelAnimationFrame(re.current)}},[b,T,d,p]),l.useEffect(()=>{const P=document.body.style.cursor;return V?document.body.style.cursor="auto":document.body.style.cursor="none",()=>{document.body.style.cursor=P,ae.current&&(ae.current=null),me.current=.3}},[V]),l.useEffect(()=>(document.addEventListener("mousemove",pe),document.addEventListener("mouseenter",he),document.addEventListener("mouseleave",ge),document.addEventListener("wheel",le,{passive:!0}),()=>{document.removeEventListener("mousemove",pe),document.removeEventListener("mouseenter",he),document.removeEventListener("mouseleave",ge),document.removeEventListener("wheel",le),se.current&&clearTimeout(se.current),z.current&&cancelAnimationFrame(z.current)}),[pe,he,ge,le]),l.useEffect(()=>{if(!x&&v!==0&&d===0){const P=setTimeout(()=>{u(0),j(0),E(null)},1500);return()=>clearTimeout(P)}},[x,v,d]);const Ce=()=>{const L=b?1.02:1,f=133*L,M=Se(),F=M.isTopBoundary&&A==="up"&&d>0||M.isBottomBoundary&&A==="down"&&d>0||M.hasNowhereToGo&&d>0,Z=J=>{const ne=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(J);return ne?[parseInt(ne[1],16),parseInt(ne[2],16),parseInt(ne[3],16)]:[255,255,255]},O=()=>F&&d>0?"#ff4444":t.primary,I=()=>F&&d>0?"#ff4444":t.accent,U=O(),X=I(),h=()=>{const J=x?C:v;return J===0?null:Math.abs(J).toString()},y=()=>A==="down"?"translate3d(24px, 0, 0)":A==="up"?"translate3d(-24px, 0, 0)":"translate3d(0, 0, 0)",S=h(),_=y(),D=S!==null&&(d>0||Math.abs(v)>0||x||Math.abs(C)>0),G=.2,N=5,B={width:`${f}px`,height:`${f}px`,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",transform:"translate3d(0, 0, 0)",willChange:"transform"},ee=(J,ne=1)=>{const de=256*L,je=J==="up"?"M12 22L12 2M10 4L12 2L14 4":"M12 2L12 22M10 20L12 22L14 20",nt=(()=>{if(d===0)return t.primary;if(F){const te=[255,68,68],fe=[180,20,20],De=Math.round(te[0]+(fe[0]-te[0])*d),Le=Math.round(te[1]+(fe[1]-te[1])*d),Re=Math.round(te[2]+(fe[2]-te[2])*d);return`rgb(${De}, ${Le}, ${Re})`}else{const te=Z(t.accent),fe=Z(t.secondary),De=Math.round(te[0]+(fe[0]-te[0])*d),Le=Math.round(te[1]+(fe[1]-te[1])*d),Re=Math.round(te[2]+(fe[2]-te[2])*d);return`rgb(${De}, ${Le}, ${Re})`}})();return o.jsx("div",{style:{position:"absolute",width:`${de}px`,height:`${de}px`,display:"flex",alignItems:"center",justifyContent:"center",opacity:ne*.8,zIndex:10,transform:"translate3d(0, 0, 0)",willChange:"opacity"},children:o.jsx("svg",{width:de,height:de,viewBox:"0 0 24 24",style:{shapeRendering:"geometricPrecision",vectorEffect:"non-scaling-stroke"},children:o.jsx("path",{d:je,stroke:nt,strokeWidth:G,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",opacity:.8,style:{transition:"stroke 0.1s ease-out",willChange:"stroke"}})})})};return o.jsxs("div",{style:B,children:[o.jsxs("svg",{width:f,height:f,style:{position:"absolute",transform:A==="up"?"rotate(90deg)":"rotate(-90deg)",transition:"transform 0.2s ease-out"},children:[o.jsx("circle",{cx:f/2,cy:f/2,r:(f-4)/2,fill:"none",stroke:U,strokeWidth:G,opacity:"0.8"}),d>0&&o.jsx("circle",{cx:f/2,cy:f/2,r:(f-4)/2,fill:"none",stroke:X,strokeWidth:N,strokeLinecap:"round",opacity:"0.9",strokeDasharray:`${2*Math.PI*((f-4)/2)}`,strokeDashoffset:`${2*Math.PI*((f-4)/2)*(1-d)}`,style:{transition:"stroke-dashoffset 0.05s cubic-bezier(0.25, 0.46, 0.45, 0.94)",willChange:"stroke-dashoffset"}})]}),D&&o.jsx("div",{style:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"600",fontFamily:'Monaco, "SF Mono", "Consolas", monospace',color:X,opacity:.95,zIndex:15,textShadow:`0 0 6px ${X}40`,transform:_,willChange:"opacity, transform",minWidth:"32px",textAlign:"center",transition:x?"none":"all 0.2s ease-out"},children:o.jsx("span",{className:"scroll-value",style:{transform:x?"scale(0.95)":"scale(1)",transition:"transform 0.15s ease-out"},children:S})}),c==="up"&&ee("up"),c==="down"&&ee("down"),c==="both"&&o.jsxs(o.Fragment,{children:[ee("up",.7),ee("down",.7)]}),c==="none"&&d===0&&o.jsx("div",{style:{position:"absolute",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:U,opacity:.8,transform:"translate3d(0, 0, 0)"}}),o.jsx("div",{style:{position:"absolute",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"var(--theme-primary)",opacity:.9,zIndex:20,transform:"translate3d(0, 0, 0)",willChange:"transform",boxShadow:"0 0 6px var(--theme-primary)"}})]})};return n?o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
                
                @keyframes pulse {
                    0%, 100% { transform: scale(1); opacity: 0.8; }
                    50% { transform: scale(1.3); opacity: 1; }
                }
                
                @keyframes float {
                    0%, 100% { transform: translateY(0px); }
                    50% { transform: translateY(-4px); }
                }
                
                .power-cursor {
                    position: fixed;
                    pointer-events: none; /* 不阻挡鼠标事件 */
                    z-index: 9999; /* 最高层级 */
                    mix-blend-mode: screen; /* 视觉混合模式 */
                    ${xe?"display: none !important;":""} /* 3D模式时隐藏 */
                }
                
                .power-cursor.hovering {
                    filter: brightness(1.2) contrast(1.1); /* 悬停时增强效果 */
                }
                
                .power-cursor.over-clickable {
                    opacity: 0.3; /* 在可点击元素上变淡 */
                    transform: translate3d(-50%, -50%, 0) scale(0.8); /* 缩小效果 */
                }
                
                .clickable-hint {
                    position: fixed;
                    pointer-events: none;
                    z-index: 9998;
                    width: 1rem; /* 16px */
                    height: 1rem; /* 16px */
                    border-radius: 50%;
                    background: var(--theme-primary); /* 主题色 */
                    opacity: 0.9; 
                    box-shadow: 0 0 6px var(--theme-primary); /* 主题色光晕 */
                    transform: translate3d(-50%, -50%, 0);
                    ${xe?"display: none !important;":""} /* 3D模式时隐藏 */
                }
                
                /* 移动设备适配：在触摸设备上隐藏光标 */
                @media (hover: none) and (pointer: coarse) {
                    .power-cursor, .clickable-hint {
                        display: none !important;
                    }
                }
            `}),V&&o.jsx("div",{className:"clickable-hint",style:{left:e.x,top:e.y}}),o.jsx("div",{className:`power-cursor ${b?"hovering":""} ${V?"over-clickable":""}`,style:{left:e.x,top:e.y,transform:"translate3d(-50%, -50%, 0)",willChange:"transform"},children:Ce()})]}):null},Qe=({language:r="en"})=>{const[t,e]=l.useState(navigator.onLine),[i,n]=l.useState(!1);l.useEffect(()=>{const g=()=>{e(!0),n(!0),setTimeout(()=>n(!1),2e3)},d=()=>{e(!1),n(!0)};return window.addEventListener("online",g),window.addEventListener("offline",d),navigator.onLine||n(!0),()=>{window.removeEventListener("online",g),window.removeEventListener("offline",d)}},[]);const s=()=>t?{title:r==="zh"?"网络连接已恢复":"Network Reconnected",message:r==="zh"?"所有功能恢复正常":"All features are now working",icon:o.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}:{title:r==="zh"?"网络连接中断":"Network Disconnected",message:r==="zh"?"部分功能可能无法正常使用，请检查网络连接":"Some features may not work properly. Please check your connection.",icon:o.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-12.728 12.728m0-12.728l12.728 12.728M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2z"})})};if(!i)return null;const{title:c,message:a,icon:b}=s();return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:`transition-all duration-300 transform ${i?"scale-100 opacity-100":"scale-95 opacity-0"} pointer-events-auto`,children:o.jsx("div",{className:"bg-zinc-800/90 backdrop-blur-md border border-zinc-700/50 rounded-lg p-4 shadow-2xl",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:b}),o.jsxs("div",{className:"text-white",children:[o.jsx("div",{className:"font-medium text-sm",children:c}),o.jsx("div",{className:"text-zinc-300 text-xs mt-1",children:a})]}),o.jsx("button",{onClick:()=>n(!1),className:"text-zinc-400 hover:text-zinc-200 text-sm ml-4 transition-colors","aria-label":"关闭",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})})};Qe.propTypes={language:Q.string};const Ot=()=>{const{currentSection:r}=be(),e=r===0?0:r/5*100;return o.jsx("div",{className:"fixed top-0 left-0 right-0 z-40 h-[5px]",children:o.jsx("div",{className:`w-full h-full transition-opacity duration-300 ${r===0?"bg-transparent":"bg-white/20"}`,children:o.jsx("div",{className:"h-full transition-all duration-700 ease-out",style:{width:`${e}%`,backgroundColor:"var(--theme-primary)"}})})})};class Ke extends st.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,e){console.error("ErrorBoundary caught an error:",t,e),this.setState({error:t,errorInfo:e})}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-theme-background",children:o.jsxs("div",{className:"max-w-md w-full bg-theme-surface shadow-lg rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.102 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsx("div",{className:"ml-3",children:o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"应用程序遇到错误"})})]}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"抱歉，应用程序遇到了一个意外错误。请刷新页面重试。"}),!1,o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-theme-primary hover:bg-theme-primary/80 text-theme-background font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200",children:"刷新页面"})})]})}):this.props.children}}Ke.propTypes={children:Q.node.isRequired};const et=({visible:r,onToggle:t})=>{const[e,i]=l.useState("memory"),[n,s]=l.useState(null),[c,a]=l.useState(null),[b,g]=l.useState({}),[d,w]=l.useState(!1),p=l.useRef(0),m=l.useRef(0),v=l.useRef(performance.now()),{currentSection:u,sections:C,getCurrentSection:j}=be();if(l.useEffect(()=>{let A;const E=()=>{m.current++;const V=performance.now();V-v.current>=1e3&&(p.current=Math.round(m.current*1e3/(V-v.current)),m.current=0,v.current=V),A=requestAnimationFrame(E)};return E(),()=>{A&&cancelAnimationFrame(A)}},[]),l.useEffect(()=>{if(!r)return;const A=()=>{performance.memory&&s({used:Math.round(performance.memory.usedJSHeapSize/1024/1024),total:Math.round(performance.memory.totalJSHeapSize/1024/1024),limit:Math.round(performance.memory.jsHeapSizeLimit/1024/1024)});const V=q.getMemoryInfo();a(V),g({fps:p.current})};A();const E=setInterval(A,500);return()=>clearInterval(E)},[r]),!r)return null;const x=[{id:"memory",label:"Memory"},{id:"webgl",label:"WebGL"},{id:"sections",label:"Sections"}],k=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 via-blue-500/10 to-transparent backdrop-blur-md border border-blue-400/30 rounded-xl p-3 shadow-lg ring-1 ring-blue-400/20",children:[o.jsx("div",{className:"text-blue-300 font-semibold text-xs mb-1",children:"JS Heap Used"}),o.jsxs("div",{className:"text-lg font-mono text-white font-bold",children:[(n==null?void 0:n.used)||0," MB"]}),o.jsxs("div",{className:"text-blue-200/70 text-xs",children:[n?Math.round(n.used/n.limit*100):0,"% of limit"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 via-emerald-500/10 to-transparent backdrop-blur-md border border-emerald-400/30 rounded-xl p-3 shadow-lg ring-1 ring-emerald-400/20",children:[o.jsx("div",{className:"text-emerald-300 font-semibold text-xs mb-1",children:"JS Heap Total"}),o.jsxs("div",{className:"text-lg font-mono text-white font-bold",children:[(n==null?void 0:n.total)||0," MB"]}),o.jsx("div",{className:"text-emerald-200/70 text-xs",children:"Allocated"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/20 via-yellow-500/10 to-transparent backdrop-blur-md border border-yellow-400/30 rounded-xl p-3 shadow-lg ring-1 ring-yellow-400/20",children:[o.jsx("div",{className:"text-yellow-300 font-semibold text-xs mb-1",children:"JS Heap Limit"}),o.jsxs("div",{className:"text-lg font-mono text-white font-bold",children:[(n==null?void 0:n.limit)||0," MB"]}),o.jsx("div",{className:"text-yellow-200/70 text-xs",children:"Browser limit"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 via-purple-500/10 to-transparent backdrop-blur-md border border-purple-400/30 rounded-xl p-3 shadow-lg ring-1 ring-purple-400/20",children:[o.jsx("div",{className:"text-purple-300 font-semibold text-xs mb-1",children:"FPS"}),o.jsx("div",{className:"text-lg font-mono text-white font-bold",children:b.fps||0}),o.jsx("div",{className:"text-purple-200/70 text-xs",children:"frames/sec"})]})]})]}),T=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"bg-gradient-to-br from-cyan-500/20 via-cyan-500/10 to-transparent backdrop-blur-md border border-cyan-400/30 rounded-xl p-3 shadow-lg ring-1 ring-cyan-400/20",children:[o.jsx("div",{className:"text-cyan-300 font-semibold text-xs mb-1",children:"Active Groups"}),o.jsx("div",{className:"text-lg font-mono text-white font-bold",children:(c==null?void 0:c.activeResourceGroups)||0}),o.jsx("div",{className:"text-cyan-200/70 text-xs",children:"Resource groups"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-500/20 via-orange-500/10 to-transparent backdrop-blur-md border border-orange-400/30 rounded-xl p-3 shadow-lg ring-1 ring-orange-400/20",children:[o.jsx("div",{className:"text-orange-300 font-semibold text-xs mb-1",children:"Persistent"}),o.jsx("div",{className:"text-lg font-mono text-white font-bold",children:(c==null?void 0:c.persistentResources)||0}),o.jsx("div",{className:"text-orange-200/70 text-xs",children:"Persistent resources"})]})]}),(c==null?void 0:c.resourceStats)&&o.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/15 via-emerald-500/5 to-transparent backdrop-blur-md border border-emerald-400/25 rounded-xl p-4 shadow-lg ring-1 ring-emerald-400/15",children:[o.jsxs("div",{className:"text-emerald-300 font-semibold mb-3 text-sm flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full mr-2 animate-pulse"}),"Resource Breakdown"]}),o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(c.resourceStats).map(([A,E])=>o.jsxs("div",{className:"flex justify-between items-center bg-white/5 rounded-lg px-2 py-1.5 border border-white/10",children:[o.jsxs("span",{className:"capitalize text-gray-300",children:[A.replace(/([A-Z])/g," $1").trim(),":"]}),o.jsx("span",{className:"font-mono text-white font-semibold bg-emerald-500/20 px-2 py-0.5 rounded",children:E})]},A))})]}),(c==null?void 0:c.sectionBreakdown)&&Object.keys(c.sectionBreakdown).length>0&&o.jsxs("div",{className:"bg-gradient-to-br from-violet-500/15 via-violet-500/5 to-transparent backdrop-blur-md border border-violet-400/25 rounded-xl p-4 shadow-lg ring-1 ring-violet-400/15",children:[o.jsxs("div",{className:"text-violet-300 font-semibold mb-3 text-sm flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-violet-400 rounded-full mr-2 animate-pulse"}),"Section Resources"]}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar",children:Object.entries(c.sectionBreakdown).map(([A,E])=>o.jsxs("div",{className:"bg-gradient-to-r from-white/10 to-white/5 border border-white/15 p-3 rounded-lg backdrop-blur-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"font-medium text-white text-sm",children:A.replace("BackgroundCanvas_","").replace("HeroCube","HomeCube").replace("EffectAvatar_","Avatar-")}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"bg-blue-500/30 text-blue-200 px-2 py-1 rounded-md text-xs font-mono border border-blue-400/30",children:E.count}),E.persistent>0&&o.jsxs("span",{className:"bg-green-500/30 text-green-200 px-2 py-1 rounded-md text-xs font-mono border border-green-400/30",children:["P:",E.persistent]})]})]}),o.jsxs("div",{className:"text-xs text-gray-400",children:["Last active: ",new Date(E.lastActive).toLocaleTimeString()]})]},A))})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-500/15 via-blue-500/5 to-transparent backdrop-blur-md border border-blue-400/25 rounded-xl p-3 shadow-lg ring-1 ring-blue-400/15",children:[o.jsx("div",{className:"text-blue-300 font-semibold text-sm mb-2",children:"Memory Usage"}),o.jsxs("div",{className:"text-xs text-blue-200/70",children:["JS Heap: ",(c==null?void 0:c.jsHeapSize)||0,"MB / ",(c==null?void 0:c.jsHeapLimit)||0,"MB"]})]})]}),H=()=>{const A=j();return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-cyan-500/20 via-cyan-500/10 to-transparent backdrop-blur-md border border-cyan-400/30 rounded-xl p-4 shadow-lg ring-1 ring-cyan-400/20",children:[o.jsxs("div",{className:"text-cyan-300 font-semibold mb-3 text-sm flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-cyan-400 rounded-full mr-2 animate-pulse"}),"Current Section"]}),o.jsx("div",{className:"text-white text-lg font-bold mb-2",children:(A==null?void 0:A.title)||(A==null?void 0:A.id)||"Unknown"}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"text-cyan-200/70",children:["Section ",u+1," of ",C.length]}),(A==null?void 0:A.backgroundEffect)&&o.jsxs("div",{className:"text-cyan-200/90 bg-cyan-500/20 px-2 py-1 rounded-md border border-cyan-400/30 inline-block",children:["Effect: ",A.backgroundEffect]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/15 via-emerald-500/5 to-transparent backdrop-blur-md border border-emerald-400/25 rounded-xl p-4 shadow-lg ring-1 ring-emerald-400/15",children:[o.jsxs("div",{className:"text-emerald-300 font-semibold mb-3 text-sm flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full mr-2 animate-pulse"}),"Section Navigation"]}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar",children:C.map((E,V)=>o.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border transition-all duration-200 ${V===u?"bg-gradient-to-r from-blue-500/30 to-blue-600/20 text-blue-200 border-blue-400/40 shadow-lg":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[o.jsx("span",{className:"truncate text-sm font-medium",children:E.title||E.id}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`w-2 h-2 rounded-full ${V===u?"bg-blue-400 animate-pulse":"bg-gray-500"}`}),o.jsx("span",{className:"text-xs font-mono bg-white/10 px-1 py-0.5 rounded",children:V+1})]})]},E.id))})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-500/15 via-purple-500/5 to-transparent backdrop-blur-md border border-purple-400/25 rounded-xl p-4 shadow-lg ring-1 ring-purple-400/15",children:[o.jsxs("div",{className:"text-purple-300 font-semibold mb-3 text-sm flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mr-2 animate-pulse"}),"Performance Snapshot"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2 border border-white/10",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"FPS"}),o.jsx("div",{className:"font-mono text-white font-bold text-lg",children:b.fps||0})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2 border border-white/10",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"WebGL Groups"}),o.jsx("div",{className:"font-mono text-white font-bold text-lg",children:(c==null?void 0:c.activeResourceGroups)||0})]})]})]})]})};return o.jsx("div",{className:`fixed top-4 right-4 z-[9999] transition-all duration-500 ease-out ${d?"w-12 h-12":"w-96 max-h-[600px]"}`,children:o.jsxs("div",{className:"bg-gradient-to-br from-white/15 via-white/10 to-white/5 backdrop-blur-xl border border-white/30 rounded-2xl text-white font-mono text-xs shadow-2xl shadow-black/20 ring-1 ring-white/20 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-white/10 to-transparent border-b border-white/20 backdrop-blur-sm",children:[!d&&o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded-full animate-pulse shadow-lg shadow-emerald-400/30"}),o.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-emerald-400/30 rounded-full animate-ping"})]}),o.jsx("span",{className:"text-emerald-300 font-semibold text-sm tracking-wide",children:"Performance Monitor"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>w(!d),className:"w-7 h-7 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded-lg text-gray-300 hover:text-white transition-all duration-200 backdrop-blur-sm border border-white/20 hover:border-white/40",title:d?"Expand Panel":"Collapse Panel",children:d?"📊":"➖"}),o.jsx("button",{onClick:t,className:"w-7 h-7 flex items-center justify-center bg-red-500/20 hover:bg-red-500/30 rounded-lg text-red-300 hover:text-red-200 transition-all duration-200 backdrop-blur-sm border border-red-500/30 hover:border-red-500/50",title:"Close Panel (Ctrl+M)",children:"✕"})]})]}),!d&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex bg-white/5 backdrop-blur-sm border-b border-white/10",children:x.map(A=>o.jsxs("button",{onClick:()=>i(A.id),className:`flex-1 px-4 py-3 text-sm font-medium transition-all duration-300 relative overflow-hidden ${e===A.id?"bg-gradient-to-b from-blue-500/30 to-blue-600/20 text-blue-200 shadow-lg":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[e===A.id&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-400 to-cyan-400 shadow-lg shadow-blue-400/50"}),A.label]},A.id))}),o.jsxs("div",{className:"p-4 max-h-96 overflow-y-auto custom-scrollbar",children:[e==="memory"&&k(),e==="webgl"&&T(),e==="sections"&&H()]}),o.jsx("div",{className:"p-3 bg-gradient-to-t from-white/10 to-transparent border-t border-white/20 backdrop-blur-sm",children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx("span",{className:"text-xs",children:"Press "}),o.jsx("kbd",{className:"inline-flex items-center px-2 py-1 bg-white/20 rounded-md text-xs font-mono border border-white/30 shadow-inner",children:"Ctrl+M"}),o.jsx("span",{className:"text-xs",children:" to toggle"})]})})]})]})})};et.propTypes={visible:Q.bool.isRequired,onToggle:Q.func.isRequired};const tt=l.createContext(),Zt=()=>{const r=l.useContext(tt);if(!r)throw new Error("usePhotoSwipe must be used within a PhotoSwipeProvider");return r},it=({children:r,language:t="en"})=>{const[e,i]=l.useState(!1),[n,s]=l.useState([]),[c,a]=l.useState(0),b=l.useRef(null),g=m=>new Promise(v=>{const u=new Image;u.onload=()=>{v({width:u.naturalWidth,height:u.naturalHeight,aspectRatio:u.naturalWidth/u.naturalHeight})},u.onerror=()=>{v({width:1200,height:800,aspectRatio:1.5})},u.crossOrigin="anonymous",u.src=m}),p={isOpen:e,images:n,initialIndex:c,openPhotoSwipe:async(m,v=0)=>{if(!m||m.length===0)return;s(m),a(v),i(!0);const u=m.map(C=>g(C.src||C.original));try{const C=await Promise.all(u),j=m.map((k,T)=>({src:k.src||k.original,width:C[T].width,height:C[T].height,alt:k.alt||k.title||`Image ${T+1}`,caption:k.caption,title:k.title,description:k.description}));b.current&&b.current.destroy();const x=new lt({dataSource:j,index:v,pswpModule:()=>ve(()=>import("./vendor-D2t9TNkl.js").then(k=>k.b),__vite__mapDeps([2,3,4,5])),bgOpacity:.95,spacing:.1,loop:!0,zoom:!0,showAnimationDuration:300,hideAnimationDuration:300,showHideAnimationType:"zoom",allowMouseDrag:!0,allowPanToNext:!0,allowSwipeToClose:!0,wheelToZoom:!0,imageClickAction:"close",tapAction:"close",doubleTapAction:"zoom",closeTitle:t==="zh"?"关闭":"Close",zoomTitle:t==="zh"?"缩放":"Zoom",arrowPrevTitle:t==="zh"?"上一张":"Previous",arrowNextTitle:t==="zh"?"下一张":"Next",errorMsg:t==="zh"?"图片无法加载":"The image cannot be loaded",pinchToClose:!0,closeOnVerticalDrag:!0,returnFocus:!1,padding:{top:40,bottom:40,left:20,right:20},preload:[1,2]});x.on("close",()=>{i(!1),s([]),a(0)}),x.on("uiRegister",()=>{x.pswp.ui.registerElement({name:"custom-counter",className:"pswp__custom-counter",appendTo:"top-bar",onInit:(k,T)=>{const H=()=>{k.textContent=`${T.currIndex+1} / ${T.getNumItems()}`};T.on("change",H),T.on("afterInit",H)}}),x.pswp.ui.registerElement({name:"download-button",className:"pswp__download-button",appendTo:"bar",onInit:(k,T)=>{k.innerHTML=`
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7,10 12,15 17,10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
              </svg>
            `,k.title=t==="zh"?"下载图片":"Download image",k.onclick=()=>{const H=j[T.currIndex];if(H){const A=document.createElement("a");A.href=H.src,A.download=`image_${T.currIndex+1}.jpg`,A.click()}}}})}),x.init(),x.loadAndOpen(v),b.current=x}catch(C){console.error("Error loading images for PhotoSwipe:",C),i(!1)}},closePhotoSwipe:()=>{b.current&&b.current.close()}};return o.jsxs(tt.Provider,{value:p,children:[r,o.jsx("style",{children:`
        .pswp__custom-counter {
          position: absolute;
          top: 20px;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0, 0, 0, 0.6);
          color: white;
          padding: 8px 16px;
          border-radius: 20px;
          font-size: 14px;
          font-weight: 500;
          backdrop-filter: blur(10px);
          z-index: 100;
        }
        
        .pswp__download-button {
          width: 44px;
          height: 44px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          color: #ffffff;
          transition: all 0.3s ease;
          border-radius: 50%;
        }
        
        .pswp__download-button:hover {
          background: rgba(255, 255, 255, 0.1);
          color: #60a5fa;
        }
        
        .pswp__bg {
          background: rgba(0, 0, 0, 0.95);
          backdrop-filter: blur(20px);
        }
        
        /* 修复光标问题 - 确保整个PhotoSwipe区域都有正确的光标 */
        .pswp,
        .pswp__container,
        .pswp__zoom-wrap {
          cursor: grab;
        }
        
        .pswp:active,
        .pswp__container:active,
        .pswp__zoom-wrap:active {
          cursor: grabbing;
        }
        
        /* 在图片上的光标 */
        .pswp__img {
          cursor: grab;
        }
        
        .pswp__img:active {
          cursor: grabbing;
        }
        
        .pswp__zoom-wrap {
          transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* 确保图片保持原始宽高比 */
        .pswp__img {
          object-fit: contain;
          width: 100%;
          height: 100%;
        }
        
        /* 移动端优化 */
        @media (max-width: 768px) {
          .pswp__custom-counter {
            top: 15px;
            padding: 6px 12px;
            font-size: 12px;
          }
          
          .pswp__download-button {
            width: 40px;
            height: 40px;
          }
          
          /* 确保触摸手势正常工作 */
          .pswp__container {
            touch-action: pan-x pan-y;
            user-select: none;
            -webkit-user-select: none;
          }
          
          .pswp__zoom-wrap {
            touch-action: manipulation;
          }
          
          /* 手势提示 */
          .pswp__ui--fit .pswp__top-bar::after {
            content: '${t==="zh"?"左右滑动切换 • 上下滑动关闭":"Swipe left/right to navigate • Swipe up/down to close"}';
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.7);
            font-size: 12px;
            white-space: nowrap;
            pointer-events: none;
            opacity: 1;
            transition: opacity 0.3s ease;
          }
          
          .pswp__ui--fit .pswp__top-bar:not(:hover)::after {
            animation: fadeInOut 3s ease-in-out;
          }
        }
        
        @keyframes fadeInOut {
          0%, 100% { opacity: 0; }
          15%, 85% { opacity: 1; }
        }
        
        /* 加载动画 */
        .pswp__preloader__icn {
          background: conic-gradient(from 0deg, transparent, #60a5fa);
          border-radius: 50%;
          mask: radial-gradient(circle at center, transparent 40%, black 41%);
        }
      `})]})};it.propTypes={children:Q.node.isRequired,language:Q.string};Q.string.isRequired,Q.string,Q.string,Q.string,Q.string,Q.node,Q.array;const Wt=()=>{const[r,t]=l.useState(!1),e=!1,i=l.useCallback(()=>{},[e]),n=l.useCallback(()=>{t(!1)},[]),s=l.useCallback(()=>{},[e]);return l.useEffect(()=>{},[e,r,i,n]),e?{isVisible:r,toggle:i,hide:n,show:s,isDev:e}:{isVisible:!1,toggle:()=>{},hide:()=>{},show:()=>{},isDev:!1}},Gt=()=>{const r=Wt(),{language:t}=be();return Je(),o.jsx(Ke,{children:o.jsx(it,{children:o.jsxs("div",{className:"App min-h-screen",children:[o.jsx(Ot,{}),o.jsx(Qe,{language:t}),o.jsx(Ft,{}),o.jsx(Bt,{}),r.isDev&&o.jsx(et,{visible:r.isVisible,onToggle:r.toggle})]})})})};function Ae(){const r=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${r}px`),document.documentElement.style.setProperty("--vh-fallback",`${window.innerHeight}px`),CSS.supports("height","100dvh")||document.documentElement.style.setProperty("--dvh-fallback",`${window.innerHeight}px`)}function Ht(){Ae();let r;if(window.addEventListener("resize",()=>{clearTimeout(r),r=setTimeout(Ae,100)}),screen.orientation?screen.orientation.addEventListener("change",()=>{setTimeout(Ae,200)}):window.addEventListener("orientationchange",()=>{setTimeout(Ae,200)}),/iPhone|iPad|iPod/.test(navigator.userAgent)){let t;window.addEventListener("scroll",()=>{clearTimeout(t),t=setTimeout(Ae,150)},{passive:!0})}}Ht();at.createRoot(document.getElementById("root")).render(o.jsx(l.StrictMode,{children:o.jsx(Gt,{})}));export{ve as _,Je as a,Zt as b,be as u,q as w};
